<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[2018å¹´ç»ˆæ€»ç»“]]></title>
    <url>%2F2018%2F12%2F30%2F2018%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[æ—¶å…‰èè‹’ï¼Œæ—¥æœˆå¦‚æ¢­ï¼Œä¸çŸ¥ä¸è§‰æˆ‘ä»¬å·²ç»èµ°åˆ°äº† 2018 å¹´çš„å°½å¤´ã€‚ å·¥ä½œ 2018 å¹´æ˜¯æˆ‘èŒä¸šç”Ÿæ¶¯çš„ç¬¬äºŒå¹´ï¼Œå´æ˜¯åœ¨ä¸‰æ˜“çš„æ–°å¼€å§‹ã€‚å¹´åˆçš„æ—¶å€™ï¼Œå…¬å¸çš„ä¸€åˆ‡å¯¹æˆ‘æ¥è¯´éƒ½æ˜¯é‚£ä¹ˆé™Œç”Ÿï¼Œæˆ‘çš„ç›®æ ‡å°±æ˜¯èƒ½å°½å¿«çš„è·Ÿå¤§å®¶ä¼™æ··ä¸ªè„¸ç†Ÿã€‚ç„¶è€Œäº‹ä¸Žæ„¿è¿ï¼Œç”±äºŽå·¥ä½ä¸è¶³ï¼Œæˆ‘åªèƒ½è¢«å®‰æŽ’åœ¨å…¶ä»–é¡¹ç›®ç»„çš„åŠžå…¬å®¤é‡Œé¢è¿›è¡Œå·¥ä½œï¼Œè™½è¯´å¹³æ—¶è·Ÿé™„è¿‘çš„åŒåƒšä»¬ä¹Ÿä¼šèŠä¸Šå‡ å¥ï¼Œä½†ç”±äºŽå·¥ä½œå†…å®¹å¹¶æ— äº¤é›†ï¼Œæ‰€ä»¥å¹¶æ²¡æ“¦å‡ºæœ‰å¤šå°‘ç«èŠ±ã€‚ å¹¸è¿çš„æ˜¯åŽæ¥é‡æ–°ç¼–æŽ’äº†åº§ä½ï¼Œæ²Ÿé€šç»ˆäºŽæ–¹ä¾¿äº†ï¼Œå†åŠ ä¸Šå¤§å®¶åŠ äº†å‡ æ¬¡ç­ï¼Œå‹è°Šçš„å°èˆ¹æ…¢æ…¢åœ¨å˜å¤§ã€‚æ²Ÿé€šæ–¹ä¾¿äº†ï¼Œé‚£å¾ˆå¤šäº‹æƒ…åšèµ·æ¥éƒ½é¡ºç•…äº†å¾ˆå¤šï¼Œä¾‹å¦‚å¯¹äº§å“éœ€æ±‚çš„ç–‘é—®ï¼Œå¯¹ä»£ç çš„çš„ç–‘é—®ï¼Œéƒ½èƒ½å¤Ÿå¾ˆå¿«çš„å¾—åˆ°è§£ç­”ã€‚ä¼¼ä¹Žæ‰€æœ‰äº‹æƒ…çœ‹èµ·æ¥éƒ½é‚£ä¹ˆäº•äº•æœ‰æ¡ï¼Œå…¬å¸çš„ä¸šåŠ¡ä¹Ÿåœ¨ä¸æ–­å‘å±•ï¼Œé¡¹ç›®ç»„çš„äººæ•°ä¹Ÿåœ¨å™Œå™Œçš„å¾€ä¸Šæ¶¨ã€‚ åœ¨ 2018 å¹´çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æœ€ä¸»è¦çš„ä»»åŠ¡å°±æ˜¯å®Œæˆæ–°éœ€æ±‚çš„å¼€å‘ä»¥åŠä¿®å¤ BUG ï¼Œè€Œè®©æˆ‘å°è±¡æ·±åˆ»çš„ä»»åŠ¡æˆ–è€…ç´§æ€¥äº‹ä»¶ä¸»è¦æœ‰ä»¥ä¸‹è¿™äº›ï¼š æŠ½å¥–æ´»åŠ¨äº‹æ•… å¾®ä¿¡æŽ¨æ–‡å®šæ—¶æŽ¨é€ ç‰¹æ®Šçš„ UV ç»Ÿè®¡ ä¹‹æ‰€ä»¥å°è±¡æ·±åˆ»å¿…ç„¶æ˜¯å› ä¸ºå®ƒä»¬æœ‰ç‰¹æ®Šä¹‹å¤„ã€‚å°±ä¾‹å¦‚äº‹æ•…1å‘ç”Ÿçš„é‚£å¤©ï¼Œè´Ÿè´£è¯¥é¡¹ç›®çš„åŒäº‹å› ä¸ºè¿žå¤œèµ¶å·¥è°ƒäº†ä¼‘ï¼Œç„¶åŽç”±æˆ‘æ¥è´Ÿè´£è¿½è¸ªé—®é¢˜ã€‚èŽ·å–é¡¹ç›®æƒé™ï¼Œç†æ¸…é¡¹ç›®ç»“æž„ï¼Œå†äº†è§£å®Œå¤§æ¦‚æµç¨‹æ‰çœŸæ­£å¼€å§‹å¯»æ‰¾é—®é¢˜ï¼ŒèŠ±è´¹äº†å¾ˆå¤šä¸å¿…è¦æ˜¯æ—¶é—´ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°äº†å³ä½¿é¡¹ç›®å†å°ï¼Œä¹Ÿè¦æå‰åˆ†é…åŽå‹¤äººå‘˜ï¼Œæ‰èƒ½ä»¥é˜²ä¸‡ä¸€ã€‚ è€Œä»»åŠ¡2ã€3çš„ç‰¹æ®Šæ€§åœ¨äºŽæˆ‘è€ƒè™‘è¿™äº›ä»»åŠ¡çš„è§£å†³æ–¹æ¡ˆçš„æ—¶å€™ï¼Œèƒ½å¤Ÿè·³å‡ºè‡ªå·±æ—§çš„çŸ¥è¯†ä½“ç³»ï¼ŒåŽ»äº†è§£æ›´å¤šçš„æ–¹æ³•å’Œæ•°æ®ç»“æž„ï¼Œä»¥åŠå¦‚ä½•çµæ´»çš„è§£å†³é—®é¢˜ã€‚æˆ‘æ¸…æ¥šçš„çŸ¥é“å³ä½¿æˆ‘ç”¨å·²æŽŒæ¡çš„çŸ¥è¯†ä¹Ÿèƒ½å¤Ÿå®žçŽ°è¿™äº›åŠŸèƒ½ï¼Œä½†æ˜¯æˆ‘æ›´çŸ¥é“èƒ½å¤Ÿå®žçŽ°å’Œä¼˜é›…çš„å®žçŽ°å¹¶ä¸æ˜¯ä¸€å›žäº‹ï¼Œå®ƒä»¬æ‰€è€ƒè™‘çš„ä¸œè¥¿ä¸æ­¢å·®ä¸€ä¸åŠç‚¹ã€‚ æ— è®ºæ˜¯ä»»åŠ¡è¿˜æ˜¯äº‹æ•…ï¼Œæ˜Žé¢ä¸Šæ˜¯è€ƒéªŒè§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œä½†æ˜¯æš—åœ°é‡Œæ ¡éªŒç€äººçš„å†³ç­–èƒ½åŠ›ã€‚è§£å†³é—®é¢˜çš„æ–¹æ¡ˆæœ‰å¾ˆå¤šç§ï¼Œæœ‰çš„äººä¼šåŽ»æ‰¾è½®å­ï¼Œè€Œæœ‰çš„äººä¼šæ”¹è½®å­ï¼Œè¿˜æœ‰çš„äººä¼šå†™è½®å­ï¼Œæ²¡æœ‰å­°ä¼˜å­°åŠ£çš„è¯´æ³•ï¼Œåªæœ‰åˆé€‚ä¸Žå¦ã€‚åˆé€‚ä¸Žå¦åˆè¦è€ƒè™‘åˆ°å¾ˆå¤šå› ç´ ï¼Œæ—¶æ•ˆã€æˆæœ¬ã€æ‹“å±•ã€æ€§èƒ½ã€å®‰å…¨ç­‰ï¼Œæ‰€ä»¥ä½ æœ€ç»ˆé€‰æ‹©çš„æ–¹æ¡ˆä»£è¡¨äº†ä½ æ‰€æœ‰çš„æ€è€ƒã€‚ è®¡åˆ’ å›žé¦– 2018 ï¼Œæˆ‘åœ¨å¹´åˆç»™è‡ªå·±å®šä¸‹äº†å‡ ä¸ªè®¡åˆ’ï¼š åŠªåŠ›å­¦ä¹ ï¼Œè®¤çœŸå·¥ä½œï¼Œå­¦ä»¥è‡´ç”¨ï¼ˆ1/1ï¼‰ ä¿æŒæ—¥å¸¸è®°å½•ç¬”è®°å’Œæ¸©ä¹ çš„ä¹ æƒ¯ï¼ˆ1/1ï¼‰ å¸Œæœ›è¾“å…¥ä¹‹ä½™ä¹Ÿèƒ½å¤Ÿå¯¹å¤–è¾“å‡ºçŸ¥è¯†ï¼ˆ1/1ï¼‰ å¤ä¹ é«˜ç­‰æ•°å­¦ã€çº¿æ€§ä»£æ•°ç­‰åŸºç¡€çŸ¥è¯†ï¼ˆ1/2ï¼‰ é‡æ–°å•ƒä¸€éæ“ä½œç³»ç»Ÿï¼Œäº‰å–çœ‹æ‡‚50%å¹¶å®žè·µï¼ˆ0/1ï¼‰ å‡å¦‚å­¦æœ‰ä½™åŠ›ï¼Œå¸Œæœ›å¯ä»¥æ‘¸ä¸€ä¸‹AIæŠ€æœ¯çš„å¤§é—¨ï¼ˆ0/1ï¼‰ å‰äº›å¹´ä¹°äº†å¾ˆå¤šä¹¦æ²¡çœ‹ï¼Œäº‰å–ä»Šå¹´è¯»é€2æœ¬æŠ€æœ¯ç›¸å…³ä¹¦ç±ï¼ˆ0.5/2ï¼‰ è®¡åˆ’çœ‹ä¸ŠåŽ»ååˆ†çš„é¥±æ»¡è€Œå……å®žï¼Œä½†æ˜¯æœ‰å¥å¤è¯è¯´å¾—å¥½ï¼šè®¡åˆ’èµ¶ä¸ä¸Šå˜åŒ–ï¼Œæ‰€ä»¥ä¸Šé¢ä¸€äº›çš„æ¯”è¾ƒç»†ç²’åº¦çš„è®¡åˆ’å¹¶æ²¡æœ‰æ‰§è¡Œå¾—å¾ˆå¥½ðŸ˜‚ã€‚å¦‚å¤§å®¶æ‰€è§æ¯æ¡è®¡åˆ’åŽé¢çš„æ¯”ä¾‹å°±æ˜¯å®Œæˆåº¦ï¼Œå®žé™…ä¸Šå› ä¸ºè§‰å¾—ç¬¬4ç‚¹å’Œç¬¬6ç‚¹åœ¨çŸ­æœŸå†…å¯¹ä¸ªäººçš„æå‡æ¥è¯´ä¸ä¼šæœ‰å¤ªå¤§ä½œç”¨ï¼Œæ‰€ä»¥ä¸­é€”å†³å®šæš‚åœäº†è¿™ä¸¤é¡¹è®¡åˆ’ã€‚ä½†æ˜¯æˆ‘è®¤ä¸ºä¹Ÿå¹¶æ²¡æœ‰æµªè´¹äº†4ã€5ã€6ã€7ç‚¹è®¡åˆ’çš„æ—¶é—´åœ¨æ¯«æ— ç”¨å¤„çš„åœ°æ–¹ä¸Šé¢ï¼Œè€Œæ˜¯å°†å®ƒä»¬ç”¨åœ¨äº†å…¶ä»–çš„ä¸€äº›çš„è®¡åˆ’ä¸Šé¢ï¼š ä¿æŒæ¯å¤©ä¸€å®šçš„è¿åŠ¨é‡ï¼ˆ207/273ï¼‰ é™¤äº†èº«ä½“çš„è¿åŠ¨è„‘å­ä¹Ÿè¦è¿åŠ¨ï¼Œæ•°å­¦é¢˜æˆ–ç®—æ³•é¢˜éƒ½èƒ½å¸®åˆ°æˆ‘ï¼ˆ1/1ï¼‰ åŠ å…¥å­¦ä¹ è‹±è¯­æ‰“å¡é˜Ÿä¼ï¼Œæ‰©å……è¯æ±‡é‡ï¼Œå¸Œæœ›æ—¥åŽèƒ½å¤Ÿæ¯”è¾ƒæµç•…çš„äº¤æµï¼ˆ120/121ï¼‰ è¿™éƒ¨åˆ†çš„è®¡åˆ’å‡ ä¹Žéƒ½æ˜¯å¹´ä¸­æ‰å†³å®šçš„ï¼Œå†³å®šé‡æ‹¾è¿åŠ¨çš„è®¡åˆ’æ˜¯å› ä¸ºæ˜“èƒ–å’Œé£Ÿç¥žä½“è´¨çš„æˆ‘è‡ªä»ŽåŽ»å¹´åœæ­¢äº†è¿åŠ¨ä¹‹åŽå·²ç»é‡äº†äºŒåå¤šæ–¤äº†ï¼Œæœ€é‡è¦çš„æ˜¯å†èƒ–ä¸‹åŽ»ä¼šå½±å“åˆ°èº«ä½“å¥åº·ã€‚è€Œç¬¬äºŒç‚¹æ˜¯å› ä¸ºåœ¨çœ‹æŠ€æœ¯æ–‡ç« çš„æ—¶å€™ï¼Œå‘çŽ°æœ‰æ—¶å€™ä¼šå¡åœ¨è§£å†³æ€è·¯å’Œæ•°æ®ç»“æž„é‡Œé¢ä¸èƒ½ç†è§£ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºæœ€å¥½çš„æ–¹æ³•å°±æ˜¯å¤šçœ‹å¤šç»ƒå¤šåŠ¨è„‘ã€‚è€Œç¬¬ä¸‰ç‚¹åˆ™æ˜¯è€åŒå­¦æƒ³æ‰¾äººä¸€èµ·æ‰¿æ‹…ä¸€äº›è¯¾ç¨‹å¥—é¤çš„ quota ï¼Œå› ä¸ºä¸€ä¸ªäººå¾ˆéš¾åœ¨é™å®šæ—¶é—´å†…ç”¨å®Œæ‰€æœ‰çš„ quota ï¼Œæˆ‘è€ƒè™‘äº†ä¸€ä¸‹å°±åŠ å…¥åˆ°é˜Ÿä¼é‡Œé¢åŽ»äº†ã€‚ ç›®æ ‡ ä¸Šé¢ä¸»è¦é™ˆè¿°çš„æ˜¯ä»Šå¹´çš„ä¸€äº›è®¡åˆ’ï¼Œä½†å‡¡è¯´åˆ°è®¡åˆ’ï¼Œå°±ä¸èƒ½æ²¡æœ‰ç›®æ ‡ï¼Œæ²¡æœ‰è®¡åˆ’çš„ç›®æ ‡æ˜¯ç©ºæƒ³ï¼Œæ²¡æœ‰ç›®æ ‡çš„è®¡åˆ’æ˜¯çžŽåšã€‚è™½è¯´æœ€ç»ˆçš„ç›®æ ‡è‚¯å®šæ˜¯è‡ªèº«çš„æˆé•¿å’Œä»·å€¼çš„ä½“çŽ°ï¼Œä½†æ˜¯å®žé™…ä¸Šä¸€å¹´æ—¶é—´è¯´å¤šè¿˜çœŸä¸å¤šï¼Œæƒ³è¦è¯´å®žçŽ°äº†è¿™ä¹ˆæ³›è€Œå®å¤§çš„ç›®æ ‡æ˜¯ä¸åˆ‡å®žé™…çš„ï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™é‡Œå½’çº³æ€»ç»“ï¼Œå¸Œæœ›èƒ½æç»˜å‡ºé€šå¾€æœ€ç»ˆç›®æ ‡è·¯ä¸Šçš„å·²å®Œæˆçš„ä¸€äº›å°ç›®æ ‡ï¼š ä¹è§‚ã€ç§¯æžå‘ä¸Šçš„ç”Ÿæ´»çŠ¶æ€ï¼Œäº«å—ç”Ÿæ´»ï¼Œçˆ±æˆ‘æ‰€çˆ± å­¦ä¹ ä¸åœç•™åœ¨åº”ç”¨å±‚é¢ï¼Œå¸Œæœ›èƒ½æ·±å…¥å¼„æ‡‚å†…åœ¨çš„åŽŸç†å’Œå®žçŽ°æ–¹å¼ é€ ä¸€äº›è½®å­ï¼Œå°½ç®¡å¯èƒ½ä¸å¤Ÿåˆ«äººçš„å¥½ï¼Œä½†ä½ çš„è½®å­ä¹Ÿèƒ½æœ‰è‡ªå·±çš„ç‰¹è‰² åœ¨è‚¥èƒ–çš„é“è·¯ä¸Šåœä¸‹äº†è„šæ­¥ï¼Œå¸Œæœ›èƒ½é‡æ–°è¸ä¸Šå¥åº·çš„å¤§é“ è‹±è¯­è¯æ±‡é‡æœ‰ä¸€å®šçš„æå‡ï¼Œæ²Ÿé€šäº¤æµä¸Šæœ‰è¾ƒä¸ºæ˜Žæ˜¾çš„è¿›æ­¥ ä»¥ä¸Šäº”ç‚¹çš†ä¸ºæˆ‘è®¤ä¸ºåœ¨ 2018 å¹´è¾¾åˆ°äº†çš„ä¸€äº›å°ç›®æ ‡ï¼Œå¤§éƒ¨åˆ†æ˜¯å­¦ä¹ ç›¸å…³çš„ç›®æ ‡ï¼Œè€Œåªæœ‰ç¬¬ä¸€ç‚¹æ˜¯å…³äºŽç”Ÿæ´»çš„ã€‚è¯´å®žè¯å…³äºŽ 2018 ç”Ÿæ´»æ–¹é¢çš„æ€»ç»“å¥½åƒæ˜¯æŒ¤ä¸å‡ºåˆ«çš„ä¸œè¥¿äº†ï¼Œå› ä¸ºç›¸æ¯”åŽ»å¹´æ›´å¤šçš„æ—¶é—´éƒ½æ˜¯å®…åœ¨å®¶é‡Œï¼Œè·ŸåŒå­¦æœ‹å‹è”ç»œä¹Ÿä¸ç®—å°‘ï¼Œä½†ç»å¤§å¤šæ•°éƒ½æ˜¯åœ¨å¼€é»‘è¯­éŸ³ä¸Šé¢ðŸ˜‚ã€‚ æœªæ¥ ä»¥ä¸Šå°±æ˜¯æˆ‘å¯¹äºŽ 2018 å¹´çš„æ€»ç»“ï¼Œæœ‰è¿›æ­¥ï¼Œä¹Ÿæœ‰ä¸è¶³ã€‚è€Œå¯¹äºŽ 2019 ï¼Œæˆ‘æœ‰ä»¥ä¸‹å‡ ç‚¹å±•æœ›ï¼š æŒç»­å­¦ä¹ ï¼Œä¸è¦ç»™è‡ªå·±è®¾å®šè¾¹ç•Œï¼Œå­¦æ— æ­¢å¢ƒ åŠ å¼ºå¤–äº¤ï¼Œä¸èƒ½ä»…ä»…åœ¨ç½‘ç»œäº¤æµï¼Œè¦æ¥å°±æ¥çœŸçš„ é˜…è§ˆç¾¤ä¹¦ï¼Œä¸æ­¢äºŽæŠ€æœ¯ç›¸å…³ä¹¦ç±ï¼Œæ›´å¤šçš„äº†è§£æŠ€æœ¯ä¹‹å¤–çš„ä¸–ç•Œ å…³äºŽ 2018 å¹´ï¼Œä¸§çš„äº‹æƒ…æœ‰åƒåƒä¸‡ï¼Œæˆ‘éƒ½ä¸åœ¨æ–‡ä¸­æåŠã€‚ Life is like a roller coasterï¼Œæ€»æ˜¯èµ·èµ·è½è½è½è½è½è½ã€‚ä½†ï¼Œå¡žç¿å¤±é©¬ç„‰çŸ¥éžç¦ã€‚æˆ‘ä»¬åªç®¡é£Žé›¨å…¼ç¨‹ï¼Œæ—¶é—´ä¼šç»™å‡ºæœ€åŽçš„ç­”æ¡ˆã€‚ å®Œã€‚]]></content>
      <categories>
        <category>æ€»ç»“</category>
      </categories>
      <tags>
        <tag>summary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redisä¹‹ç¥žå¥‡çš„HyperLogLog]]></title>
    <url>%2F2018%2F11%2F18%2FRedis%E4%B9%8B%E7%A5%9E%E5%A5%87%E7%9A%84HyperLogLog%2F</url>
    <content type="text"><![CDATA[è¿™ç¯‡ç¬”è®°æƒ³ç å¾ˆä¹…äº†ï¼ŒäºŽæ˜¯ä»Šå¤©ç å®Œä¸Šä¸€ç¯‡äºŒç»´ç çš„æ–‡ç« åŽç«‹é©¬å…ˆå ä¸ªå‘ï¼Œå…å¾—åŽé¢åˆè¢«å…¶ä»–é¢˜æå†²æŽ‰äº†ã€‚ åœ¨æŸä¸€å¤©å¼€å®Œäº†éœ€æ±‚ä¼šè®®ä¹‹åŽï¼Œæˆ‘æ–°çš„å·¥ä½œä»»åŠ¡ä¸­åŒ…å«äº†ä¸€é¡¹ç»Ÿè®¡æµè§ˆé‡çš„ä»»åŠ¡ã€‚å…³äºŽè¿™é¡¹ä»»åŠ¡çš„è¯¦ç»†éœ€æ±‚å¤§è‡´å¦‚ä¸‹ï¼š æ¯ä¸ªç”¨æˆ·ï¼ˆuser_idï¼‰æ¯å¤©æµè§ˆè¿‡è¯¥æ•°æ®(1~næ¬¡)ç®—ä¸€ä¸ªå•ä½æµè§ˆé‡ èƒ½å¤Ÿç»Ÿè®¡æ¯æ¡æ•°æ®ä¸€ç›´ä»¥æ¥æ€»çš„æµè§ˆé‡ èƒ½å¤Ÿå¾—å‡º15å¤©å†…çš„æŒ‰æµè§ˆé‡æŽ’åºæ€»æŽ’è¡Œæ¦œå’Œåœ°åŒºæŽ’è¡Œæ¦œ èƒ½å¤Ÿå¾—å‡º15å¤©å†…çš„å®žé™…çš„UVæ€»æŽ’è¡Œæ¦œå’Œåœ°åŒºæŽ’è¡Œæ¦œ å…è®¸å­˜åœ¨æ•°åˆ†é’Ÿçš„æ•°æ®æ›´æ–°å»¶è¿Ÿ å…è®¸å‡ºçŽ°å°ç¨‹åº¦è¯¯å·® ç”±äºŽæ€•æ¦‚å¿µæœ‰ç‚¹æ··æ·†ï¼Œæ‰€ä»¥æˆ‘è¿™ç¯‡æ–‡ç« é‡Œå°†ä»¥ä¸€å¤©ä¸ºå•ä½çš„UVç§°ä¸ºæµè§ˆé‡ï¼Œå°†ä»¥15å¤©ä¸ºå•ä½çš„UVç§°ä¸ºUV ç›¸ä¿¡å¤§å®¶çœ‹åˆ°ä¸Šé¢åˆ—å‡ºçš„è¦ç‚¹åŽä¹Ÿè¿›è¡Œäº†ä¸€è½®æ€è€ƒï¼Œä¸çŸ¥é“å¤§å®¶æ˜¯å¦ç†è§£äº†æµè§ˆé‡å’ŒUVçš„æ¦‚å¿µã€‚æˆ–è®¸å¤§å®¶èƒ½å¤Ÿæƒ³åˆ°å¾ˆå¤šç§æ–¹æ¡ˆï¼Œä¸ç®¡æ˜¯è½»æ·çš„ã€å¤æ‚çš„ã€å¸¸è§„çš„è¿˜æ˜¯éªšæ°”çš„ï¼Œéƒ½å¸Œæœ›å¤§å®¶å¯ä»¥åˆ†äº«ä¸€ä¸‹ï¼Œè€Œæˆ‘åœ¨æ­¤ä¹Ÿåˆ†äº«ä¸€ä¸‹è‡ªå·±çš„æ€è·¯ä»¥åŠå®žçŽ°è¿‡ç¨‹ã€‚ ä»Žæ ‡é¢˜ä¸­å°±å¯ä»¥çœ‹åˆ°ï¼Œæœ¬æ–‡å°†ä½¿ç”¨åˆ°Redisï¼Œä»¥åŠRedisæ–°æ”¯æŒçš„ä¸€ç§æ•°æ®ç±»åž‹HyperLogLogã€‚å®žé™…ä¸Šä¸€å¼€å§‹æˆ‘å¹¶ä¸æ¸…æ¥šHyperLogLogçš„ä½¿ç”¨æ–¹æ³•ï¼Œä½†æ˜¯ä»Žéœ€æ±‚å‡ºå‘ï¼Œæœ‰åºé›†åˆSortedSetæ˜¯éœ€è¦çš„ï¼Œè€Œå‰©ä¸‹çš„æ­¥éª¤ï¼Œå°±çœ‹è‡ªå·±å¯¹Redisçš„ç†è§£èƒ½ä¸èƒ½éªšå‡ºç‚¹ä¸œè¥¿æ¥äº†ã€‚ ç”±äºŽRedisçš„ç‰¹æ€§ï¼Œæˆ‘è®¤ä¸ºå®ƒèƒ½å¤Ÿæˆä¸ºä¸€ä¸ªå¾ˆå¥½çš„ä¸­è½¬ç«™ï¼Œä½†ä¸åº”è¯¥æ˜¯ä¸€ä¸ªä»“åº“ï¼Œæ‰€ä»¥æ€»çš„æµè§ˆé‡æˆ‘æœ€ç»ˆä¼šé€‰æ‹©å­˜å‚¨åˆ°Mysqlç­‰å…³ç³»åž‹æ•°æ®åº“ä¸­ï¼Œè€ŒRedisç¼“å­˜ä¸‹æ¥çš„ï¼Œåˆ™æ˜¯15å¤©å†…çš„æ•°æ®ã€‚å‡è®¾æˆ‘ä»¬çš„SortedSetä¸­å­˜å‚¨çš„æ˜¯æ±‡æ€»äº†15å¤©å†…çš„æµè§ˆé‡æ•°æ®ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬å¦‚ä½•è®¡ç®—å¾—å‡ºæ€»æµè§ˆé‡ã€‚å¦‚æˆ‘ä»¬å®šæ—¶å°†ç¼“å­˜æ•°æ®å­˜å…¥Mysqlï¼Œè€ŒMysqlä¸­æˆ‘ä»¬åªç”¨ä¸€ä¸ªå­—æ®µå­˜å‚¨è¿™ä¸ªæ€»æµè§ˆé‡ï¼Œé‚£ä¹ˆé‚£ä¹ˆæˆ‘ä»¬åœ¨ç¬¬16å¤©çš„æ—¶å€™ï¼Œæ€»æµè§ˆé‡å°±ä¼šä¸¢å¤±æŽ‰ç¬¬ä¸€å¤©çš„æ•°æ®ã€‚æ‰€ä»¥æˆ‘åœ¨è¿™é‡Œä½¿ç”¨äº†ä¸‰ä¸ªå­—æ®µæ¥ååŠ©æ€»æµè§ˆé‡çš„å­˜å‚¨ï¼Œä¸€ä¸ªæ˜¯å½“å¤©æµè§ˆé‡ï¼Œç¬¬äºŒä¸ªæ˜¯ä»Šå¤©å‰çš„æ€»æµè§ˆé‡ï¼Œå‰©ä¸‹ä¸€ä¸ªæ˜¯ç¼“å­˜æ›´æ–°æ—¶é—´ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œä¸‹é¢æˆ‘ä»¬ä¼šå°†ï¼š æ€»æµè§ˆé‡ç§°ä¸ºtotal_view å½“å¤©æµè§ˆé‡ç§°ä¸ºday_view ä»Šå¤©å‰çš„æ€»æµè§ˆé‡ç§°ä¸ºtotal_view_bt ç¼“å­˜æ›´æ–°æ—¶é—´ç§°ä¸ºcache_update_time æ‰€ä»¥æœ€ç»ˆæˆ‘ä»¬çš„total_view = day_view + total_view_btï¼Œå½“å®šæ—¶æ›´æ–°æ•°æ®åº“æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æžœå½“å‰æ—¶é—´è·Ÿcache_update_timeæ˜¯åŒä¸€å¤©ï¼Œåˆ™åªæ›´æ–°day_viewå€¼ï¼Œå¦‚æžœä¸æ˜¯åŒä¸€å¤©ï¼Œåˆ™ä¼šå…ˆå°†total_view_btæ›´æ–°ä¸ºtotal_view_bt + day_viewï¼Œç„¶åŽå†å°†day_viewæ›¿æ¢ä¸ºRedisä¸­çš„å½“å¤©æµè§ˆé‡æ•°æ®ã€‚ è¿™æ ·æˆ‘ä»¬Mysqlçš„æ€»æµè§ˆé‡å­˜å‚¨æ˜¯æžå®šäº†ï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦ç”¨Rediså­˜å‚¨å¥½è¿™15å¤©çš„æµè§ˆé‡äº†ï¼Œé‚£è¿™æ¯å¤©çš„æ•°æ®æˆ‘ä»¬åº”è¯¥ç”¨ä»€ä¹ˆç»“æž„åŽ»å­˜å‚¨å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥å›žé¡¾ä¸€ä¸‹éœ€æ±‚ï¼Œé¦–å…ˆæˆ‘ä»¬çš„éœ€æ±‚åªéœ€è¦ç»Ÿè®¡æµè§ˆé‡ï¼Œè€Œä¸éœ€è¦çŸ¥é“è¿™ä¸ªæ•°æ®å…·ä½“è¢«å“ªäº›ç”¨æˆ·æµè§ˆè¿‡ï¼Œé‚£ä¹ˆå°±æ˜¯è¯´æ˜Žæˆ‘ä»¬ä¸éœ€è¦çŸ¥é“æˆ‘å­˜å‚¨çš„å®žé™…å†…å®¹ï¼Œè€Œå¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯æœ€è¿‘15å¤©çš„æ•°æ®ï¼Œè€Œ15å¤©å‰çš„æ•°æ®å·²è¢«å­˜å‚¨åˆ°Mysqlä¸­ï¼Œæ‰€ä»¥ç¬¬1å¤©çš„æ•°æ®åº”è¯¥åœ¨ç¬¬16å¤©å‡Œæ™¨å°±è¿‡æœŸäº†ã€‚ ç»ˆä¸Šæ‰€è¯‰ï¼Œåœ¨å¤§å®¶éƒ½ç†Ÿæ‚‰çš„Redisäº”ç§æ•°æ®ç±»åž‹ä¸­ï¼Œèƒ½æ»¡è¶³éœ€æ±‚çš„ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºåªæœ‰SortedSetæ˜¯æ¯”è¾ƒç¬¦åˆçš„ï¼ˆæ³¨æ„è¿™é‡Œçš„SortedSetè·Ÿä¸Šé¢æ±‡æ€»çš„SortedSetä¸æ˜¯åŒä¸€ä¸ªï¼‰ã€‚å¦‚æžœä½¿ç”¨SortedSetï¼Œæˆ‘æƒ³åˆ°ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯ä»¥data_id + user_id + dayä½œä¸ºSortedSeté‡Œé¢å…ƒç´ çš„é”®ï¼Œä»¥è¿‡æœŸæ—¶é—´ä½œä¸ºscoreé€šè¿‡å®šæ—¶ä»»åŠ¡å‰”é™¤è¿‡æœŸæ•°æ®ï¼›å¦å¤–ä¸€ç§æ˜¯ä½¿ç”¨data_id + dayä½œä¸ºé”®ï¼Œå³ä¸€ä¸ªæ•°æ®å­˜å‚¨15ä¸ªSortedSetï¼Œç„¶åŽå†å•ç‹¬è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚ä½†æ˜¯ä¸Šè¿°ä¸¤ç§æ–¹æ¡ˆéƒ½å­˜åœ¨ä¸€äº›æ¯”è¾ƒéº»çƒ¦çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼š æ–¹æ¡ˆä¸€éœ€è¦ä»£ç ç»´æŠ¤SortedSetï¼›æ–¹æ¡ˆäºŒéœ€è¦å¤æ‚çš„åŽ»é‡ç»Ÿè®¡UV æ–¹æ¡ˆä¸€å’Œæ–¹æ¡ˆäºŒéƒ½éœ€è¦ä¸€æ¬¡æ€§èŽ·å–å…¨éƒ¨æ•°æ®è¿›è¡Œç»Ÿè®¡æµè§ˆé‡ä»¥åŠæŽ’åº SortedSetçš„æ’å…¥éœ€è¦O(N)çš„æ—¶é—´å¤æ‚åº¦ï¼Œå½±å“æ•ˆçŽ‡ æˆ‘ä»¬å®Œå…¨ä¸éœ€è¦çŸ¥é“æˆ‘å­˜å‚¨çš„å®žé™…å†…å®¹ï¼Œä½¿ç”¨SortedSetæ¯”è¾ƒæµªè´¹ç©ºé—´ è®¤çœŸçš„æ€è€ƒè¿‡åŽå‘çŽ°å­˜åœ¨è¾ƒå¤šçš„é—®é¢˜ï¼Œé‚£åˆ°åº•è¿˜æœ‰æ²¡æœ‰å…¶ä»–æ¯”è¾ƒå¥½çš„æ–¹æ¡ˆå¯ä»¥ä½¿ç”¨å‘¢ï¼Ÿæˆ–è®¸æˆ‘ä»¬å¯ä»¥å¼€é˜”ä¸€ä¸‹è§†é‡Žï¼Œä¸è¦å±€é™äºŽæˆ‘ä»¬å¸¸ç”¨çš„æ•°æ®ç±»åž‹ä¸Šã€‚åŽæ¥æˆ‘æ˜¯æƒ³èµ·äº†ä¹‹å‰æ¯”è¾ƒçƒ­é—¨çš„ä¸€ç¯‡æ–‡ç« ï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦åœ¨40äº¿ä¸ªæ•´æ•°ä¸­ï¼Ÿï¼Œè¿™ç¯‡æ–‡ç« è®²åˆ°äº†bitmapçš„ä½¿ç”¨ï¼Œè€Œbitmapä¹Ÿæ˜¯Redisæœ€æ–°æ”¯æŒçš„æ•°æ®ç±»åž‹ä¹‹ä¸€ï¼ŒäºŽæ˜¯æˆ‘å°±åŽ»é˜…è¯»å…³äºŽRedisæ–°æ”¯æŒçš„ä¸¤ç§æ•°æ®ç±»åž‹çš„æ–‡ç« äº†ã€‚çœ‹å®Œä¹‹åŽè±ç„¶å¼€æœ—ï¼Œå‘çŽ°bitmapå’ŒHyperLogLogéƒ½æ¯”è¾ƒæ»¡è¶³æˆ‘ä»¬å¯¹æ•ˆçŽ‡ã€ç©ºé—´å’Œç®€å•ç¼–ç çš„è¦æ±‚ï¼Œæœ€åŽå°±é‡‡ç”¨äº†HyperLogLogçš„æ•°æ®ç±»åž‹åŽ»å®žçŽ°æˆ‘ä»¬çš„éœ€æ±‚ã€‚ å…ˆç®€å•çš„ä»‹ç»ä¸€ä¸‹HyperLogLogçš„ç‰¹æ€§å’Œæ“ä½œï¼Œé¦–å…ˆHyperLogLogæ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ï¼ŒåŸºæ•°ç»Ÿè®¡æŒ‡çš„æ˜¯æŒ‡ç»Ÿè®¡ä¸€ä¸ªé›†åˆä¸­ä¸åŒçš„å…ƒç´ çš„ä¸ªæ•°ï¼Œä¸‹é¢æ‘˜å½•ä¸€æ®µæºäºŽã€ŠHyperLogLog the analysis of a near-optimal cardinality estimation algorithmã€‹çš„ç®€è¿°ï¼š åœ¨ç†æƒ³çŠ¶æ€ä¸‹ï¼Œå°†ä¸€å †æ•°æ®hashè‡³[0,1]ï¼Œæ¯ä¸¤ç‚¹è·ç¦»ç›¸ç­‰ï¼Œ1/é—´è· å³å¯å¾—å‡ºè¿™å †æ•°æ®çš„åŸºæ•°ã€‚ç„¶è€Œå®žé™…æƒ…å†µå¾€å¾€ä¸èƒ½å¦‚æ„¿ï¼Œåªèƒ½é€šè¿‡ä¸€äº›ä¿®æ­£ä¸æ–­çš„é€¼è¿‘è¿™ä¸ªå®žé™…çš„åŸºæ•°ã€‚å®žé™…é‡‡ç”¨çš„æ–¹å¼ä¸€æ˜¯åˆ†æ¡¶ï¼ŒäºŒæ˜¯å–kmaxã€‚åˆ†æ¡¶å°†æ•°æ®åˆ†ä¸ºmç»„ï¼Œæ¯ç»„å–ç¬¬kä¸ªä½ç½®çš„å€¼ï¼Œæ‰€æœ‰ç»„ä¸­å¾—åˆ°æœ€å¤§çš„kmaxï¼Œ(k-1)/kmaxå¾—åˆ°ä¼°è®¡çš„åŸºæ•°ã€‚ HyperLogLogç®—æ³•çš„å¦ä¸€ä¸ªä¸»è§‚ä¸Šçš„ç†è§£å¯ä»¥ç”¨æŠ›ç¡¬å¸çš„æ–¹å¼æ¥ç†è§£ã€‚ä»¥å½“ç¡¬å¸æŠ›å‡ºåé¢ä¸ºä¸€æ¬¡è¿‡ç¨‹ï¼Œå½“ä½ æŠ›næ¬¡ç¡¬å¸å…¨ä¸ºæ­£é¢çš„æ¦‚çŽ‡ä¸º1/2nã€‚å½“ä½ ç»åŽ†è¿‡k(kå¾ˆå¤§æ—¶)æ¬¡è¿™æ ·çš„è¿‡ç¨‹ï¼Œç¡¬å¸ä¸å‡ºçŽ°åé¢çš„æ¦‚çŽ‡åŸºæœ¬ä¸º0ã€‚å‡è®¾åé¢ä¸º1ï¼Œæ­£é¢ä¸º0ï¼Œæ¯æŠ›ä¸€æ¬¡è®°å½•1æˆ–è€…0ï¼Œå½“è®°å½•ä¸Šæ˜¾ç¤ºä¸º0000000â€¦001æ—¶ï¼Œè¿™ç§å¯ä»¥å½’ç»“ä¸ºå°æ¦‚çŽ‡äº‹ä»¶ï¼ŒåŸºæœ¬ä¸ä¼šå‘ç”Ÿã€‚è½¬æ¢åˆ°åŸºæ•°çš„æƒ³æ³•å°±æ˜¯ï¼Œå¯ä»¥é€šè¿‡ç¬¬ä¸€ä¸ª1å‡ºçŽ°å‰0çš„ä¸ªæ•°næ¥ç»Ÿè®¡åŸºæ•°ï¼ŒåŸºæ•°å¤§è‡´ä¸º2(n+1)æ—¶ã€‚ç¡¬å¸å½“ä¸­å¯ä»¥ç»Ÿè®¡ä¸º(1/21+1/42+1/8*3â€¦)ï¼Œå¤§è‡´å¯ä»¥è¿™ä¹ˆåŽ»æƒ³ã€‚ æœ‰å…´è¶£æ·±å…¥äº†è§£çš„ç«¥éž‹å¯ä»¥Googleä¸€ä¸‹ä¸Šé¢çš„è®ºæ–‡ï¼Œä¸‹é¢æˆ‘ä»¬å›žå½’åˆ°å¦‚ä½•åœ¨Redisä¸­æ“ä½œHyperLogLogä¸Šæ¥ã€‚Redisä¸­ä¸€å…±æœ‰ä¸‰ç§æ“ä½œHyperLogLogçš„æ–¹æ³•ï¼š PFADD: å°†ä»»æ„æ•°é‡çš„å…ƒç´ æ·»åŠ åˆ°æŒ‡å®šçš„HyperLogLogé‡Œé¢ã€‚ä½œä¸ºè¿™ä¸ªå‘½ä»¤çš„å‰¯ä½œç”¨ï¼ŒHyperLogLogå†…éƒ¨å¯èƒ½ä¼šè¢«æ›´æ–°ï¼Œ ä»¥ä¾¿åæ˜ ä¸€ä¸ªä¸åŒçš„å”¯ä¸€å…ƒç´ ä¼°è®¡æ•°é‡ï¼ˆä¹Ÿå³æ˜¯é›†åˆçš„åŸºæ•°ï¼‰ã€‚å¦‚æžœHyperLogLogä¼°è®¡çš„è¿‘ä¼¼åŸºæ•°åœ¨å‘½ä»¤æ‰§è¡Œä¹‹åŽå‡ºçŽ°äº†å˜åŒ–ï¼Œ é‚£ä¹ˆå‘½ä»¤è¿”å›ž1ï¼Œ å¦åˆ™è¿”å›ž0ã€‚ å¦‚æžœå‘½ä»¤æ‰§è¡Œæ—¶ç»™å®šçš„é”®ä¸å­˜åœ¨ï¼Œ é‚£ä¹ˆç¨‹åºå°†å…ˆåˆ›å»ºä¸€ä¸ªç©ºçš„HyperLogLogç»“æž„ï¼Œ ç„¶åŽå†æ‰§è¡Œå‘½ä»¤ã€‚ PFCOUNTï¼šå½“PFCOUNTå‘½ä»¤ä½œç”¨äºŽå•ä¸ªé”®æ—¶ï¼Œ è¿”å›žå‚¨å­˜åœ¨ç»™å®šé”®çš„HyperLogLogçš„è¿‘ä¼¼åŸºæ•°ï¼Œå¦‚æžœé”®ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¿”å›ž0ã€‚å½“PFCOUNTå‘½ä»¤ä½œç”¨äºŽå¤šä¸ªé”®æ—¶ï¼Œè¿”å›žæ‰€æœ‰ç»™å®šHyperLogLogçš„å¹¶é›†çš„è¿‘ä¼¼åŸºæ•°ï¼Œè¿™ä¸ªè¿‘ä¼¼åŸºæ•°æ˜¯é€šè¿‡å°†æ‰€æœ‰ç»™å®šHyperLogLogåˆå¹¶è‡³ä¸€ä¸ªä¸´æ—¶HyperLogLogæ¥è®¡ç®—å¾—å‡ºçš„ã€‚é€šè¿‡HyperLogLogæ•°æ®ç»“æž„ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨å°‘é‡å›ºå®šå¤§å°çš„å†…å­˜ï¼Œæ¥å‚¨å­˜é›†åˆä¸­çš„å”¯ä¸€å…ƒç´ ï¼ˆæ¯ä¸ªHyperLogLogåªéœ€ä½¿ç”¨12kå­—èŠ‚å†…å­˜ï¼Œä»¥åŠå‡ ä¸ªå­—èŠ‚çš„å†…å­˜æ¥å‚¨å­˜é”®æœ¬èº«ï¼‰ã€‚å‘½ä»¤è¿”å›žçš„å¯è§é›†åˆï¼ˆobserved setï¼‰åŸºæ•°å¹¶ä¸æ˜¯ç²¾ç¡®å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªå¸¦æœ‰0.81%æ ‡å‡†é”™è¯¯ï¼ˆstandard errorï¼‰çš„è¿‘ä¼¼å€¼ã€‚ PFMERGEï¼šå°†å¤šä¸ªHyperLogLogåˆå¹¶ï¼ˆmergeï¼‰ä¸ºä¸€ä¸ªHyperLogLogï¼Œåˆå¹¶åŽçš„HyperLogLogçš„åŸºæ•°æŽ¥è¿‘äºŽæ‰€æœ‰è¾“å…¥HyperLogLogçš„å¯è§é›†åˆï¼ˆobserved setï¼‰çš„å¹¶é›†ã€‚åˆå¹¶å¾—å‡ºçš„HyperLogLogä¼šè¢«å‚¨å­˜åœ¨destkeyé”®é‡Œé¢ï¼Œå¦‚æžœè¯¥é”®å¹¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå‘½ä»¤åœ¨æ‰§è¡Œä¹‹å‰ï¼Œä¼šå…ˆä¸ºè¯¥é”®åˆ›å»ºä¸€ä¸ªç©ºçš„HyperLogLogã€‚ çŸ¥é“äº†å¦‚ä½•æ“ä½œHyperLogLogåŽæˆ‘ä»¬å°±å¼€å§‹ç”¨å®ƒæ¥å®žçŽ°æˆ‘ä»¬çš„éœ€æ±‚å§ã€‚ é¦–å…ˆæˆ‘ä½¿ç”¨data_id + dayä½œä¸ºSortedSetçš„é”®è®°å½•è¯¥èµ„æºæ•°æ®å½“å¤©çš„UVï¼Œå…¶ä¸­dayæ˜¯ç”±å½“å‰æ—¶é—´æˆ³é™¤ä»¥ä¸€å¤©çš„ç§’æ•°ç„¶åŽå†æ¨¡15å¾—å‡ºçš„ä¸€ä¸ª0~14çš„æ•°ï¼Œå³day = (1543127511 // 86400) % 15ï¼Œç„¶åŽç”¨æˆ·æµè§ˆçš„æ—¶å€™å°†ç”¨æˆ·çš„user_idå­˜è¿›åŽ»ä»¥åŠè®¾ç½®å¥½è¿‡æœŸæ—¶é—´ï¼Œæœ€åŽå°†data_id_day1åˆ°data_id_day15çš„æ•°æ®å¾ªçŽ¯ç”¨PFCOUNTå–å‡ºæ¥åŽç›¸åŠ çš„æ€»å’Œæ˜¯æ¯å¤©çš„UVæ€»å’Œï¼ˆå³ç†è§£ä¸º15å¤©å†…çš„æµè§ˆé‡ï¼‰ï¼Œç®€ç§°ä¹‹ä¸º15UDVï¼Œè€Œå°†data_id_day1åˆ°data_id_day15çš„æ•°æ®ä¸€æ¬¡æ€§ä½¿ç”¨PFCOUNTå¾—å‡ºæ¥çš„ç»“æžœæ˜¯15å¤©çš„UVç»“æžœï¼Œç®€ç§°UVã€‚é‚£ä¹ˆ15UDVå’ŒUVæ˜¯ä¸¤ç§ä¸åŒæŽ’åºä¾æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå°†æ­¤èµ„æºæ•°æ®çš„UVå€¼å­˜å…¥åˆ°æœ€åŽç”¨äºŽæŽ’åºçš„SortedSeté‡Œé¢ã€‚ç”±äºŽæœ‰æ€»æŽ’è¡Œæ¦œå’ŒåŸŽå¸‚æŽ’è¡Œæ¦œï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸¤ç§SortedSetï¼š rankï¼š15å¤©UVæ€»æŽ’è¡Œæ¦œ rank_[city]ï¼šcityæ›¿æ¢ä¸ºå¯¹åº”èµ„æºæ‰€åœ¨åŸŽå¸‚çš„15å¤©UVåŸŽå¸‚æŽ’è¡Œæ¦œ è‡³äºŽ15UDVå˜›ï¼Œå…¶å®žè·Ÿä¸Šé¢UVä¹Ÿæ˜¯ä¸€æ ·çš„æ“ä½œï¼Œå°±ä¸å¤šè¯´äº†ã€‚æ‰€ä»¥åˆ°è¿™é‡Œæ‰€æœ‰æ­¥éª¤å·²ç»å®Œæˆäº†ï¼Œä¸‹é¢å°±å±•ç¤ºä¸€ä¸‹çš„ä¼ªä»£ç æ–¹ä¾¿å¤§å®¶å†ç†é¡ºä¸€ä¸‹ï¼š # å­˜å‚¨è¿‡ç¨‹ data_id = 1 city = 'guangzhou' user_id = 'ove1d291d2912ed1ad91e2' day = (now.timestamp // 86400) % 15 15day_after = now.date.timestamp + 15*86400 key = str(data_id) + '_' + str(day) this.redis.multi() this.redis.pfadd(key, user_id) this.redis.expireat(key, 15day_after) this.redis.exec() # èŽ·å–UV for i in range(15): keys = [str(data_id) + '_' + str(i)] UV = this.redis.pfcount(keys) # èŽ·å–15UDV 15UDV = 0 for i in range(15): udv_key = str(data_id) + '_' + str(i) 15UDV += this.redis.pfcount(udv_key) # å­˜å‚¨åˆ°æŽ’è¡Œæ¦œä¸­ rank_key = 'rank' city_rank_key = rank_key + '_' + city udv_rank_key = 'udv_rank' udv_city_rank_key = udv_rank_key + '_' + city this.redis.multi() this.redis.zadd(rank_key, UV, data_id) this.redis.zadd(city_rank_key, UV, data_id) this.redis.zadd(udv_rank_key, 15UDV, data_id) this.redis.zadd(udv_city_rank_key, 15UDV, data_id) this.redis.exec() # Mysqlç»Ÿè®¡æ€»æµè§ˆé‡ resource = orm.table('resource').get(data_id) if date(resource.cache_update_time) != date(now.timestamp): resource.total_view_bt += resource.day_view resource.day_view = this.redis.pfcount(key) resource.cache_update_time = now.timestamp resource.total_view = resource.total_view_bt + resource.day_view resource.save() å®Œã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äºŒç»´ç ç”ŸæˆåŽŸç†åŠç¼–ç å®žçŽ°]]></title>
    <url>%2F2018%2F10%2F16%2F%E4%BA%8C%E7%BB%B4%E7%A0%81%E7%94%9F%E6%88%90%E5%8E%9F%E7%90%86%E5%8F%8A%E7%BC%96%E7%A0%81%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[ä¸€å¹´å‰æŒ–çš„å‘ï¼ŒçŽ°åœ¨æ¥è¡¥ï¼Œå¸Œæœ›ä¸ä¼šå¤ªæ™šã€‚å…ˆæŠŠåŽ‹èˆ±åº•çš„ç¬”è®°æ”¾ä¸Šæ¥ä»¥è¡¨æˆ‘ä¼šå¡«å®Œå‘çš„å†³å¿ƒã€‚å½“å‰è¿˜åœ¨æ•´ç†å’Œé‡å†™æ—§ä»£ç é˜¶æ®µï¼Œä¸‹é¢å…ˆæŠŠä¸€äº›åŸºç¡€çŸ¥è¯†ç½—åˆ—å‡ºæ¥ã€‚ 11æœˆ9æ—¥æ›´ï¼šæœ€è¿‘å·¥ä½œæ¯”è¾ƒå¿™ï¼Œè€Œä¸”äºŒç»´ç çš„è§„åˆ™çœŸçš„å¾ˆçƒ¦æ‚å¤šï¼Œè™½ç„¶çœ‹ä¸ŠåŽ»æ€»ä½“ä»£ç é‡ä¸å¤šï¼Œç»“æž„ä¹Ÿå¾ˆéšæ€§ï¼Œä½†æ˜¯ä¹ŸèŠ±äº†åŠä¸ªæœˆæ—¶é—´æ‰å®Œæˆäº†åˆç‰ˆçš„åŠŸèƒ½ã€‚æŒ‰ä¹‹å‰è¯´çš„ï¼Œä¸‹é¢æˆ‘ä¼šæŠŠä¸€äº›åŸºç¡€çŸ¥è¯†åˆ—å‡ºæ¥ï¼Œä½†ä¸ä¼šå¤ªè¿‡è¯¦å°½ï¼Œåˆ°ç¼–ç å®žæˆ˜ç« èŠ‚å°†ä¼šè¯¦ç»†è§£è¯´ã€‚åœ¨ä»“åº“ä¸­æœ‰ä¸€ä»½ä¸“é—¨è®²è§£äºŒç»´ç çš„æž„æˆä»¥åŠè§£æžè§„åˆ™çš„PDFå…¨è‹±è¯´æ˜Žä¹¦ï¼Œå¦‚æžœå¤§å®¶è§‰å¾—æœ‰å“ªç‚¹ä¸å¤ªæ¸…æ¥šçš„å¯ä»¥åŽ»PDFé‡Œé¢æ‰¾-----&gt;ä»£ç ä»“åº“åœ°å€ ç®€è¦ç¬”è®° 40ä¸ªæ ‡å‡†ç‰ˆæœ¬ã€4ä¸ªå¾®åž‹ç‰ˆæœ¬ å››ç§ç¼–ç æ–¹å¼ï¼š æ•°å­—ï¼š0-9 å¤§å†™å­—æ¯å’Œæ•°å­—ï¼š0-9ï¼ŒAï¼Zï¼Œç©ºæ ¼ï¼Œ$%*Â±./: äºŒè¿›åˆ¶/å­—èŠ‚ï¼šISO/IEC 8859-1 æ—¥æœ¬æ±‰å­—/å‡åï¼šshift JISJIS X 0208 å››ç§å®¹é”™çº§åˆ« Lï¼š7%å­—ç å¯è¢«ä¿®æ­£ Mï¼š15%å­—ç å¯è¢«ä¿®æ­£ Qï¼š25%å­—ç å¯è¢«ä¿®æ­£ Hï¼š30%å­—ç å¯è¢«ä¿®æ­£ ç»“æž„ ç‰ˆæœ¬ä¿¡æ¯ æ ¼å¼ä¿¡æ¯ æ•°æ®åŠå®¹é”™å¯†é’¥ æ•°æ®éœ€æ±‚æ¨¡å— å®šä½æ ‡è¯† æ ¡æ­£æ ‡è¯† å®šæ—¶æ ‡è¯† é™æ€åŒºåŸŸ åŠŸèƒ½æ€§å›¾æ ·ï¼š é—·å£°åŒº å®šä½æ ‡è¯† åˆ†éš”ç¬¦ å®šæ—¶æ ‡è¯† æ ¡æ­£æ ‡è¯† ç¼–ç åŒºåŸŸï¼š æ ¼å¼ä¿¡æ¯ ç‰ˆæœ¬ä¿¡æ¯ æ•°æ®åŠå®¹é”™å­—ç  ç¼–ç QRCodeæµç¨‹ï¼š æ•°æ®åˆ†æž ç¼–ç æ•°æ® è®¡ç®—å®¹é”™ç  ç»„ç»‡æ•°æ® å¡«å…… åº”ç”¨æ•°æ®æŽ©ç  å¡«å……æ ¼å¼ä¿¡æ¯å’Œç‰ˆæœ¬ä¿¡æ¯ åŸºç¡€å›¾è§£ äºŒç»´ç çš„è‹±æ–‡æ˜¯QR Code(Quick Response Code)ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¯†ç ç®—æ³•ï¼Œè¿‘å‡ å¹´æ¥æˆä¸ºäº†ç§»åŠ¨è®¾å¤‡ä¸Šéžå¸¸æµè¡Œçš„ä¸€ç§ç¼–ç æ–¹å¼ï¼Œå®ƒæ¯”ä¼ ç»Ÿçš„æ¡å½¢ç èƒ½å­˜æ›´å¤šçš„ä¿¡æ¯ï¼Œä¹Ÿèƒ½è¡¨ç¤ºæ›´å¤šçš„æ•°æ®ç±»åž‹ã€‚äºŒç»´ç æœ‰ 40 ç§å°ºå¯¸ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºVersionã€‚Version 1æ˜¯21Ã—21çš„çŸ©é˜µï¼ŒVersion 2æ˜¯25Ã—25çš„çŸ©é˜µï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ¯å¢žåŠ ä¸€ä¸ª Versionï¼Œå°ºå¯¸éƒ½ä¼šå¢žåŠ  4ï¼Œæ‰€ä»¥å°ºå¯¸Sizeä¸ŽVersionçš„å…³ç³»ä¸ºï¼šSize = (Version - 1)*4 + 21ã€‚è€ŒVersionçš„æœ€å¤§å€¼æ˜¯ 40ï¼Œæ•…å°ºå¯¸æœ€å¤§å€¼æ˜¯(40-1)*4+21 = 177ï¼Œå³ 177 x 177 çš„çŸ©é˜µã€‚ ç»“æž„ç¤ºæ„å›¾ äºŒç»´ç çš„ç»„æˆåŸºæœ¬ä¸Šå¯è¢«åˆ†ä¸ºå®šä½ã€åŠŸèƒ½æ•°æ®ã€æ•°æ®å†…å®¹ä¸‰éƒ¨åˆ†ã€‚ å®šä½å›¾æ¡ˆ å®šä½æ ‡è¯†ï¼šç”¨äºŽæ ‡è®°äºŒç»´ç çŸ©å½¢çš„å¤§å°ï¼›ç”¨ä¸‰ä¸ªå®šä½å›¾æ¡ˆå³å¯æ ‡è¯†å¹¶ç¡®å®šä¸€ä¸ªäºŒç»´ç çŸ©å½¢çš„ä½ç½®å’Œæ–¹å‘äº†ï¼› åˆ†éš”ç¬¦ï¼šç”¨ç™½è¾¹æ¡†å°†å®šä½å›¾æ¡ˆä¸Žå…¶ä»–åŒºåŸŸåŒºåˆ†ï¼› å®šæ—¶æ ‡è¯†ï¼šç”¨äºŽå®šä½ï¼ŒäºŒç»´ç å¦‚æžœå°ºå¯¸è¿‡å¤§ï¼Œæ‰«ææ—¶å®¹æ˜“ç•¸å˜ï¼Œæ—¶åºå›¾æ¡ˆçš„ä½œç”¨å°±æ˜¯é˜²æ­¢æ‰«ææ—¶ç•¸å˜çš„äº§ç”Ÿï¼› æ ¡æ­£æ ‡è¯†ï¼šåªæœ‰åœ¨ Version 2 åŠå…¶ä»¥ä¸Šæ‰ä¼šéœ€è¦ï¼› åŠŸèƒ½æ•°æ®ï¼š æ ¼å¼ä¿¡æ¯ï¼šå­˜åœ¨äºŽæ‰€æœ‰å°ºå¯¸ä¸­ï¼Œå­˜æ”¾æ ¼å¼åŒ–æ•°æ®ï¼› ç‰ˆæœ¬ä¿¡æ¯ï¼šç”¨äºŽ Version 7 ä»¥ä¸Šï¼Œéœ€è¦é¢„ç•™ä¸¤å— 3Ã—6 çš„åŒºåŸŸå­˜æ”¾éƒ¨åˆ†ç‰ˆæœ¬ä¿¡æ¯ï¼› æ•°æ®å†…å®¹ï¼š æ•°æ® å®¹é”™å­—ç  çº é”™ç ã€æŽ©ç ã€çº é”™çº§åˆ«ä¿¡æ¯è®°å½•æ ‡è¯† æ•°æ®ç¼–ç  æŽ¥ä¸‹æ¥ä»‹ç»äºŒç»´ç çš„ç¼–ç æ–¹å¼ã€‚ Numeric mode æ•°å­—ç¼–ç  ä»Ž0åˆ°9ã€‚å¦‚æžœéœ€è¦ç¼–ç çš„æ•°å­—çš„ä¸ªæ•°ä¸æ˜¯3çš„å€æ•°ï¼Œé‚£ä¹ˆï¼Œæœ€åŽå‰©ä¸‹çš„1æˆ–2ä½æ•°ä¼šè¢«è½¬æˆ4æˆ–7bitsï¼Œåˆ™å…¶å®ƒçš„æ¯3ä½æ•°å­—ä¼šè¢«ç¼–æˆ 10ï¼Œ12ï¼Œ14bitsï¼Œç¼–æˆå¤šé•¿è¿˜è¦çœ‹äºŒç»´ç çš„å°ºå¯¸ Alphanumeric mode å­—ç¬¦ç¼–ç  åŒ…æ‹¬ 0-9ï¼Œå¤§å†™çš„Aåˆ°Zï¼ˆæ²¡æœ‰å°å†™ï¼‰ï¼Œä»¥åŠç¬¦å·$ % * + â€“ . / : åŒ…æ‹¬ç©ºæ ¼ã€‚è¿™äº›å­—ç¬¦ä¼šæ˜ å°„æˆä¸€ä¸ªå­—ç¬¦ç´¢å¼•è¡¨ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼šï¼ˆå…¶ä¸­çš„SPæ˜¯ç©ºæ ¼ï¼ŒCharæ˜¯å­—ç¬¦ï¼ŒValueæ˜¯å…¶ç´¢å¼•å€¼ï¼‰ ç¼–ç çš„è¿‡ç¨‹æ˜¯æŠŠå­—ç¬¦ä¸¤ä¸¤åˆ†ç»„ï¼Œç„¶åŽè½¬æˆä¸‹è¡¨çš„45è¿›åˆ¶ï¼Œç„¶åŽè½¬æˆ11bitsçš„äºŒè¿›åˆ¶ï¼Œå¦‚æžœæœ€åŽæœ‰ä¸€ä¸ªè½å•çš„ï¼Œé‚£å°±è½¬æˆ6bitsçš„äºŒè¿›åˆ¶ã€‚è€Œç¼–ç æ¨¡å¼å’Œå­—ç¬¦çš„ä¸ªæ•°éœ€è¦æ ¹æ®ä¸åŒçš„Versionå°ºå¯¸ç¼–æˆ9, 11æˆ–13ä¸ªäºŒè¿›åˆ¶ Byte mode å­—èŠ‚ç¼–ç  å¯ä»¥æ˜¯0-255çš„ISO-8859-1å­—ç¬¦ã€‚æœ‰äº›äºŒç»´ç çš„æ‰«æå™¨å¯ä»¥è‡ªåŠ¨æ£€æµ‹æ˜¯å¦æ˜¯UTF-8çš„ç¼–ç ã€‚ Kanji mode æ—¥æ–‡ç¼–ç  ä¹Ÿæ˜¯åŒå­—èŠ‚ç¼–ç ã€‚åŒæ ·ï¼Œä¹Ÿå¯ä»¥ç”¨äºŽä¸­æ–‡ç¼–ç ã€‚æ—¥æ–‡å’Œæ±‰å­—çš„ç¼–ç ä¼šå‡åŽ»ä¸€ä¸ªå€¼ã€‚å¦‚ï¼šåœ¨0X8140 to 0X9FFCä¸­çš„å­—ç¬¦ä¼šå‡åŽ»8140ï¼Œåœ¨0XE040åˆ°0XEBBFä¸­çš„å­—ç¬¦è¦å‡åŽ»0XC140ï¼Œç„¶åŽæŠŠç»“æžœå‰ä¸¤ä¸ª16è¿›åˆ¶ä½æ‹¿å‡ºæ¥ä¹˜ä»¥0XC0ï¼Œç„¶åŽå†åŠ ä¸ŠåŽä¸¤ä¸ª16è¿›åˆ¶ä½ï¼Œæœ€åŽè½¬æˆ13bitçš„ç¼–ç ã€‚ å…¶ä»–ç¼–ç  Extended Channel Interpretation (ECI) mode ç‰¹æ®Šå­—ç¬¦é›† ä¸»è¦ç”¨äºŽç‰¹æ®Šçš„å­—ç¬¦é›†ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ‰«æå™¨éƒ½æ”¯æŒè¿™ç§ç¼–ç  Structured Append mode æ··åˆç¼–ç  è¯´æ˜Žè¯¥äºŒç»´ç ä¸­åŒ…å«äº†å¤šç§ç¼–ç æ ¼å¼ FNC1 mode ç‰¹æ®Šè¡Œä¸šç¼–ç  ä¸»è¦æ˜¯ç»™ä¸€äº›ç‰¹æ®Šçš„å·¥ä¸šæˆ–è¡Œä¸šç”¨çš„ï¼Œå¦‚GS1æ¡å½¢ç ç­‰ æŽ©ç ã€çº é”™ç ç­‰ åœ¨æ•°æ®ç¼–ç å®ŒæˆåŽï¼Œä¸ºäº†é˜²æ­¢å‡ºçŽ°å¤§é¢ç§¯çš„ç©ºç™½æˆ–é»‘å—è€Œå¯¼è‡´è¯†åˆ«å›°éš¾ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšå¤šä¸€æ­¥æ“ä½œã€‚ä¸€å…±æœ‰8ç§æŽ©ç ä½ å¯ä»¥ä½¿ç”¨ï¼Œä¸‹å›¾ä¸­åŒ…å«å…«ç§æŽ©ç çš„å›¾ç¤ºä»¥åŠå…¬å¼ã€‚æ‰€è°“æŽ©ç ï¼Œå°±æ˜¯å’Œä¸Šé¢ç”Ÿæˆçš„å›¾åšå¼‚æˆ–æ“ä½œï¼Œè€Œä¸”æŽ©ç åªä¼šä½œç”¨äºŽæ•°æ®åŒºåŸŸã€‚æœ€æœ€åŽï¼Œæˆ‘ä»¬å¾—åˆ°çš„å…«ç§æŽ©ç ä¸Žæ•°æ®å…¶ä½™å¼‚æˆ–å‡ºæ¥çš„æ•°æ®çŸ©é˜µå®žé™…ä¸Šéƒ½å¯ä»¥ä½œä¸ºäºŒç»´ç è¢«è¯†åˆ«ï¼Œä½†æ˜¯è€ƒè™‘åˆ°è¦è®©æ‰«ç å™¨æ›´åŠ å®¹æ˜“çš„è¯†åˆ«ï¼Œéœ€è¦ä»Žå…«ä¸ªæ•°æ®çŸ©é˜µä¸­ç­›é€‰å‡ºæœºå™¨æœ€å®¹æ˜“è¾¨åˆ«çš„ï¼Œç­›é€‰çš„ä¾æ®åˆæ¶‰åŠåˆ°ä¸€å¥—æƒ©ç½šè®¡ç®—çš„è§„åˆ™äº†ã€‚ æŽ©ç ç±»åž‹ äºŒç»´ç çš„çº é”™ç ä¸»è¦æ˜¯é€šè¿‡Reed-Solomon error correctionæ¥å®žçŽ°çš„ã€‚å¯¹äºŽè¿™ä¸ªç®—æ³•ï¼Œå¯ä»¥è¯´æ˜¯ç›¸å½“çš„å¤æ‚ï¼Œåœ¨çŸ­æ—¶é—´å†…ä¹Ÿè®¸æˆ‘ä»¬ä¸èƒ½å®Œå…¨ç†è§£ä»–çš„ç®—æ³•å«ä¹‰ï¼Œä½†æ˜¯å¯ä»¥å…ˆäº†è§£å®ƒçš„ä¸€äº›åŸºç¡€çŸ¥è¯†ä»¥åŠæ­¥éª¤ï¼Œå¦‚æžœè§‰å¾—å¿…é¡»è¦å®Œå®Œå…¨å…¨æžæ¸…æ¥šï¼Œå»ºè®®æŸ¥çœ‹ç›¸å…³çš„è®ºæ–‡ã€‚ç”±äºŽæœ¬ç¯‡æ–‡ç« ç¯‡å¹…æœ‰é™ï¼Œåœ¨æœªå®Œå…¨ç†è§£è¯¥ç®—æ³•çš„æƒ…å†µä¸‹æˆ‘ä¸å¯èƒ½å¦„è‡ªæ€»ç»“ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆæŽ¨èä¸€ç¯‡ç¨å¾®ç®€å•çš„ä»‹ç»æ–‡ç« ç»™å„ä½æ„Ÿå…´è¶£çš„è¯»è€…ï¼šä¸ºç¨‹åºå‘˜å†™çš„Reed-Solomonç è§£é‡Š ç¼–ç å®žæˆ˜ éª¨æž¶ å¥½äº†æœ¬èŠ‚è¿›å…¥äº†ç¼–ç å®žæˆ˜é˜¶æ®µï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åšçš„æ˜¯å…ˆå°†æ•´ä¸ªäºŒç»´ç ç”Ÿæˆæµç¨‹ç†æ¸…æ¥šï¼Œå¹¶æž„é€ å¥½å¯¹åº”çš„å‡½æ•°ã€‚ #!/usr/bin/python class Qrcode: mode = None level = None qrcode = None version = 1 data_matrix = None mask_id = None length = 0 size = () def generate(self, path): return def resize(self, size): return def paint(self, img, fg_or_bg=0): return def _matrix_to_img(self, img_mode='1', matrix=None): return def __init__(self, message, level_index='L'): return def decide_version(_message, _level_index): return def build_matrix(encode_data): def build_locate_sign(): return def build_time_sign(): return def build_dark_sign(): return def build_alignment_sign(): return def level_and_mask_build(_mask_id): return def build_version_info(): return def data_build(_encode_data): return def mask(): def mask_template(col, row, _mask_id): return def penalty(__matrix): return return def encode(_message): def get_data_codewords(__message): return def rs_encode(_data_codewords): return æˆ‘çš„ä»£ç æŠ½ä¸å‰¥èŒ§åŽå‰©ä¸‹çš„éª¨æž¶å¤§æ¦‚å°±æ˜¯ä»¥ä¸Šçš„ä»£ç ï¼Œå’Œä¸€å¼€å§‹æˆ‘æ‰€æ‰“é€ çš„ç»“æž„æœ‰ä¸€ç‚¹åŒºåˆ«ï¼Œä¸»è¦è¿˜æ˜¯æµç¨‹æ²¡æœ‰å®Œå…¨æ¢³ç†å¥½æ‰€å¯¼è‡´çš„ã€‚æ‰€ä»¥å¤§å®¶å¸¸è¯´ç†è§£å¥½ä¸šåŠ¡æµç¨‹æ˜¯é¡¹ç›®çŽ¯èŠ‚ä¸­å¾ˆé‡è¦çš„ä¸€çŽ¯ï¼Œå®ƒå½±å“åˆ°æ•´ä¸ªé¡¹ç›®çš„å¯æ‰©å±•æ€§ä»¥åŠæ—¥åŽçš„å¯ç»´æŠ¤æ€§ã€‚åœ¨æˆ‘ä¸ªäººçœ‹æ¥ä¼˜ç§€çš„ç¨‹åºå‘˜å¹¶ä¸æ˜¯æŒ‡ä»£ç å†™å¾—å¤šä¹ˆå¥½ã€ç»“æž„å¤šä¹ˆæ¸…æ™°ã€ä½¿ç”¨çš„æŠ€æœ¯å¤šä¹ˆé«˜å¤§ä¸Šçš„äººï¼Œè€Œæ˜¯èƒ½å¤ŸçœŸæ­£çš„ç†è§£ç”¨æˆ·çš„çœŸå®žè¯‰æ±‚å¹¶åŠ ä»¥åˆ†æžä»¥åŠèƒ½å¤Ÿæ¢³ç†å’Œå®Œå–„æµç¨‹çš„äººã€‚è¿™ç§äººæ— è®ºåœ¨å“ªä¸ªè¡Œä¸šï¼Œåšä»€ä¹ˆæ ·çš„å·¥ä½œï¼Œç§°ä¹‹ä¸ºä¼˜ç§€éƒ½æ˜¯å½“ä¹‹æ— æ„§çš„ã€‚ ç‰ˆæœ¬é€‰æ‹© äºŒç»´ç çš„ç‰ˆæœ¬æœ€ç›´æŽ¥å½±å“çš„å°±æ˜¯äºŒç»´ç å†…å®¹å®¹é‡çš„å¤šå°‘ï¼Œå½“ç„¶é™¤äº†ç‰ˆæœ¬å¤–å½±å“å®¹é‡çš„è¿˜æœ‰çº é”™ç­‰çº§ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€å…ˆéœ€è¦è®¡ç®—çš„æ˜¯æ ¹æ®ç”¨æˆ·çš„ä¼ å…¥ä¿¡æ¯é‡å’Œé€‰æ‹©çš„çº é”™çº§åˆ«å¾—å‡ºåº”è¯¥ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„äºŒç»´ç ã€‚ def __init__(self, message, level_index='L'): self.level = level_map[level_index] message = message.encode() def decide_version(_message, _level_index): if all(chr(i) in num_list for i in _message): mode = 'numeric' else: mode = 'byte' for each_version in range(40): if character_amount[_level_index][each_version][mode_map[mode]] &gt; len(_message): self.version = each_version + 1 if each_version + 1 &gt; self.version else self.version break self.length = 21 + 4 * (self.version - 1) self.size = (self.length, self.length) self.mode = mode decide_version(message, level_index) ä¸ºäº†å®¹æ˜“ç†è§£ï¼Œæˆ‘æŠŠä¸Šä¸‹æ–‡çš„ä»£ç ä¹Ÿè´´åˆ°ä¸Šé¢äº†ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯python3ï¼Œé¦–å…ˆæˆ‘ä»¬è¦å…ˆæŠŠä¿¡æ¯å†…å®¹encode()è½¬åŒ–ä¸ºä¸€ä¸ªä¸ªçš„byteï¼Œå¦‚æžœä½ ä¸è¿™æ ·åšpython3æ‹¿å‡ºæ¥çš„æ•°æ®ä¼šæ˜¯å¤šä¸ªbyteçš„ç»„åˆï¼Œå› ä¸ºå®ƒå·²ç»èƒ½å¤Ÿè¯†åˆ«å¤šå›½è¯­è¨€äº†ã€‚æŽ¥ä¸‹æ¥å°±æ˜¯ç”¨æ¯ä¸ªç‰ˆæœ¬å¯¹åº”çº é”™ç­‰çº§ä¸‹çš„æ•°æ®å®¹é‡å’Œå½“å‰éœ€è¦ç¼–ç çš„æ•°æ®é‡è¿›è¡Œå¯¹æ¯”äº†ï¼Œä¸€ç›´åˆ°èƒ½å®¹çº³çš„æ•°æ®é‡æ¯”éœ€æ±‚çš„å¤šï¼Œå°±å¯ä»¥åœæ­¢å¯¹æ¯”æ›´é«˜çš„ç‰ˆæœ¬äº†ã€‚å¦å¤–åœ¨è¿™é‡Œæˆ‘è¿˜è¿›è¡Œäº†ç¼–ç æ–¹å¼çš„æŒ‡å®šï¼Œå…³äºŽç¼–ç æ–¹å¼çš„è¯´æ˜Žå¯ä»¥æŽ¥ç€çœ‹ä¸‹ä¸€ç« èŠ‚ã€‚ æ•°æ®ç¼–ç  æ•°æ®ç¼–ç è¿™ä¸€èŠ‚å¯ä»¥è¯´æ˜¯æ•´ä¸ªæµç¨‹ä¸­æœ€é‡è¦çš„ã€æœ€æ ¸å¿ƒçš„ï¼ŒäºŒç»´ç çš„æ•°æ®è¯†åˆ«ä»¥åŠçº é”™èƒ½åŠ›éƒ½æ˜¯é€šè¿‡è¿™ä¸€éƒ¨åˆ†æ¥å®žçŽ°çš„ã€‚å¤§å®¶å¯èƒ½æ¯”è¾ƒå¥‡æ€ªä¸ºä»€ä¹ˆè¿™ä¹ˆé‡è¦çš„ä¸€çŽ¯ä»£ç é‡å´å¹¶ä¸å¤šï¼Œå®žé™…ä¸Šæˆ‘ä»¬é¡¹ç›®ä¸­å¹¶æ²¡æœ‰å®žçŽ°Reed-Solomonç®—æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨äº†ä¾èµ–åº“ï¼Œæ‰€ä»¥è¯¥éƒ¨åˆ†çš„ä»£ç ä»…ä»…åªæ˜¯è¿›è¡Œæ•°æ®åˆ‡å‰²ç»„è£…ä»¥åŠä½¿ç”¨ä¾èµ–åº“ä¸­å°è£…å¥½çš„å‡½æ•°ã€‚å½“ç„¶ï¼Œæˆ‘ä¹Ÿæ„¿æ„ä¸ºæœ‰å…´è¶£æŸ¥çœ‹ä¾èµ–åº“æºç çš„ç«¥éž‹å¥‰ä¸Šåœ°å€ï¼šreedsolomon def encode(_message): def get_data_codewords(__message): def numeric_encode(___message): diff_encode_code = '' divided_arr = [___message[i:i + 3] for i in range(0, len(___message), 3)] for _equal_or_less_than_three_digits in divided_arr: respectively_len = 10 - 3 * (3 - len(_equal_or_less_than_three_digits)) diff_encode_code += bin(int(_equal_or_less_than_three_digits))[2:].zfill(respectively_len) return diff_encode_code def byte_encode(___message): diff_encode_code = '' for b in ___message: diff_encode_code += bin(b)[2:].zfill(8) return diff_encode_code mode_encode = { 'numeric': numeric_encode, 'byte': byte_encode, } incomplete_codewords = mode_indicator_map[self.mode] + bin(len(__message))[2:].zfill( character_count_indicator_map[self.version][mode_map[self.mode]]) + mode_encode[self.mode](_message) distance_to_8_multiple = 8 - (len(incomplete_codewords) % 8) incomplete_codewords += '0' * distance_to_8_multiple codewords = incomplete_codewords bytes_need = 8 * each_version_required_bytes[self.version][self.level] while len(codewords) &lt; bytes_need: codewords += '1110110000010001' if bytes_need - len(codewords) &gt;= 16 else '11101100' _data_codewords = [int(codewords[i:i + 8], 2) for i in range(len(codewords)) if not i % 8] return _data_codewords def rs_encode(_data_codewords): _encode_data, data_block, i = '', [], 0 block_codecount = num_of_error_correction_blocks_2_error_correction_per_blocks[self.version][self.level] for group1 in range(block_codecount[0]): data_block.append(_data_codewords[i:i + block_codecount[1]]) i += block_codecount[1] for group2 in range(block_codecount[2]): data_block.append(_data_codewords[i:i + block_codecount[3]]) i += block_codecount[3] nsym = ecc_num_version_level_map[self.version][self.level] gen = rs_generator_poly(nsym) ecc_num = len(gen) - 1 _ecc_data = [] for block in data_block: _data_block_get_ecc_block = block + [0] * ecc_num for i in range(len(block)): coef = _data_block_get_ecc_block[i] if coef != 0: for j in range(ecc_num + 1): _data_block_get_ecc_block[i + j] ^= gf_mul(gen[j], coef) _ecc_data.append(_data_block_get_ecc_block[len(block):]) _all_block_data = ''.join(bin(dec)[2:].zfill(8) for block in zip(*data_block) for dec in block) # çªå‡ºéƒ¨åˆ†è¡¥å…¨ for block in data_block: if len(block) == block_codecount[3]: _all_block_data += bin(block[block_codecount[3] - 1])[2:].zfill(8) _all_ecc_data = ''.join(bin(dec)[2:].zfill(8) for block in zip(*_ecc_data) for dec in block) return _all_block_data + _all_ecc_data + '0' * remainder_bits[self.version] data_codewords = get_data_codewords(_message) return rs_encode(data_codewords) è¿™ä¸€éƒ¨åˆ†ä»£ç å¤§å®¶å¯ä»¥çœ‹åˆ°æœ€ä¸»è¦ç”±get_data_codewordså’Œrs_encodeç»„æˆï¼Œè€Œget_data_codewordsä¸­åˆåŒ…å«äº†numeric_encodeå’Œbyte_encodeè¿™ä¸¤ç§ç¼–ç æ–¹å¼ã€‚æˆ‘æƒ³å¤§å®¶åº”è¯¥è®°å¾—ï¼Œå®ƒä»¬å°±æ˜¯æ•°æ®ç¼–ç ç« èŠ‚ä¸­ä»‹ç»çš„å…¶ä¸­ä¸¤ç§ç¼–ç æ–¹å¼ã€‚ä¹‹æ‰€ä»¥æ²¡æœ‰ç¼–å†™å…¶ä»–çš„ç¼–ç æ–¹å¼ï¼Œä¸»è¦åŽŸå› æœ‰ä¸‰ï¼š ä¸ä¸€æ ·çš„ç¼–ç æ–¹å¼å®žé™…ä¸Šåªæ˜¯æ ¹æ®ä¸åŒçš„ç¼–ç æ‰€åˆ¶å®šçš„è§„åˆ™ä¸ä¸€æ ·è€Œå·²ï¼Œä¸‡èƒ½çš„è§„åˆ™è‚¯å®šæ˜¯æœ€å—æ¬¢è¿Žçš„ å½“ä»Šå¸‚é¢ä¸Šå¤§å¤šæ•°ä¸»æµçš„æ‰«ç å™¨æ”¯æŒè‡ªåŠ¨æ£€æŸ¥byte_encodeçš„æ•°æ®æ˜¯å¦æ˜¯UTF-8çš„ç¼–ç ï¼Œæ¢è¨€ä¹‹å°±æ˜¯åŸºæœ¬æ”¯æŒæ‰€æœ‰çš„è¯­è¨€çš„è¯†åˆ« å…¶ä»–çš„ä¸€äº›ç¼–ç è™½è¯´åœ¨æŸç§ç¨‹åº¦ä¸Šèƒ½å¤ŸèŠ‚çœä¸€å®šçš„ç©ºé—´ï¼Œå¯èƒ½èƒ½å¤Ÿé™ä½ŽäºŒç»´ç ä½¿ç”¨çš„ç‰ˆæœ¬ä½¿å¾—æ‰«ç å™¨æ›´å®¹æ˜“è¯†åˆ«ï¼Œä½†æ˜¯æœ¬èº«è¿‡å¤šçš„ä¿¡æ¯ä¸åº”è¯¥é€šè¿‡äºŒç»´ç è¿›è¡Œä¼ æ’­ï¼Œè€Œä¸”å¦‚ä»Šçš„å½±åƒæŠ€æœ¯åœ¨è¯†åˆ«é«˜ç‰ˆæœ¬äºŒç»´ç ä¸Šä¸ä¼šæœ‰å¤ªå¤§çš„åŽ‹åŠ› ç»ˆä¸Šæ‰€è¯‰ï¼Œåœ¨æˆ‘çš„ä»£ç ä¸­åªä¿ç•™äº†ä¸¤ç§ç¼–ç æ–¹å¼ï¼Œä¸€ç§æ˜¯å¯¹çº¯æ•°å­—çš„ç¼–ç æ–¹å¼ï¼Œå¦å¤–ä¸€ç§åˆ™æ˜¯çŽ°åœ¨å¯ä»¥å¯¹æ‰€æœ‰ç¼–ç éƒ½é€‚ç”¨çš„ç¼–ç æ–¹å¼ã€‚ è¯´å®Œäº†å…³äºŽä»£ç ä¸­çš„ç¼–ç æ–¹å¼ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­è§£è¯´è¿™æ®µget_data_codewordsçš„ä»£ç è¿˜å¹²äº†ä»€ä¹ˆã€‚å¤§å®¶å¯ä»¥çœ‹åˆ°è¢«ç¼–ç çš„æ•°æ®æ˜¯æœ€åŽæ‰åŠ ä¸Šçš„ï¼Œè€Œç¼–ç æ•°æ®å‰é¢æœ‰ï¼š mode_indicator_map[self.mode] + bin(len(__message))[2:].zfill(character_count_indicator_map[self.version][mode_map[self.mode]]) å…¶ä¸­çš„mode_indicator_mapæ˜¯ä½ é€‰æ‹©çš„ç¼–ç æ¨¡å¼çš„æ ‡è¯†ï¼Œå¦‚æžœæ˜¯numericæ¨¡å¼éœ€è¦åŠ ä¸Š0001ï¼Œ alphanumericæ¨¡å¼ä¸º0010ï¼Œ byteæ¨¡å¼ä¸º0100ï¼Œ kanjiæ¨¡å¼ä¸º1000ã€‚è€ŒåŽé¢é‚£æ®µçœ‹èµ·æ¥å¾ˆå¤æ‚çš„ä¸€ä¸²ä¸œè¥¿ï¼Œå®žé™…ä¸Šæ˜¯æ•°æ®é•¿åº¦çš„æ ‡è¯†ï¼Œå…ˆå°†è¾“å…¥çš„æ–‡æœ¬é•¿åº¦è½¬åŒ–ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åŽæŸ¥å‡ºä¸åŒç‰ˆæœ¬ä¸‹ä¸åŒç¼–ç æ¨¡å¼æ‰€éœ€è¦çš„ï¼ˆæ–‡æœ¬é•¿åº¦ï¼‰æ ‡è¯†é•¿åº¦ï¼ŒæŽ¥ç€ç”¨0åŽ»å¯¹è¯¥äºŒè¿›åˆ¶æ•°è¿›è¡Œè¡¥é½ç¼ºçœé•¿åº¦ã€‚æœ€åŽåŠ ä¸Šæ•°æ®ç¼–ç åŽï¼Œå¦‚æžœæ•´ä½“æ•°æ®çš„é•¿åº¦ä¸æ˜¯8çš„æ•´æ•°å€ï¼Œè¿˜éœ€è¦åœ¨æ•°æ®åŽé¢ç”¨0è¿›è¡Œè¡¥é½ã€‚ ä¹Ÿè®¸ä½ å·²ç»è¢«ä¸Šé¢ç»•æ¥ç»•åŽ»å¼„å¾—æ™•å¤´è½¬å‘äº†ï¼Œä½†è¿™ä»…ä»…åªæ˜¯å¼€å§‹:)ã€‚æŽ¥ç€ï¼Œæˆ‘ä»¬çš„å¾—åˆ°çš„äºŒè¿›åˆ¶æ•°æ®é•¿åº¦è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¦æŸ¥åˆ°å½“å‰äºŒç»´ç ç‰ˆæœ¬ä»¥åŠçº é”™çº§åˆ«ä¸‹çš„äºŒç»´ç éœ€è¦æ•°æ®åŒºåŸŸçš„é•¿åº¦ä¸ºå¤šå°‘ï¼Œå¦‚æžœè¿˜æ²¡æœ‰è¾¾åˆ°éœ€è¦çš„æœ€å¤§é•¿åº¦ï¼Œæˆ‘ä»¬è¿˜è¦è½®æµåŠ ä¸¤ä¸ªè¡¥é½ç 11101100å’Œ00010001ï¼Œæ²¡é”™è½®æµçš„æ„æ€å°±æ˜¯11101100000100011110110000010001â€¦â€¦ã€‚è¿™å°±æ˜¯å®Œæ•´çš„ç¼–ç åŒºæ•°æ®ç¼–ç äº†ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºData Codewordsï¼Œæ¯ä¸€ä¸ª8bitså«ä¸€ä¸ªcodewordï¼Œæˆ‘ä»¬è¿˜è¦å¯¹è¿™äº›æ•°æ®ç åŠ ä¸Šçº é”™ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹æ•°æ®è¿›è¡Œæ¯8bitsæ‹†åˆ†å¹¶è½¬åŒ–ä¸ºäº†åè¿›åˆ¶ï¼Œå¾—åˆ°äº†ä¸€ä¸ªå……æ»¡åè¿›åˆ¶æ•°çš„æ•°ç»„ã€‚ æŽ¥ä¸‹æ¥å°±æ˜¯rs_encode()å‡½æ•°çš„å·¥ä½œäº†ï¼Œnum_of_error_correction_blocks_2_error_correction_per_blocksè¿™é‡Œæˆ‘æœ‰ä¸€ä¸ªå¸¸é‡å‘½åéžå¸¸çš„é•¿ï¼Œå®ƒä»£è¡¨ç€æ¯ä¸ªç‰ˆæœ¬å’Œçº é”™ç­‰çº§ä¸‹æ‰€éœ€çº é”™ç çš„blockæ•°é‡ï¼Œæ˜ å°„å…³ç³»çš„æ ¼å¼ä¸º(1, 19, 0, 0)æˆ–(2, 38, 2, 39)ï¼Œå¦‚æžœç¬¬ä¸‰ä¸ªæ•°ä¸º0ï¼Œè¯´æ˜Žæ‰€æœ‰çš„blockæ‰€éœ€è¦çš„codewordæ•°é‡æ˜¯ä¸€æ ·çš„ï¼Œååˆ™åä¹‹ï¼Œæœ€å¤šå¯èƒ½ä¼šæœ‰ä¸¤ç»„blockã€‚ç¬¬äºŒå’Œç¬¬å››ä¸ªå‚æ•°åˆ™ä»£è¡¨æ¯ä¸ªblockæ‰€éœ€è¦çš„codewordæ•°é‡ã€‚åˆ†ç»„åˆ†blockåŽå°±æ˜¯åˆ°äº†è®¡ç®—çº é”™ç çš„æ­¥éª¤äº†ï¼Œå¦‚æžœæƒ³è¦ç†è§£è¿™éƒ¨åˆ†çš„è¯¦ç»†æ­¥éª¤å’ŒåŽŸç†å¯ä»¥å‚è€ƒ æŽ©ç ã€çº é”™ç ç­‰ ä¸­æˆ‘æä¾›çš„é“¾æŽ¥ã€‚ çŽ°åœ¨æˆ‘ä»¬æ‰‹ä¸Šæ—¢æœ‰Data Codewordsï¼Œä¹Ÿå¾—åˆ°äº†å¯¹åº”çš„çº é”™ç ï¼Œæœ€åŽä¸€æ­¥å°±æ˜¯å°†ä»–ä»¬ç»„åˆæˆæˆ‘ä»¬äºŒç»´ç æ•°æ®åŒºåŸŸä¸­æ‰€éœ€è¦çš„å®Œæ•´çš„æ•°æ®äº†ã€‚è‡³äºŽæ€Žä¹ˆåˆèµ·æ¥å‘¢ï¼Œè¿˜æ˜¯éœ€è¦ç‚¹éªšæ“ä½œçš„ã€‚ä¸Šé¢æˆ‘ä»¬å¾—åˆ°çš„å¤šç»„å¤šblockçš„Data Codewordså’Œçº é”™ç éƒ½æ˜¯äºŒç»´æ•°ç»„ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯çŸ©é˜µå•¦ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åšçš„æ˜¯å°†çŸ©é˜µè½¬ç½®ï¼Œç„¶åŽå°†é‡Œé¢å…ƒç´ è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å¹¶ç”¨0è¡¥é½åˆ°8ä½åŽä¸€è¡Œä¸€è¡Œçš„ä¸²è¿žèµ·æ¥ï¼ŒData Codewordså’Œçº é”™ç ä¸¤ä¸ªçŸ©é˜µéƒ½éœ€è¦è¿›è¡Œæ­¤æ“ä½œã€‚åœ¨è¿™é‡Œçš„å¤„ç†ä¸­æˆ‘ä¸€å¼€å§‹å¿˜äº†åˆ†ç»„åŽçš„codewordæ˜¯ä¸ä¸€æ ·çš„ï¼ŒçŸ©é˜µè½¬ç½®åŽä¼šä¸¢æŽ‰æŸä¸€ç»„å¤šå‡ºçš„å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¡¥ä¸Šè¿™ä¸€éƒ¨åˆ†çš„æ•°æ®ã€‚ åˆ°è¿™é‡Œæ•°æ®ç¼–ç éƒ¨åˆ†æ˜¯çœŸæ­£çš„ç»“æŸäº†ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹å¤æ‚ï¼Ÿæ²¡äº‹å¤šçœ‹å‡ æ¬¡å°±èƒ½å¤Ÿç†Ÿæ‚‰äº†:) å¡«å……æ•°æ®çŸ©é˜µ çŽ°åœ¨æˆ‘ä»¬ç¦»äºŒç»´ç å‡ºç”Ÿåªæœ‰ä¸¤æ­¥ä¹‹é¥äº†ï¼ŒæŽ¥ä¸‹æ¥éƒ½æ˜¯å¾ˆç®€å•çš„ä¸œè¥¿äº†:) åŸºç¡€å›¾è§£ ä¸­å¯ä»¥çœ‹åˆ°ï¼Œç‰ˆæœ¬ä¿¡æ¯ã€æ ¼å¼ä¿¡æ¯ã€å®šä½æ ‡å¿—ã€æ ¡æ­£æ ‡å¿—ã€å®šæ—¶æ ‡å¿—è¿™äº›éƒ½æ˜¯ä¸ä¾èµ–æ•°æ®å†…å®¹çš„ï¼ˆå½“ç„¶ï¼Œå®ƒä»¬å—æ•°æ®é•¿åº¦å½±å“ï¼‰ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±æž„é€ ä¸€ä¸ªäºŒç»´ç çš„çŸ©é˜µï¼Œå…ˆæŠŠè¿™äº›ç›¸å¯¹å›ºå®šçš„æ•°æ®å¡«å……è¿›åŽ»ã€‚ def build_locate_sign(): for i in range(8): for j in range(8): if i in (0, 6): self.data_matrix[i][j] = self.data_matrix[-i - 1][j] = self.data_matrix[i][ -j - 1] = 0 if j == 7 else 1 elif i in (1, 5): self.data_matrix[i][j] = self.data_matrix[-i - 1][j] = self.data_matrix[i][ -j - 1] = 1 if j in (0, 6) else 0 elif i == 7: self.data_matrix[i][j] = self.data_matrix[-i - 1][j] = self.data_matrix[i][-j - 1] = 0 else: self.data_matrix[i][j] = self.data_matrix[-i - 1][j] = self.data_matrix[i][ -j - 1] = 0 if j in (1, 5, 7) else 1 def build_time_sign(): for i in range(self.length): self.data_matrix[i][6] = self.data_matrix[6][i] = 1 if i % 2 == 0 else 0 def build_dark_sign(): for j in range(8): self.data_matrix[8][j] = self.data_matrix[8][-j - 1] = self.data_matrix[j][8] = \ self.data_matrix[-j - 1][8] = 0 self.data_matrix[8][8] = 0 self.data_matrix[8][6] = self.data_matrix[6][8] = self.data_matrix[8][-8] = 1 if self.version &gt; 6: for i in range(6): for j in (-9, -10, -11): self.data_matrix[i][j] = self.data_matrix[j][i] = 0 def build_alignment_sign(): point_matrix = [] if alignment_location[self.version]: for i in alignment_location[self.version]: for j in alignment_location[self.version]: point_matrix.append((j, i)) matrix_len = len(point_matrix) for index in range(len(point_matrix)): if index == 0 or index == sqrt(matrix_len) - 1 or index == matrix_len - (sqrt(matrix_len) - 1) - 1: continue else: for x_offset in range(-2, 3): for y_offset in range(-2, 3): self.data_matrix[point_matrix[index][0] + x_offset][point_matrix[index][1] + y_offset] \ = 1 if x_offset % 2 == 0 and y_offset % 2 == 0 or abs(x_offset) + abs( y_offset) == 3 else 0 def level_and_mask_build(_mask_id): for format_i in range(len(format_info_str[self.level][_mask_id])): self.data_matrix[format_i if format_i &lt; 6 else ( format_i + 1 if format_i &lt; 8 else self.length - 7 + (format_i - 8))][8] = int( format_info_str[self.level][_mask_id][format_i]) self.data_matrix[8][format_i if format_i &lt; 6 else ( format_i + 1 if format_i &lt; 8 else self.length - 7 + (format_i - 8))] = int( format_info_str[self.level][_mask_id][14 - format_i]) self.data_matrix[self.length - 8][8] = int(format_info_str[self.level][_mask_id][7]) def build_version_info(): if self.version &gt; 6: _version_info = version_info_str[self.version][::-1] for num_i in range(len(_version_info)): self.data_matrix[num_i // 3][num_i % 3 + self.length - 11] = int(_version_info[num_i]) self.data_matrix[num_i % 3 + self.length - 11][num_i // 3] = int(_version_info[num_i]) ä¸Šé¢çš„ä»£ç åˆ†åˆ«å°±æ˜¯å®šä½æ ‡å¿—ã€å®šæ—¶æ ‡å¿—ã€é»‘ç‚¹ã€æ ¡æ­£æ ‡å¿—ã€æ ¼å¼ä¿¡æ¯ã€ç‰ˆæœ¬ä¿¡æ¯çš„å¡«å……ä»£ç äº†ã€‚å’¦ä¸å¯¹ï¼Œæ€Žä¹ˆå¤šäº†ä¸ªé»‘ç‚¹è¿™ä¸ªå¥‡æ€ªçš„ä¸œè¥¿ï¼Ÿå“ˆå“ˆï¼Œè¿™ä¸ªä¸œè¥¿å…¶å®žæ˜¯å›ºå®šåœ¨è¿™é‡Œçš„ï¼š ç¥žå¥‡çš„é»‘ç‚¹ å®šä½æ ‡å¿—ã€é»‘ç‚¹ã€å®šæ—¶æ ‡å¿— å®šä½æ ‡å¿—å¤§å°æ˜¯ä¸ä¼šå˜çš„ï¼Œåªæœ‰ä½ç½®ä¼šæ ¹æ®ç‰ˆæœ¬å˜åŒ–ï¼›é»‘ç‚¹æˆ‘æƒ³å°±ä¸ç”¨å¤šè¯´äº†ï¼Œå°±æ˜¯é‚£é‡Œçš„ä¸€ç‚¹ï¼›è€Œå®šæ—¶æ ‡å¿—å°±æ˜¯é»‘ç™½ç›¸é—´è¿žæŽ¥åœ¨å®šä½æ ‡å¿—ä¹‹é—´ã€‚ å®šä½æ ‡è¯†å›¾ç¤º æ ¡æ­£æ ‡å¿— ä»ŽVersion 2æ‰å¼€å§‹æœ‰æ ¡æ­£æ ‡å¿—çš„å‡ºçŽ°ï¼Œå®ƒä»¬åº”è¯¥å‡ºçŽ°çš„åæ ‡è®°å½•åœ¨å¸¸é‡alignment_locationä¸­ï¼Œä¾‹å¦‚Version 2ä¸­çš„(6, 18)ï¼Œä»£è¡¨xè½´å’Œyè½´åˆ†åˆ«åœ¨6å’Œ18ä¸Šé¢ç›¸äº¤çš„å››ä¸ªç‚¹ï¼š(6,6),(6,18),(18,6),(18,18)ï¼Œå…¶ä»–ç‰ˆæœ¬çš„ä¹Ÿæ˜¯ä»¥æ­¤ç±»æŽ¨ï¼Œä¸‹å›¾æ˜¯Version 8çš„å›¾ç¤ºï¼Œå¦‚æžœäº¤ç‚¹ä¸Šå·²ç»è¢«å®šä½æ ‡å¿—æ‰€å ï¼Œåˆ™è¯¥ç‚¹å°±ä¸ä¼šæœ‰æ ¡æ­£æ ‡å¿—ã€‚ è€Œæ ¡æ­£æ ‡å¿—çš„å°ºå¯¸å¤§å°å°±å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ ¼å¼ä¿¡æ¯ æŽ¥ç€å°±åˆ°æ ¼å¼ä¿¡æ¯å‡ºåœºäº†ï¼Œæ ¼å¼ä¿¡æ¯ä¸€å…±æœ‰ä¸¤æ¡ï¼Œé¿å…å…¶ä¸­ä¸€æ¡è¢«é®æŒ¡è€Œå¯¼è‡´è¯»å–ä¸åˆ°ä¿¡æ¯ï¼š æ ¼å¼ä¿¡æ¯çš„é•¿åº¦ä¸º15bitsï¼Œæ¯ä¸€ä¸ªbitçš„ä½ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™15ä¸ªbitsä¸­ï¼Œå‰2ä¸ªbitsç”¨äºŽè¡¨ç¤ºçº é”™çº§åˆ«ï¼ŒæŽ¥ç€3ä¸ªbitsè¡¨ç¤ºæŽ©ç ï¼Œæœ€åŽ10ä¸ªbitsç”¨äºŽçº é”™çš„ï¼Œä¹Ÿæ˜¯é€šè¿‡reedsoloæ¥è®¡ç®—å¾—å‡ºã€‚æœ€åŽ15ä¸ªbitsè¿˜è¦ä¸Ž101010000010010åšå¼‚æˆ–æ“ä½œã€‚è¿™æ ·å°±ä¿è¯ä¸ä¼šå› ä¸ºæˆ‘ä»¬é€‰ç”¨äº†00çš„çº é”™çº§åˆ«å’Œ000çš„æŽ©ç è€Œé€ æˆæ•´ä¸ªæ ¼å¼ä¿¡æ¯ä¸ºç™½è‰²ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œæ ¼å¼ä¿¡æ¯æ€»å…±åªæœ‰(çº é”™çº§åˆ«*æŽ©ç æ ·å¼)4*8=32ç§å¯èƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œåªè¦æŠŠä»–ä»¬æœ€åŽçš„ç»“æžœéƒ½åˆ—å‡ºæ¥ï¼Œæˆ‘ä»¬å°±ä¸ç”¨åšä»€ä¹ˆè®¡ç®—äº†ï¼Œæ ¹æ®çº é”™çº§åˆ«å’ŒæŽ©ç é€‰å°±å¯ä»¥äº†:) ç‰ˆæœ¬ä¿¡æ¯ ç‰ˆæœ¬ä¿¡æ¯æ˜¯ä»ŽVersion 7å¼€å§‹æ‰éœ€è¦æ·»åŠ çš„ï¼Œå®ƒä¼šå‡ºçŽ°åœ¨ä»¥ä¸‹ä¸¤ä¸ªä½ç½®ï¼š ç‰ˆæœ¬ä¿¡æ¯çš„é•¿åº¦ä¸º18bitsï¼Œå…¶ä¸­6bitsä¸ºç‰ˆæœ¬å·ï¼Œå‰©ä¸‹çš„12bitsä¸ºçº é”™ç ã€‚å› ä¸ºè¿™ä¸ªä¹Ÿæ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯è€æ ·å­ï¼Œå°†æ‰€æœ‰ç‰ˆæœ¬çš„ç‰ˆæœ¬ä¿¡æ¯æ•°æ®æ”¾åˆ°äº†version_info_stré‡Œé¢ï¼ŒæŒ‰éœ€èŽ·å–å³å¯ã€‚è€Œå¡«å……çš„é¡ºåºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç¼–ç æ•°æ®å¡«å…… æœ€åŽå°±æ˜¯å¡«å……æˆ‘ä»¬çš„å¾—åˆ°çš„æ•°æ®åŒºåŸŸç¼–ç äº†ï¼Œå¡«å……æ–¹å¼å¦‚ä¸‹å›¾ï¼šä»Žå³ä¸‹è§’å¼€å§‹æ²¿ç€çº¢çº¿å¡«å†™æˆ‘ä»¬çš„å„ä¸ªbitsã€‚å¦‚æžœé‡åˆ°äº†ä¸Šé¢çš„éžæ•°æ®åŒºåŸŸï¼Œåˆ™è·³è¿‡ã€‚ è¿™ä¸€æ­¥ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š def data_build(_encode_data): up = True bit = (int(i) for i in _encode_data) for _block_end_x in range(self.length - 1, 0, -2): _block_end_x = _block_end_x if _block_end_x &gt; 6 else _block_end_x - 1 for y in range(self.length - 1, -1, -1) if up else range(self.length): for x in (_block_end_x, _block_end_x - 1): if self.data_matrix[x][y] is None: self.data_matrix[x][y] = next(bit, 0) up = not up åº”ç”¨æŽ©ç å¹¶é€‰æ‹©æœ€ä½³çš„äºŒç»´ç  è®°å¾—ä¹‹å‰è¯´è¿‡è¿˜å‰©ä¸¤æ­¥ï¼Œä½†æˆ‘æŽæŒ‡ä¸€ç®—å‘çŽ°æˆ‘çš„å¿ƒç®—å‡ºçŽ°äº†é”™è¯¯ï¼Œä½†è¿™æ¬¡çœŸçš„æ˜¯åˆ°äº†æœ€åŽä¸¤æ­¥äº†:) å¦‚æžœç«¥éž‹ä»¬å¿˜è®°äº†æŽ©ç æ˜¯å¹²å˜›ç”¨çš„ï¼Œå¯ä»¥å›žåˆ° æŽ©ç ã€çº é”™ç ç­‰ å›žé¡¾ä¸€ä¸‹ã€‚é‚£ä¹ˆä¸€å…±æœ‰å…«ç§æŽ©ç ï¼Œä»–ä»¬çš„ä»£å·å’Œè¡¨è¾¾å¼çš„æ˜ å°„å…³ç³»å¦‚ä¸‹ï¼š é‚£æˆ‘ä»¬é¦–å…ˆè¦åšçš„å°±æ˜¯æŠŠè¡¨è¾¾å¼å†™å¥½äº†ã€‚ def mask_template(col, row, _mask_id): if _mask_id == 0: return (col + row) % 2 == 0 elif _mask_id == 1: return row % 2 == 0 elif _mask_id == 2: return col % 3 == 0 elif _mask_id == 3: return (row + col) % 3 == 0 elif _mask_id == 4: return (row // 2 + col // 3) % 2 == 0 elif _mask_id == 5: return ((row * col) % 2) + ((row * col) % 3) == 0 elif _mask_id == 6: return (((row * col) % 2) + ((row * col) % 3)) % 2 == 0 elif _mask_id == 7: return (((row + col) % 2) + ((row * col) % 3)) % 2 == 0 else: return (col + row) % 2 == 0 é‚£ä¹ˆä¸‹ä¸€æ­¥æˆ‘ä»¬å°±æ˜¯å°†äºŒç»´ç çŸ©é˜µä»£å…¥åˆ°å…«ç§æŽ©ç è¿ç®—ä¸­äº†ï¼š penalty_result = [] _matrix_with_mask = [] for mask_id in range(8): level_and_mask_build(mask_id) _matrix = [[None] * self.length for _i in range(self.length)] for x in range(self.length): for y in range(self.length): if self.data_matrix[x][y] is not None: _matrix[x][y] = self.data_matrix[x][y] ^ mask_template(x, y, mask_id) penalty_result.append(penalty(_matrix)) _matrix_with_mask.append(_matrix) è®¡ç®—å¾—åˆ°äº†å…«ä¸ªç»“æžœåŽï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä»Žé‡Œé¢ç­›é€‰å‡ºæœ€ä½³çš„äºŒç»´ç ï¼Œè®¡ç®—çš„è§„åˆ™æ˜¯ä¸€å¥—æƒ©ç½šè®¡ç®—ï¼Œæƒ©ç½šå€¼è¶Šä½Žï¼Œè¯´æ˜ŽäºŒç»´ç è¶Šå®¹æ˜“è¢«æ‰«ç å™¨è¯†åˆ«ã€‚æƒ©ç½šè®¡ç®—çš„è§„åˆ™æœ‰å››ç§ï¼Œå››ç§æƒ©ç½šåªç›¸åŠ å¾—åˆ°æœ€ç»ˆçš„æƒ©ç½šå€¼ã€‚N1æ˜¯è®¡ç®—è¡Œæˆ–åˆ—è¿žç»­ç›¸åŒè‰²å—å¤§äºŽ5çš„åŒºåŸŸï¼ŒN2æ˜¯è®¡ç®—å¤§é¢ç§¯è‰²å—çš„åŒºåŸŸï¼ŒN3æ˜¯å¯»æ‰¾è¿žç»­å››ç©ºè‰²å—0000è¿žæŽ¥1011101è‰²å—ï¼ŒN4æ˜¯è®¡ç®—äºŒç»´ç ä¸­çš„é»‘ç™½å¹³è¡¡ã€‚æƒ©ç½šåŠ›åº¦å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š def penalty(__matrix): def cal_n3(___matrix): _count = 0 check_word = ('00001011101', '10111010000') for row in ___matrix: row_str = ''.join(str(s) for s in row) begin = 0 while begin &lt; len(row_str) and check_word[0] in row_str[begin:]: begin += row_str[begin:].index(check_word[0]) + len(check_word[0]) _count += 1 begin = 0 while begin &lt; len(row_str) and check_word[1] in row_str[begin:]: begin += row_str[begin:].index(check_word[1]) + len(check_word[1]) _count += 1 return _count def get_sum(___matrix): num = 0 for v in ___matrix: if v is list: num += get_sum(v) return num + sum(map(sum, ___matrix)) n1 = 0 n2 = 0 n3 = 0 n4 = 0 # N1å¯»æ‰¾è¿žç»­åŒè‰²å—which &gt;= 5 for reverse in range(0, 2): for j in range(reverse, self.length): count = 1 adj = False for i in range(1 - reverse, self.length): if __matrix[j][i] == __matrix[j][i - 1]: count += 1 else: count = 1 adj = False if count &gt;= 5: if not adj: adj = True n1 += 3 else: n1 += 1 # N2å¯»æ‰¾m * nçš„åŒè‰²å— count = 0 for j in range(self.length): for i in range(self.length): if __matrix[j][i] == __matrix[j - 1][i] and __matrix[j][i] == \ __matrix[j][i - 1] and __matrix[j][i] == __matrix[j - 1][i - 1]: count += 1 n2 += 3 * count # N3å¯»æ‰¾è¿žç»­å››ç©ºè‰²å—0000è¿žæŽ¥1011101è‰²å— # ä¸€ä¸ªæ–¹å‘å¯»æ‰¾ + å¦ä¸€ä¸ªæ–¹å‘(çŸ©é˜µè½¬ç½®) transposition_matrix = list(zip(*__matrix)) n3 += 40 * cal_n3(__matrix) + cal_n3(transposition_matrix) # N4è®¡ç®—é»‘è‰²å—å æ¯” dark = get_sum(__matrix) percent = dark // pow(self.length, 2) * 100 pre = percent - percent % 5 nex = percent + 5 - percent % 5 n4 = min(abs(pre - 50) / 5, abs(nex - 50) / 5) * 10 return n1 + n2 + n3 + n4 è®¡ç®—å¾—å‡ºæ‰€æœ‰çš„äºŒç»´ç çš„æƒ©ç½šå€¼åŽï¼Œæˆ‘ä»¬é€‰æ‹©é‚£ä¸ªæƒ©ç½šå€¼æœ€å°çš„ä½œä¸ºæœ€ç»ˆçš„äºŒç»´ç çŸ©é˜µã€‚ _best_mask_id = penalty_result.index(min(penalty_result)) self.data_matrix = _matrix_with_mask[_best_mask_id] return _best_mask_id ç”Ÿæˆå›¾ç‰‡ è‡³æ­¤äºŒç»´ç çŸ©é˜µå·²ç»ç”Ÿæˆå¹¶é€‰å–å®Œæ¯•äº†ï¼Œä¸‹é¢çš„å·¥ä½œå°±åªæ˜¯æŒ‰ç…§çŸ©é˜µç”Ÿæˆå›¾ç‰‡äº†ï¼Œç”±äºŽæˆ‘è¿˜æœ‰å…¶ä»–éªšæ“ä½œï¼Œä¸‹é¢çš„ä»£ç å¹¶ä¸æ˜¯ç®€å•çš„ç›´æŽ¥ç”Ÿæˆå›¾ç‰‡ï¼Œä¸è¿‡ä¹ŸåŒ…å«åœ¨é‡Œé¢äº†ï¼Œå¤§å®¶å¯ä»¥æ‹‰ä»£ç ä¸‹æ¥æ…¢æ…¢çœ‹ã€‚ def generate(self, path): if self.qrcode is None: self._matrix_to_img() if self.gif_combine: self.gif_qrcode[0].save(path, save_all=True, append_images=self.gif_qrcode, duration=self.duration, loop=0) else: self.qrcode.save(path) return def _matrix_to_img(self, img_mode='1', matrix=None): border = abs(int(self.border)) size = (self.length + 2 * border, self.length + 2 * border) img = Image.new(img_mode, size, img_mode_2_color_map[img_mode][0]) for x in range(self.length): for y in range(self.length): img.putpixel((x + border, y + border), (img_mode_2_color_map[img_mode][0] - self.data_matrix[x][y]) if matrix is None else matrix[x][y]) self.qrcode = img ç»“æŸ äºŒç»´ç çš„åŽŸç†ä»¥åŠä»£ç å®žæˆ˜åˆ°è¿™é‡Œå°±å®Œç»“äº†ï¼Œä¸€å¹´å‰æœºç¼˜å·§åˆçœ‹åˆ°äº†ä¸€ç¯‡äºŒç»´ç çš„ä»‹ç»æ–‡ç« ï¼Œä¸€æ—¶å…´èµ·å°±è·Ÿç€å†™äº†ä¸€ä¸ªVersion 1å’ŒHçº é”™çº§åˆ«çš„äºŒç»´ç ç”Ÿæˆä»£ç ï¼Œä½†æ˜¯å±€é™æ€§å¤ªå¤§äº†ï¼Œè€Œä¸”ä¸æ”¯æŒä¸­æ–‡ç¼–ç ï¼Œå°±ä¸€ç›´æƒ³ç€å†™æˆæ¯”è¾ƒé€šç”¨çš„åº“ï¼Œä½†æ˜¯è¿Ÿè¿Ÿæ²¡æœ‰ä¸‹æ‰‹ã€‚è¿™æ¬¡ç»ˆäºŽæ‹¿å‡ºäº†åŠä¸ªæœˆæ—¶é—´é‡æ¸©äº†ä¸€éå¹¶ä¸”å®žçŽ°äº†è¾ƒä¸ºé€šç”¨çš„ç‰ˆæœ¬ï¼Œå¦å¤–è¿˜æ·»åŠ äº†ä¸€äº›å®šåˆ¶æ€§çš„ä¸œè¥¿è¿›åŽ»ã€‚å½“ç„¶æˆ‘çš„è§£è¯´ä»¥åŠä»£ç ä¸å…·å¤‡æƒå¨æ€§ï¼Œå¦‚æžœæœ‰å…´è¶£éªŒè¯å’Œæ·±å…¥äº†è§£çš„ç«¥éž‹ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹çš„èµ„æ–™å’Œä»£ç ï¼š https://github.com/sylnsfar/qrcode https://coolshell.cn/articles/10590.html https://zhuanlan.zhihu.com/p/21463650 https://www.thonky.com/qr-code-tutorial/ https://www.jianshu.com/p/8208aad537bb https://github.com/tomhaoye/qrcode/blob/master/pdf/SC031-N-1915-18004Text.pdf å®Œã€‚]]></content>
      <categories>
        <category>æœ‰è¶£</category>
      </categories>
      <tags>
        <tag>other</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æžéªŒæ»‘åŠ¨éªŒè¯ç è¡Œä¸ºæ¨¡æ‹Ÿ]]></title>
    <url>%2F2018%2F09%2F01%2F%E6%9E%81%E9%AA%8C%E6%BB%91%E5%8A%A8%E9%AA%8C%E8%AF%81%E7%A0%81%E8%A1%8C%E4%B8%BA%E6%A8%A1%E6%8B%9F%2F</url>
    <content type="text"><![CDATA[ä¸ºäº†èƒ½çœ‹åˆ°å…·ä½“çš„æ•ˆæžœï¼Œä½¿ç”¨äº†selenium+chromeè¿›è¡Œå®žéªŒï¼Œå¦‚æžœå¤§å®¶æƒ³è¦æ‰“åŒ…ä¸‹è½½å³ç”¨ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹æ­é…PhantomJSé£Ÿç”¨ã€‚ ç»è¿‡ä¸€ç•ªæŠ˜è…¾æˆåŠŸçŽ‡å·²ç»æ¯”è¾ƒé«˜äº†ï¼ˆ70%-90%å§ã€2018/10/01ã€‘ï¼‰ï¼ŒæŸäº›èƒŒæ™¯å¹²æ‰°å…ƒç´ è¿‡å¤šç¼ºå£åˆåˆšå¥½åœ¨è‰²å·®è¾ƒå°çš„åœ°æ–¹çš„æ—¶å€™å¯èƒ½ä¼šè®¡ç®—é”™è¯¯ï¼Œä¹Ÿå¯èƒ½è¿˜æœ‰æŸäº›ç‰¹æ®Šçš„æƒ…å†µï¼ŒGIFæ˜¯æ—§çš„ï¼Œå…·ä½“å¯çœ‹MP4ã€‚ ä»£ç ä»…ä¾›å‚è€ƒå­¦ä¹ äº¤æµï¼Œæœ‰å…´è¶£å¯ä»¥æ‹¿åŽ»çŽ©çŽ©ï¼Œé‰´äºŽæœ¬äººèƒ½åŠ›æœ‰é™ï¼Œä»£ç ã€é€»è¾‘ä»¥åŠè§£å†³æ–¹å¼ä¸Šæœ‰é”™è¯¯åœ¨æ‰€éš¾å…ï¼Œè¯·å„ä½å¤§ä½¬å¤šå¤šæŒ‡æ•™~ å¦å¤–æˆ‘å‘çŽ°æžéªŒå®˜ç½‘å¿«æ”¹ç‰ˆäº†ï¼Œé‰´äºŽè¯¥ä»£ç ç›´æŽ¥åœ¨æžéªŒå®˜ç½‘ä¸Šæ¨¡æ‹Ÿï¼Œå¯èƒ½å¾ˆå¿«å°±ç”¨ä¸äº†äº†ï¼Œå±Šæ—¶å¯ä»¥è€ƒè™‘æŽ¥å…¥apiåˆ°è‡ªå·±æœ¬åœ°å†è¿›è¡Œæ¨¡æ‹Ÿæµ‹è¯•ã€‚ ä»“åº“åœ°å€: https://github.com/tomhaoye/geetest-crack-demo æ•…äº‹èµ·æº ä¹‹å‰å†™äº†ä¸ªçˆ¬è™«æŠ“å–58çš„å°åŒºæ•°æ®çš„ä»£ç ï¼Œæœ‰äººæäº†ä¸ªissueï¼Œè¯´å°åŒºè¯¦æƒ…æ•°æ®å’Œç»çº¬åº¦ä¸ºç©ºï¼Œæˆ‘è‡ªå·±è¯•äº†ä¸€æŠŠï¼Œå‘çŽ°è¯·æ±‚å¤ªé¢‘ç¹ä¼šè¢«å¼ºåˆ¶è·³è½¬åˆ°éªŒè¯ç çš„é¡µé¢åŽ»ã€‚ åŽæ¥è¯•ç”¨äº†ä»£ç†ï¼Œå‘çŽ°ä¸€ä¸ªipæ²¡æŠ“å‡ æ¡æ•°æ®å°±è¢«å¼ºåˆ¶è·³è½¬äººæœºæ ¡éªŒäº†ï¼Œç„¶åŽæˆ‘æ‰‹åŠ¨åŽ»è®¿é—®ç½‘é¡µå¹¶é€šè¿‡éªŒè¯ç çš„æ ¡éªŒä¹‹åŽå†åŽ»æŠ“å–æ•°æ®ï¼Œå‘çŽ°æŠ“å–äº†å‡ åƒæ¡æ•°æ®ä¹Ÿæ²¡æœ‰å†è¢«å¼ºè·³äº†ã€‚ è¿™æ˜¯ä»€ä¹ˆè§„åˆ™=ã€‚=ç®—äº†ï¼Œè¿˜æ˜¯å…ˆæƒ³åŠžæ³•èƒ½è‡ªåŠ¨é€šè¿‡äººæœºæ ¡éªŒå…ˆã€‚è€Œ58çš„è¿™ä¸ªé¡µé¢çš„äººæœºæ ¡éªŒï¼Œæ˜¯ç±»ä¼¼äºŽæžéªŒçš„é‚£ç§æ»‘åŠ¨éªŒè¯ç ã€‚emmmmï¼Œç½‘ä¸Šèµ„æ–™éƒ½å¾ˆå¤šï¼Œä½†æ˜¯ç‰ˆæœ¬è¾ƒæ—§ï¼ŒçŽ°åœ¨çš„æžéªŒæ»‘åŠ¨æ ¡éªŒæ”¹è¿›äº†ä¸å°‘åœ°æ–¹ï¼Œä¸è¿‡æ€è·¯æ€»æ˜¯å¯ä»¥å‚è€ƒäº†ã€‚ æ­¥éª¤åˆ†è§£ å±å¹•å‡ºçŽ°æ»‘åŠ¨è¡Œä¸ºéªŒè¯ç æ¡† æˆªå–éªŒè¯ç åˆæˆå›¾ç‰‡\èŽ·å–éªŒè¯ç åŽŸå›¾ç‰‡ å›¾ç‰‡å¤„ç†ä»¥åŠç¼ºå£å®šä½ å°†æ‹¼å›¾ç§»åŠ¨åˆ°ç¼ºå£å¤„ åŽç»­ï¼šå…³äºŽå¹²æ‰°å—æŽ’é™¤çš„æƒ³æ³• åŽç»­ï¼šå…³äºŽå¢žåŠ å®šä½æ¨¡æ‹Ÿéš¾åº¦çš„æƒ³æ³• å¼€å§‹ç ”ç©¶ 0ã€å±å¹•å‡ºçŽ°æ»‘åŠ¨è¡Œä¸ºéªŒè¯ç æ¡† æˆ‘é¦–å…ˆæ‰¾åˆ°ä½¿ç”¨æžéªŒæŽ§ä»¶çš„åœ°æ–¹ï¼Œä¾‹å¦‚ï¼šæžéªŒå®˜ç½‘ï¼Œç„¶åŽç‚¹å‡»åˆ°æ»‘åŠ¨è¡Œä¸ºéªŒè¯æ¡†å‡ºçŽ°ã€‚è¿™ä¸ªè¡Œä¸ºä½¿ç”¨seleniumæ¨¡æ‹Ÿæ¯”è¾ƒç®€å•ï¼Œå…³äºŽå¦‚ä½•ä½¿ç”¨seleniumè¿›è¡Œå…ƒç´ å®šä½ã€æ¨¡æ‹Ÿç‚¹å‡»ç­‰è¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ï¼Œæœ‰éœ€è¦å­¦ä¹ çš„æ‰¾è°·æ­Œç™¾åº¦çš†å¯ï¼Œæœ‰å‰ç«¯åŸºç¡€çš„ä¸€å°æ—¶å†…å°±èƒ½å¤Ÿä¸Šæ‰‹ã€‚ 1ã€æˆªå–éªŒè¯ç åˆæˆå›¾ç‰‡\èŽ·å–éªŒè¯ç åŽŸå›¾ç‰‡ 1.1ã€èŽ·å–éªŒè¯ç åŽŸå›¾ç‰‡ çŽ°åœ¨æ»‘åŠ¨è¡Œä¸ºéªŒè¯æ¡†å·²ç»å‡ºçŽ°äº†ï¼ŒæŽ¥ä¸‹æ¥åº”è¯¥æ˜¯æƒ³åŠžæ³•æ‹¿åˆ°åŽŸå›¾ç‰‡ï¼Œæˆ–è€…æ˜¯ç›´æŽ¥æˆªå–å½“å‰åˆæˆå¥½çš„å›¾ç‰‡ï¼Œä¸¤ç§åšæ³•æœ‰æœ¬è´¨ä¸Šä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿé¦–å…ˆå…ˆè¯´ä¸€ä¸‹èŽ·å¾—åŽŸå›¾ç‰‡ï¼ŒæžéªŒåœ¨åŠ è½½æ ¡éªŒæŽ§ä»¶çš„æ—¶å€™ä¼šè¯·æ±‚ä¸‰å¼ å›¾ç‰‡ï¼Œå…¶ä¸­ä¸€å¼ æ˜¯ç¼ºå£åŽŸå›¾ï¼Œå¦å¤–ä¸€å¼ æ˜¯å®Œæ•´åŽŸå›¾ï¼Œè¿˜æœ‰ä¸€å¼ æ˜¯æ‹¼å—ã€‚ ç¼ºå£åŽŸå›¾ å®Œæ•´åŽŸå›¾ å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œè¯·æ±‚çš„æ‰€èŽ·å–åˆ°çš„åŽŸå›¾ï¼Œéƒ½æ˜¯æ‰“æ•£é‡ç»„è¿‡çš„å›¾ç‰‡ï¼Œæˆ‘è¯»è¿‡ä¸€äº›è§£æžçš„æ–‡ç« ï¼Œæœ‰çš„æåˆ°é‡æ–°ç»„åˆåˆ°ä¸€èµ·çš„æ–¹æ³•å†™åœ¨ä»£ç é‡Œé¢ï¼Œè€Œæœ‰çš„æ–‡ç« åˆ™æ˜¯è¡¨ç¤ºæ•£å—æ˜ å°„å…³ç³»æ˜¯æœ‰æŽ¥å£è¯·æ±‚çš„ï¼Œè¿™ä¹Ÿè®¸æ˜¯å¤§å®¶ç ”ç©¶çš„ç‰ˆæœ¬ä¸ä¸€æ ·æ‰€å¯¼è‡´çš„ã€‚æˆ‘ä¸‹è½½äº†ä¸€äº›åŽŸå›¾çš„ç»„åˆè¿›è¡Œäº†è§‚å¯Ÿï¼Œå€’æ˜¯å‘çŽ°äº†æ¯ä¸€ç»„åŽŸå›¾çš„å…¶å®žæ‰“æ•£å‰åŽçš„æ•£å—çš„ä½ç½®åº”è¯¥æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜ å°„å…³ç³»åº”è¯¥æ˜¯å›ºå®šçš„ã€‚å…¶å®žæˆ‘è§‰å¾—ï¼Œæ— è®ºæ˜ å°„å…³ç³»æ˜¯åœ¨å‰ç«¯ä»£ç é‡Œï¼Œè¿˜æ˜¯åœ¨æŽ¥å£é‡Œï¼Œåªè¦ä½ éœ€è¦åœ¨å®¢æˆ·ç«¯è¿›è¡Œé‡ç»„çš„ï¼Œé‚£å°±ç›¸å½“äºŽæ²¡æœ‰ç§˜å¯†ï¼Œæ‰€ä»¥å¤šä¸€äº‹ä¸å¦‚å°‘ä¸€äº‹ï¼Œç›´æŽ¥ä½¿ç”¨å›ºå®šçš„æ˜ å°„å…³ç³»å€’æ˜¯çœäº‹ä¸å°‘ã€‚ 1.2ã€æˆªå–éªŒè¯ç åˆæˆå›¾ç‰‡ è¿™ä¸€å°èŠ‚æ˜¯å…³äºŽèŽ·å–å›¾ç‰‡çš„ï¼Œå›¾ç‰‡å¤„ç†ä¼šåœ¨ä¸‹ä¸€å°èŠ‚ï¼Œæ‰€ä»¥æŽ¥ä¸‹æ¥è¯´ä¸€ä¸‹ç›´æŽ¥æˆªå–åˆæˆçš„å›¾ç‰‡ã€‚æ‰€è°“æ‰€è§å³æ‰€å¾—ï¼Œèƒ½å¤ŸèŽ·å–åˆ°äººçœ¼ç›´æŽ¥çœ‹åˆ°çš„å›¾åƒï¼Œæ‰æ˜¯æœ€æŽ¥è¿‘äººç±»è¡Œä¸ºçš„æ¨¡æ‹Ÿï¼Œè€Œå¦‚æžœé€šè¿‡å…¶ä»–æ–¹å¼å–å·§ï¼Œå“ªå¤©ä»–çš„æ–¹å¼æ”¹äº†ï¼Œä½ çš„é€»è¾‘å°±ä¸é€‚ç”¨äº†ã€‚å°±åƒæˆ‘åŽæ¥è§‚å¯Ÿ58çš„æ»‘åŠ¨è¡Œä¸ºéªŒè¯ï¼Œå®ƒå®¶è¯·æ±‚çš„å›¾ç‰‡å°±æ˜¯å®Œæ•´çš„åˆæˆå›¾ï¼Œæ‰€ä»¥éµå¾ªæ­£å¸¸äººç±»è¡Œä¸ºæ‰æ˜¯ç©¶æžå¥¥ä¹‰å•Šã€‚è‡³äºŽå¦‚ä½•æˆªå–åŠ¨è¡Œä¸ºéªŒè¯æ¡†ä¸­çš„åˆæˆå›¾ç‰‡ï¼Œæˆ‘ä»¬éœ€è¦å®šä½åˆ°éªŒè¯æ¡†æ‰€å±žçš„ä½ç½®ï¼ŒäºŽæ˜¯ä¹Žæˆ‘å…ˆå®šä½åˆ°ä¸€ä¸ªclassä¸ºgeetest_windowçš„divï¼Œæ‹¿åˆ°å®ƒå½“å‰çš„ä½ç½®ä»¥åŠé•¿å®½å±žæ€§ï¼ŒæŽ¥ç€æˆªå›¾æ•´ä¸ªå½“å‰é¡µé¢çš„ï¼Œå¹¶æ ¹æ®åˆšåˆšèŽ·å¾—çš„ä½ç½®ä»¥åŠé•¿å®½å±žæ€§å¯¹å½“å‰é¡µé¢å›¾ç‰‡è¿›è¡Œè£å‰ªï¼Œå°±å¯ä»¥èŽ·å¾—æˆ‘ä»¬äººçœ¼æ‰€çœ‹åˆ°çš„åˆæˆå›¾ç‰‡äº†ã€‚ def cut_gt_window_image(browser): image_div = browser.find_element_by_class_name(&quot;geetest_window&quot;) location = image_div.location size = image_div.size top, bottom, left, right = location['y'], location['y'] + size['height'], location['x'], location['x'] + size[ 'width'] screen_shot = browser.get_screenshot_as_png() screen_shot = image.open(BytesIO(screen_shot)) captcha = screen_shot.crop((left, top, right, bottom)) captcha.save(cut_image_path) return browser åˆæˆå›¾ç‰‡ é€šè¿‡è¿™ä¸€å°èŠ‚æˆ‘ä»¬å¯¹äºŽèŽ·å–å›¾ç‰‡çš„æ–¹å¼å’Œæ–¹æ³•å·²ç»äº†ç„¶äºŽèƒ¸ï¼ŒçŽ°åœ¨å°±è®©æˆ‘ä»¬è¿›å…¥ä¸‹ä¸€å°èŠ‚ï¼Œå¯¹åˆšåˆšæ‰€èŽ·å¾—çš„å›¾ç‰‡è¿›è¡Œåˆ†æžå’Œç ”ç©¶å§ã€‚ 2ã€å›¾ç‰‡å¤„ç†ä»¥åŠç¼ºå£å®šä½ 2.1ã€å¤„ç†æ‰“æ•£çš„åŽŸå›¾ç‰‡ä¸Žå®šä½ç¼ºå£ä½ç½® åœ¨ä¸Šä¸€å°èŠ‚ï¼Œæˆ‘ä»¬å·²ç»çŒœæµ‹è¿‡æ˜¯æ‰“æ•£è¿‡çš„å›¾ç‰‡è·Ÿå®žé™…ä¸Šæ­£å¸¸çš„å›¾ç‰‡çš„æ˜ å°„å…³ç³»æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æˆ‘å…ˆå°è¯•å¯¹å…¶ä¸­ä¸€å¼ ç¼ºå£åŽŸå›¾çš„æ‰“æ•£å›¾ç‰‡è¿›è¡Œé‡ç»„ã€‚é‡ç»„çš„å…³é”®å…¶å®žå°±æ˜¯æ‰¾åˆ°æ•£å—è·ŸåŽŸæ¥ä½ç½®çš„æ˜ å°„å…³ç³»å°±è¡Œäº†ï¼ŒäºŽæ˜¯æˆ‘æ‹¿ç€æ‰“æ•£å›¾ç‰‡è·Ÿåˆæˆå¥½çš„å›¾ç‰‡ä¸€å—ä¸€å—çš„å¯¹æ¯”ï¼Œå‘çŽ°äº†å®ƒå®žé™…ä¸Šæ˜¯å°†æ­£å¸¸çš„å›¾ç‰‡åˆ†ä¸ºä¸Šä¸‹ä¸¤éƒ¨åˆ†ï¼Œç„¶åŽä¸Šä¸‹ä¸¤éƒ¨åˆ†å†åˆ†ä¸º26ä»½è¿›è¡Œæ‰“æ•£çš„ã€‚å…³äºŽä½ç½®çš„æ˜ å°„å…³ç³»ï¼Œç”±äºŽæ—¶é—´å…³ç³»ï¼Œæˆ‘å°±åŠ¨ç”¨äº†æˆ‘çš„ç«çœ¼é‡‘ç›ç›´æŽ¥å¾—åˆ°äº†ç»“æžœï¼š {1: 18, 2: 17, 3: 15, 4: 16, 5: 22, 6: 21, 7: 14, 8: 13, 9: 10, 10: 9, 11: 19, 12: 20, 13: 2, 14: 1, 15: 6, 16: 5, 17: 26, 18: 25, 19: 23, 20: 24, 21: 7, 22: 8, 23: 3, 24: 4, 25: 11, 26: 12} è¿™é‡Œçš„æ˜ å°„å…³ç³»æ˜¯å›¾ç‰‡ä¸ŠåŠéƒ¨åˆ†çš„ï¼Œè€Œä¸‹åŠéƒ¨åˆ†çš„æ˜ å°„å…³ç³»ï¼Œæˆ‘æ‰¾äº†å‰ä¸¤ä¸ªæ•£å—çš„åŽŸæœ¬å¯¹åº”ä½ç½®ï¼Œå°±å¤§æ¦‚èƒ½çŒœåˆ°å…¶å®žå°±æ˜¯ä½¿ç”¨ä¸ŠåŠéƒ¨åˆ†çš„æ˜ å°„å…³ç³»ç›¸é‚»ä¸¤å€¼äº¤æ¢åŽçš„ç»“æžœï¼Œä¾‹å¦‚ä¸ŠåŠéƒ¨åˆ†æ˜¯1:18, 2:17é‚£ä¹ˆåˆ°äº†ä¸‹åŠéƒ¨åˆ†å°±æ˜¯1:17, 2:18ï¼Œä¸‹é¢å°±æ˜¯å…·ä½“çš„è¿˜åŽŸå›¾ç‰‡ä»£ç ï¼š def merge_img(img_path='', target=''): im = image.open(img_path) to_image = image.new('RGB', (260, 160)) dx = 12 dy = 80 x = 0 img_map = {1: 18, 2: 17, 3: 15, 4: 16, 5: 22, 6: 21, 7: 14, 8: 13, 9: 10, 10: 9, 11: 19, 12: 20, 13: 2, 14: 1, 15: 6, 16: 5, 17: 26, 18: 25, 19: 23, 20: 24, 21: 7, 22: 8, 23: 3, 24: 4, 25: 11, 26: 12} while x &lt;= 300: y = 0 while y &lt;= 80: from_img = im.crop((x, y, x + dx, y + dy)) second_line = img_map[(x / 12) if ((x / 12) % 2) else (x / 12 + 2)] - 1 loc = ((img_map[x / 12 + 1] - 1) * 10 if y else second_line * 10, abs(y - dy)) to_image.paste(from_img, loc) y += dy x += dx to_image = to_image.convert('L') to_image.save(target) return to_image è¡¥å……ä¸€ç‚¹ï¼Œå¤§å®¶çœ‹åˆ°çš„æ‰“æ•£å›¾ç‰‡çš„å®½åº¦æ˜¯312ä¸ªåƒç´ çš„ï¼Œè€Œæˆ‘è¿™é‡Œæœ€åŽè¿˜åŽŸçš„å¾—åˆ°çš„å›¾ç‰‡å®½åº¦å´æ˜¯260åƒç´ ï¼Œè¿™æ˜¯å› ä¸ºæ‰“æ•£å›¾ç‰‡çš„æ¯ä¸€ä¸ªç›¸é‚»æ•£å—ä¹‹é—´å®žé™…ä¸Šæ˜¯æœ‰é‡å éƒ¨åˆ†çš„ï¼Œä¸€å¼€å§‹æˆ‘åˆæˆå¾—åˆ°çš„å®½åº¦312åƒç´ çš„å›¾ç‰‡æ—¶å€™å‘çŽ°å›¾ç‰‡æ˜¯å˜äº†æ ·çš„ï¼Œæ‰€ä»¥æœ€åŽå°†ä»–ä»¬é‡å éƒ¨åˆ†å †å åœ¨ä¸€èµ·ï¼Œæ‰å¾—åˆ°äº†æ­£å¸¸çš„åŽŸå§‹å›¾ç‰‡ã€‚ è¿˜åŽŸå®Œæ•´å›¾ç‰‡ è¿˜åŽŸç¼ºå£å›¾ç‰‡ ç¼ºå£å›¾å’Œå®Œæ•´å›¾éƒ½å¯ä»¥å¦‚æ³•ç‚®åˆ¶ï¼Œæœ€åŽä¸ºäº†æ–¹ä¾¿å¯¹æ¯”ï¼Œè¿›è¡Œäº†ç°åº¦åŒ–å¤„ç†ã€‚æŽ¥ä¸‹æ¥ç”±äºŽè‡ªèº«å¯¹å„ç§å›¾ç‰‡æ ¼å¼å¹¶ä¸ç†Ÿæ‚‰ï¼Œç¢°äº†ä¸å°‘å£ï¼Œæˆ‘ä¼šå¦å¤–å†å†™ä¸€ç¯‡å…³äºŽå›¾ç‰‡æ ¼å¼çš„å­¦ä¹ ç¬”è®°ï¼Œå®Œå·¥åŽä¼šæŠŠé“¾æŽ¥è´´è¿‡æ¥ï¼Œæœ‰éœ€è¦çš„ç«¥éž‹å¯ä»¥è‡ªå–ï¼Œè¿™é‡Œæˆ‘å°±ä¸è¯¦ç»†è¯´è‡ªå·±æ€Žä¹ˆå‘è‡ªå·±çš„äº†ã€‚ é‚£æˆ‘ä»¬æ¥è¿›å…¥æ­£é¢˜ï¼Œä¸¤å¼ å®Œæ•´çš„å›¾ç‰‡å·²ç»åˆ°æ‰‹äº†ï¼ŒæŽ¥ä¸‹æ¥å°±åº”è¯¥æ˜¯å®šä½ç¼ºå£çš„èµ·å§‹ä½ç½®äº†ã€‚ç«¥éž‹ä»¬å¯ä»¥ç”¨è‚‰çœ¼çœ‹åˆ°ï¼Œä¸¤å¼ å›¾ç‰‡é™¤äº†ç¼ºå£ä½ç½®ï¼Œå…¶ä»–éƒ¨åˆ†åŸºæœ¬æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ‰€ä»¥æ€è·¯å¾ˆç®€å•ï¼Œå°±æ˜¯å¯¹ä¸¤å¼ å›¾ç‰‡é€ä¸ªåƒç´ ç‚¹è¿›è¡Œå¯¹æ¯”ï¼Œç„¶åŽç¬¬ä¸€ä¸ªæœ‰å·®åˆ«çš„ä½ç½®ï¼Œæ˜¯ä¸æ˜¯å°±æ˜¯ç¼ºå£çš„èµ·å§‹ä½ç½®å‘¢ï¼Ÿ æ¢ä½œå…ˆå‰çš„ç‰ˆæœ¬æˆ–è®¸æ˜¯å¯¹çš„ï¼Œä½†çŽ°åœ¨æ¥è¯´å¤§æ¦‚æ˜¯é”™çš„ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿæ¯”è¾ƒå¤šå‰è¾ˆçš„æ–‡ç« ä¸­æåˆ°ç¬¬ä¸€ä¸ªå·®å¼‚çš„ä½ç½®å°±æ˜¯ç¼ºå£çš„èµ·ç‚¹ï¼Œä½†æ˜¯é‚£æ˜¯åŸºäºŽæ‰“æ•£å›¾ç‰‡åŽä½¿ç”¨çš„åŽ‹ç¼©æ ‡å‡†æ˜¯æ— æŸåŽ‹ç¼©ï¼Œå¦‚æžœä½¿ç”¨äº†æœ‰æŸåŽ‹ç¼©ï¼ˆæˆ–è€…è¯´æ”¯æŒæœ‰æŸåŽ‹ç¼©çš„æ ‡å‡†ï¼‰ï¼Œé‚£ä¹ˆå¾—åˆ°çš„ç¼ºå£å›¾ç‰‡å’Œå®Œæ•´å›¾ç‰‡å°±ä¸ä¸€å®šåªæœ‰ç¼ºå£éƒ¨åˆ†æœ‰å·®å¼‚äº†ã€‚ä¸è¿‡å¥½åœ¨æˆ‘ä»¬çŸ¥é“ï¼Œå³ä½¿æ˜¯æœ‰æŸåŽ‹ç¼©ï¼Œä¹Ÿåªæ˜¯æŸå¤±éƒ¨åˆ†ç»†èŠ‚ï¼Œè‚‰çœ¼ä¸Šçœ‹åˆ°çš„å·®å¼‚å¹¶ä¸æ˜Žæ˜¾ï¼Œå¯¹äºŽè®¡ç®—æœºæ¥è¯´ï¼Œå°±æ˜¯é¢œè‰²å˜åŒ–å¹¶ä¸å¤§ï¼Œå¯¹äºŽç°åº¦å›¾ç‰‡æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ˜¯ç°åº¦å€¼ç›¸å·®è¾ƒå°ã€‚è€Œæˆ‘ä»¬ç¼ºå£ä½ç½®ï¼Œå› ä¸ºéœ€è¦é€šè¿‡äººçœ¼èƒ½å¤Ÿæ¸…æ™°çš„è¾¨åˆ«ï¼Œæ‰€ä»¥å®ƒè·Ÿå‘¨å›´çš„ç°åº¦å€¼ç›¸å·®åº”è¯¥æ˜¯æ¯”è¾ƒå¤§çš„ã€‚äºŽæ˜¯æˆ‘ä»¬å°±èƒ½å¤Ÿæƒ³åˆ°åŽ»æ‰¾åˆ°è¿™ä¸ªç°åº¦å€¼ç›¸å·®çš„é˜ˆå€¼ï¼ŒåŽ»è¿›è¡ŒåŒºåˆ†åˆ°åº•æ˜¯ç¼ºå£è¿˜æ˜¯å› ä¸ºæœ‰æŸåŽ‹ç¼©æ‰€å¸¦æ¥çš„ç»†èŠ‚æŸå¤±ã€‚åˆ†æžå¤§æ¦‚å°±æ˜¯åˆ°è¿™äº†ï¼Œä¸‹é¢æ˜¯å…·ä½“çš„ä»£ç ï¼š def enlarge_diff_image(bg_path='', fbg_path='', save_path=''): bg_img = image.open(bg_path) fbg_img = image.open(fbg_path) img = image.new('L', (260, 160)) for i in range(260): for j in range(160): if abs(bg_img.getpixel((i, j)) - fbg_img.getpixel((i, j))) &gt; 40: img.putpixel((i, j), bg_img.getpixel((i, j))) else: img.putpixel((i, j), 255) img.save(save_path) å·®å¼‚çž„ç‚¹å›¾ ä¸Šé¢çš„å›¾ç‰‡å°±æ˜¯è‡ªå·±å‘è‡ªå·±çš„ä»£è¡¨ä½œï¼Œå› ä¸ºæˆ‘å°†æ‰“æ•£å›¾è¿˜åŽŸåŽä½¿ç”¨äº†æœ‰æŸåŽ‹ç¼©ï¼Œæœ€åŽå¯¹æ¯”çš„ç»“æžœå‡ºæ¥äº†å¾ˆå¤šå¹²æ‰°ç‚¹ï¼Œè™½ç„¶é€šè¿‡ä¸€å®šçš„è§„åˆ™åŽ»å®šä½ç¼ºå£çš„å®žé™…ä½ç½®æ²¡æœ‰å¤ªå¤§é—®é¢˜ï¼Œä½†æ˜¯å¤§å®¶è¿˜æ˜¯å°½é‡ä½¿ç”¨æ— æŸåŽ‹ç¼©çš„å›¾ç‰‡è¿›è¡Œå¯¹æ¯”ä¼šæ¯”è¾ƒå¦¥å½“ã€‚å½“ç„¶ä½ ä»¬å¯ä»¥ä¸å°†è¿˜åŽŸåŽçš„å›¾ç‰‡ä¿å­˜å°±ç›´æŽ¥è¿›è¡Œå¯¹æ¯”ï¼Œæˆ‘è¿™é‡Œä¸ºäº†æ–¹ä¾¿æ­¥éª¤åˆ†è§£ï¼Œèººäº†ä¸€æ¬¡å‘ï¼Œå­¦åˆ°æ–°å§¿åŠ¿ï¼Œå€’ä¸æ˜¯åäº‹ã€‚ æ— æŸå·®å¼‚çž„ç‚¹å›¾ å¾—åˆ°è¿™æ ·çš„å›¾ç‰‡ï¼Œå¤§å®¶æƒ³è¦æ±‚ç¼ºå£èµ·å§‹ä½ç½®ä¸Žå·¦è¾¹æ¡†çš„åƒç´ å°±ååˆ†ç®€å•äº†ï¼Œå½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥ç»§ç»­å¤„ç†ï¼Œå°†å›¾ç‰‡çœŸæ­£çš„äºŒå€¼åŒ–ï¼Œä¸è¿‡æœ€åŽæ±‚ç§»åŠ¨è·ç¦»éƒ½æ˜¯åªè¦æ±‚ç¬¬ä¸€ä¸ª0ç‚¹ï¼ˆé»‘ç‚¹ï¼‰çš„åƒç´ ç‚¹å°±è¡Œï¼Œä»¥é˜²ä¸‡ä¸€è¿˜å¯ä»¥åŠ ä¸Šå¯¹èŒƒå›´å†…0ç‚¹ï¼ˆé»‘ç‚¹ï¼‰é¢ç§¯é˜ˆå€¼åˆ¤æ–­ã€‚ äºŒå€¼åŒ–å›¾ ç¼ºå£å›¾å’Œå®Œæ•´å›¾çš„ç¼ºå£å®šä½å¹¶ä¸å¤ªéš¾ï¼Œå¤§æ¦‚åˆ°è¿™é‡Œå°±å¯ä»¥ç»“æŸäº†ï¼Œç„¶æˆ‘ä»¬è¿›å…¥ä¸‹ä¸€å°å°èŠ‚ã€‚ 2.2ã€å¤„ç†æˆªå–çš„åˆæˆå›¾ç‰‡ä¸Žå®šä½ç¼ºå£ä½ç½® è¿™éƒ¨åˆ†çš„å›¾ç‰‡çš„å¤„ç†å’Œåˆ†æžå¯¹æˆ‘æ¥è¯´åº”è¯¥æ˜¯è¿™ä¸ªå°demoé‡Œé¢æœ€éš¾çš„ç‚¹äº†ï¼Œæˆ‘çŸ¥é“çŽ°åœ¨çš„äººå·¥æ™ºèƒ½é¢†åŸŸå·²ç»æ¯”è¾ƒå¼ºå¤§äº†ï¼Œå¯¹å¾ˆå¤šå›¾ç‰‡å†…å®¹çš„è®¤çŸ¥ç”šè‡³è¶…è¿‡äº†äººç±»ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜æˆ–è®¸å¾ˆç®€å•ã€‚è€Œæˆ‘åˆ™æ˜¯æ²¡æœ‰æ·±å…¥å­¦ä¹ è¿‡è¿™äº›æ–¹é¢çš„çŸ¥è¯†ï¼Œä½†ä¾ç„¶æƒ³å‡­å€Ÿè‡ªå·±çŽ°æœ‰çš„æŠ€èƒ½å’Œæ€æƒ³åŽ»è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å› ä¸ºå‰é¢ä¹Ÿè¯´è¿‡ï¼Œè¿™ç§æ–¹å¼çš„åˆ†æžæ‰æ˜¯æœ€æŽ¥è¿‘äººç±»è¡Œä¸ºçš„ï¼Œåªè¦äººç±»è®¤çŸ¥å›¾ç‰‡å†…å®¹çš„æ–¹å¼ä¸å‘ç”Ÿå˜åŒ–ï¼Œè¿™é‡Œé¢çš„é€»è¾‘å°±è¿˜èƒ½ç”¨ï¼ŒäºŽæ˜¯å°±é£Žé£Žç«ç«çš„å¼€å¹²å§ã€‚ è¯´å¹²å°±å¹²ä¹Ÿä¸èƒ½ç«‹åˆ»å°±å†™ä»£ç ï¼Œæ¯•ç«Ÿæˆ‘ä»¬è¿˜ä¸çŸ¥é“è¦æ€Žä¹ˆå¯¹ä¸€å¼ å›¾ç‰‡è¿›è¡Œå¤„ç†å’Œåˆ†æžï¼Œæ‰èƒ½å¤Ÿæ‰¾åˆ°é‚£ä¸ªæˆ‘ä»¬éœ€è¦çš„ç»“æžœã€‚è¿˜æ˜¯å…ˆæƒ³å‡ æ¡è·¯å­å‡ºæ¥å§ï¼š ç¼ºå£å’Œå‘¨å›´æœ‰æ˜Žæ˜¾çš„é¢œè‰²åŒºåˆ«ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½ä»¥æ­¤æ¥ç¡®å®šæŽ¥å£ä½ç½®ï¼Ÿ æ»‘å—å’Œç¼ºå£éƒ½æ˜¯æ¯”è¾ƒè§„çŸ©çš„æ‹¼å›¾å½¢çŠ¶ï¼Œè€Œä¸”yè½´çš„èŒƒå›´æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½åœ¨æ°´å¹³æ–¹å‘ä¸Šæ‰¾åˆ°ä¸¤æ¡æˆ–å¤šæ¡ç›¸ä¼¼çš„ç«–çº¿ï¼Ÿ åŸºäºŽä¸Šé¢çš„æƒ³æ³•ï¼Œæˆ‘ä¹Ÿæ˜¯å°è¯•åšäº†ä¸¤å¥—æ–¹æ¡ˆå‡ºæ¥ã€‚ æ–¹æ¡ˆä¸€ï¼šåæ­£å°±æ˜¯æƒ³åŠžæ³•æŠŠç¼ºå£æ¶‚é»‘ å¥½é¥¿å¥½å›°å•Šï¼Œæ˜Žå¤©ç»§ç»­å†™ã€‚ å¥½äº†ä»Šå¤©æ¬å®Œç –å›žå®¶ç»§ç»­ç å­—ã€‚è¿™ä¸€æ–¹æ¡ˆçš„æœ€åˆçš„æƒ³æ³•å°±æ˜¯ç›´æŽ¥æ ¹æ®ç¼ºå£çš„é¢œè‰²èŒƒå›´æ¥ç¡®è®¤ç¼ºå£åˆ°åº•åœ¨å›¾ä¸­å“ªä¸ªåœ°æ–¹ï¼Œä½†æ˜¯åŽé¢å®žçŽ°èµ·æ¥å´å‘çŽ°æ˜¯æœ‰ä¸å°‘é—®é¢˜çš„ï¼Œåˆ°æœ€åŽè¿™ä¸ªæ–¹æ¡ˆæ‰€å¾—å‡ºæ¥çš„ä½ç½®è™½æœ‰äº›æ—¶å€™ç¡®å®žèƒ½æˆåŠŸï¼Œä½†æ˜¯å‡†ç¡®çŽ‡æ¯”è¾ƒä½Žã€‚å…·ä½“é—®é¢˜å¦‚ä¸‹ï¼š å¤§å®¶çœ‹åˆ°ç¼ºå£å¤„çš„é¢œè‰²å¤§æ¦‚æ˜¯ç”±èƒŒæ™¯åŠ ä¸Šä¸€å±‚æœ‰é€æ˜Žåº¦çš„ç°è‰²æ¸å˜å›¾å±‚æ‰€ç»„æˆçš„ï¼Œè€Œç»„åˆå‡ºæ¥çš„é¢œè‰²å¾ˆå¤§ç¨‹åº¦å–å†³äºŽèƒŒæ™¯é¢œè‰²ï¼Œæ‰€ä»¥é¢œè‰²èŒƒå›´å°±å¤ªå¤§äº†ï¼Œå¾ˆå®¹æ˜“æŠŠèƒŒæ™¯å…¶ä»–å†…å®¹ä¹Ÿé€‰å‡ºæ¥ã€‚ æœ‰é‚£ä¹ˆä¸¤å¼ å›¾èƒŒæ™¯æ˜¯åæš—çš„ï¼Œå¦‚æžœè¯´ç¼ºå£æ²¡æœ‰æ˜Žæ˜¾è¾¹ç•Œçš„è¯ï¼Œé‚£ä¹ˆç¼ºå£å…¶å®žé€šè¿‡è‚‰çœ¼ä¹Ÿæ¯”è¾ƒéš¾è§‚å¯Ÿå‡ºæ¥ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬æœ€ç»ˆæç»˜å‡ºæ¥çš„å›¾ç‰‡å¯èƒ½æ˜¯ä¸€å¤§ç‰‡éƒ½æ˜¯ç¼ºå£åŒºåŸŸï¼Œå› ä¸ºç¼ºå£å’ŒèƒŒæ™¯èžä¸ºä¸€ä½“äº†ã€‚ ä¸‹é¢æ˜¯è¿™ä¸ªæ–¹æ¡ˆçš„ä»£ç ï¼Œæ²¡æœ‰å¤ªå¤šæ¬¡çš„åŽ»ä¿®æ”¹ï¼Œå› ä¸ºé¢œè‰²èŒƒå›´ç¡®å®žæ˜¯ä¸å¯æŽ§çš„ï¼ŒåŽæ¥å¹²è„†ä¹Ÿç°åº¦åŒ–å†å¯¹ä¸€å®šç°åº¦èŒƒå›´æç»˜äº†ã€‚ def get_bin_image(img_path='', save_path='', t_h=150, t_l=60): img = image.open(img_path) img = img.convert('L') table = [] for i in range(256): if i in range(t_l, t_h): table.append(0) else: table.append(1) binary = img.point(table, '1') binary.save(save_path) äºŒå€¼åŒ–ç»“æžœå›¾ emmmmï¼Œå¾—åˆ°è¿™ä¸ªå›¾ç‰‡ï¼Œå…¶å®žæ˜¯æ¯”è¾ƒç†æƒ³çš„æƒ…å†µï¼Œç¼ºå£å‘¨å›´æ²¡æœ‰å¤ªå¤šçš„å¹²æ‰°å…ƒç´ ï¼Œå®šä½ç¼ºå£çš„è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚å¤§å®¶è®¤çœŸæ•°è¿‡å¯ä»¥çŸ¥é“ï¼Œç¼ºå£å’Œæ‹¼å›¾çš„å®½åº¦ï¼ˆä¸ç®—å‡¹å‡¸éƒ¨åˆ†ï¼‰æ˜¯42ä¸ªåƒç´ ï¼Œè€Œæ‹¼å›¾ä¸Žè¾¹æ¡†çš„å·¦è¾¹è·æ˜¯6åƒç´ ï¼ˆæ‹¼å›¾çªå‡ºéƒ¨åˆ†ä¸åœ¨å·¦è¾¹çš„æƒ…å†µä¸‹ï¼‰ï¼Œé‚£ä¹ˆç¼ºå£çš„xè½´èŒƒå›´å°±åº”è¯¥æ˜¯ä»Žç¬¬49ä¸ªåƒç´ å¼€å§‹ã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨è¿™èŒƒå›´å†…è¿›è¡Œç¼ºå£èµ·ç‚¹çš„æŸ¥æ‰¾ï¼Œå¯ä»¥æ²¿ç”¨ä¹‹å‰çš„æƒ³æ³•ï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªæ»¡è¶³ä¸€å®šè§„å¾‹(è¿žç»­çš„é»‘ç‚¹æ•°é‡æˆ–è€…æ¯”ä¾‹ã€èŒƒå›´å†…é»‘ç‚¹é¢ç§¯å æ¯”ç­‰ç­‰)çš„é»‘ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºä»–æ¯”è¾ƒå¤§æ¦‚çŽ‡æ˜¯ç¼ºå£çš„èµ·ç‚¹ã€‚å…·ä½“çš„ä»£ç ï¼š def get_x_point(bin_img_path=''): tmp_x_cur = 0 img = image.open(bin_img_path).load() # ç¼ºå£å‡ºçŽ°èŒƒå›´å¤§æ¦‚åœ¨xè½´[49-52]-220,yè½´15-145 for y_cur in range(15, 145): b_acc = 0 tmp_x_cur = 0 for x_cur in range(49, 220): if img[x_cur, y_cur] == 0: if b_acc == 0: tmp_x_cur = x_cur b_acc += 1 else: if b_acc in range(36, 44): return tmp_x_cur - 40 + b_acc else: b_acc = 0 return tmp_x_cur è¿™ä¸ªå‡½æ•°æˆ‘åŽæ¥æ²¡æœ‰ç»§ç»­åŽ»ä¼˜åŒ–äº†ï¼Œå› ä¸ºè§‰å¾—æƒ³åˆ°äº†æ–¹æ¡ˆäºŒçš„ä¸€äº›é›å½¢ï¼Œå°±å¼€å§‹ç€æ‰‹æ–¹æ¡ˆäºŒäº†ã€‚è¿™ä¸ªå‡½æ•°å®šä¹‰çš„è§„åˆ™ç›¸å½“çš„ç®€é™‹ï¼Œå³ä½¿æŽ’é™¤äº†ä¸Šé¢æåˆ°çš„é—®é¢˜ï¼Œæœ‰çš„æ—¶å€™éƒ½è¿˜æ˜¯ä¸èƒ½å‡†ç¡®åˆ¤æ–­èµ·å§‹ä½ç½®ã€‚å¤§å®¶æœ‰å…´è¶£çš„è¯å¯ä»¥è‡ªå·±å®šåˆ¶ä¸€äº›è§„åˆ™ï¼Œå°è¯•æå‡è¿™ç§æ–¹æ¡ˆçš„æˆåŠŸçŽ‡ã€‚ æ–¹æ¡ˆäºŒï¼šå¯¹å›¾ç‰‡æ‰€æœ‰å†…å®¹è¿›è¡Œæè¾¹ å…³äºŽè¿™ä¸ªæ–¹æ¡ˆï¼Œå…¶å®žä¸€å¼€å§‹å¹¶æ²¡æœ‰è§‰å¾—æ¯”ç¬¬ä¸€ä¸ªæ–¹æ¡ˆå¥½åˆ°å“ªé‡ŒåŽ»ï¼Œæœ€åŽè¯•éªŒå¾—å‡ºçš„ç»“æžœå´è¾ƒä¸ºæ»¡æ„ï¼Œæˆ‘è®¤ä¸ºåº”è¯¥è¿˜æ˜¯å½’åŠŸäºŽè¾ƒä¸ºå®Œå–„çš„è§„åˆ™ã€‚æ— è®ºæ˜¯å“ªä¸ªæ–¹æ¡ˆï¼Œåªè¦æ˜¯æ¨¡ä»¿äººç±»è®¤çŸ¥è¡Œä¸ºçš„ï¼Œéƒ½æœ‰ä¸€å®šçš„å¯è¡Œæ€§ï¼Œå°½ç®¡æ–¹å¼ä¸Šæœ‰åŒºåˆ«ï¼Œä½†æ˜¯è¿™å°±è·Ÿäººç±»è®¤çŸ¥äº‹ç‰©çš„è¿‡ç¨‹æ˜¯ä¸€æ ·çš„ã€‚ä¾‹å¦‚æˆ‘ä»¬åœ¨è®¤è¯†é¸¡è¿™ç§åŠ¨ç‰©çš„æ—¶å€™ï¼Œæ—¢è®°ä½äº†å®ƒä»¬çš„æ£•é»„è‰²çš„æ¯›ï¼Œçº¢è‰²çš„å† ï¼Œä¹Ÿè®°ä½äº†å®ƒä»¬çš„å¤–å½¢ï¼Œé‚£æˆ‘ä»¬åœ¨ä¸‹æ¬¡çœ‹åˆ°ä¸€åªä¹Œé¸¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡å®ƒçš„å¤–å½¢ç¡®è®¤è¿™æ˜¯ä¸€åªé¸¡ï¼Œåªæ˜¯ä¸€åªé¢œè‰²ä¸ä¸€æ ·çš„é¸¡è€Œå·²ï¼Œæ²¡äººä¼šå› ä¸ºå®ƒçš„æ¯›æ˜¯é»‘è‰²çš„è€Œè§‰å¾—å®ƒæ˜¯ä¸€åªé»‘çŒ«ã€‚é€šè¿‡æ•æ‰äººç±»åŒºåˆ†äº‹ç‰©ç‰¹å¾ç‚¹çš„æ–¹å¼åŽ»æ€è€ƒä»¥åŠç¼–ç ï¼Œæ‰æ˜¯è§£å†³è¿™æ¬¡å®žéªŒçš„å…³é”®ã€‚ å¥½äº†ï¼Œåˆåˆ°äº†æ–°çš„ä¸€å¤©ï¼Œä»Šå¤©æˆ‘ç»§ç»­è¯´è¯´æ–¹æ¡ˆäºŒçš„å®žéªŒè¿‡ç¨‹ã€‚åœ¨è¿™èŠ‚ä¸€å¼€å§‹æˆ‘å°±ç®€å•çš„æè¿°è¿‡æ–¹æ¡ˆäºŒï¼Œä¸è¿‡å¯èƒ½è¡¨è¿°å¾—å¹¶ä¸æ¸…æ™°ï¼Œè¿™é‡Œå†ç®€æ´çš„è¯´ä¸€ä¸‹ï¼Œå…¶å®žç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯å…ˆå¯¹å›¾åƒå†…æœ‰æ˜Žæ˜¾è¾¹ç•Œçš„ä¸œè¥¿è¿›è¡Œæè¾¹ã€‚ä¾‹å­å¦‚ä¸‹ï¼š æˆªå–çš„åŽŸå›¾ æè¾¹å›¾ è¿™é‡Œæˆ‘ä»¬å¾—åˆ°çš„å›¾ç‰‡è·ŸåŽŸå›¾é‡Œé¢çš„äº‹ç‰©è½®å»“åŸºæœ¬ç›¸ç¬¦çš„ï¼Œç›¸ä¿¡å¤§å®¶éƒ½èƒ½å‘çŽ°ä»–ä»¬çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œè€Œä¸åŒä¹‹å¤„å¤§æ¦‚è¡¨çŽ°åœ¨äº†å†…å®¹çš„é¢œè‰²ä¸Šé¢ã€‚å¾—åˆ°çš„é»‘ç™½å›¾ç‰‡å¯¹äºŽæˆ‘ä»¬å¾ˆæœ‰å¸®åŠ©ï¼Œå› ä¸ºåœ¨è¿™é‡Œå®ƒæ‰€è¡¨è¾¾çš„ä¿¡æ¯å¯¹äºŽæˆ‘ä»¬æ¥è¯´æ¯”äº”å½©æ–‘æ–“çš„åŽŸå›¾ç›´è§‚å¾—å¤šã€‚ä¸‹é¢æ˜¯ä»£ç ï¼Œå…·ä½“çš„æ–¹æ³•å…¶å®žå°±æ˜¯é€šè¿‡è¾¹ç•Œä¸Žç›¸é‚»åƒç´ ç‚¹çš„é¢œè‰²å·®å¼‚æ¯”è¾ƒå¤§è€Œå¾—å‡ºæ¥çš„ã€‚ def get_contour_image(img_path='', save_path=''): contour_img = image.new('1', (260, 160)) img = image.open(img_path) img = img.convert('L') h_last_point = None v_last_point = None for x in range(260): for y in range(160): if v_last_point is not None and abs(img.getpixel((x, y)) - v_last_point) &gt; 25: contour_img.putpixel((x, y), 1) v_last_point = img.getpixel((x, y)) for y in range(160): for x in range(260): if h_last_point is not None and abs(img.getpixel((x, y)) - h_last_point) &gt; 25: contour_img.putpixel((x, y), 1) h_last_point = img.getpixel((x, y)) contour_img.save(save_path) æ—¢ç„¶è¾¹ç•Œå·²ç»æç»˜å‡ºæ¥äº†ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±æ˜¯æƒ³åŠžæ³•åŽ»å®šä½ç¼ºå£äº†ã€‚æ–¹æ¡ˆäºŒæ‰€å¾—åˆ°çš„å›¾ç‰‡å†…å®¹æ¯”è¾ƒä¸°å¯Œï¼ŒåŸºæœ¬ä¸ŽåŽŸå›¾æ˜¯æ²¡æœ‰å·®åˆ«çš„ï¼Œé‚£æˆ‘ä»¬å°±ä¸èƒ½å¤Ÿé€šè¿‡æ–¹æ¡ˆä¸€ä¸­æœ€åˆè§„åˆ™åŽ»å®šä½ç¼ºå£äº†ï¼Œå› ä¸ºåœ¨é‡Œé¢æ»¡è¶³è§„åˆ™çš„è‰²å—å¾ˆå¤šå¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä¸ºæ–¹æ¡ˆäºŒé‡èº«å®šåšä¸€å¥—æ–°è§„åˆ™ã€‚ çŽ°åœ¨æˆ‘ä»¬éœ€è¦åšçš„æ˜¯è§‚å¯Ÿæè¾¹å›¾å¹¶æ‰¾åˆ°å¹¶æ‰¾åˆ°éšè—åœ¨å…¶ä¸­çš„ä¸€äº›ä¿¡æ¯ï¼Œå¤§å®¶å¯ä»¥çœ‹åˆ°ï¼šç¼ºå£é™„è¿‘çš„æè¾¹ååˆ†è§„æ•´ï¼Œè€Œæ‹¼å—é™„è¿‘çš„æè¾¹æ¯”è¾ƒç²—å¤§ï¼›ç¼ºå£æè¾¹å†…çš„é»‘å—é¢ç§¯åº”è¯¥è·Ÿæ‹¼å—æè¾¹å†…çš„é»‘å—é¢ç§¯å·®ä¸å¤šï¼›ç¼ºå£è·Ÿæ‹¼å—åœ¨yè½´ä¸Šçš„èŒƒå›´åŸºæœ¬æ˜¯ä¸€æ ·çš„ã€‚æŽ¥ä¸‹æ¥æˆ‘ä»¬å°±åˆ©ç”¨åˆšåˆšè§‚å¯Ÿåˆ°çš„è¿™äº›ä¿¡æ¯è¿›è¡Œåˆ†æžï¼Œçœ‹çœ‹èƒ½ä¸èƒ½å¾—å‡ºä¸€å®šçš„è§„å¾‹ï¼Œåˆ¶å®šå‡ºé€‚å½“çš„è§„åˆ™ã€‚ ä»Žä¸Šé¢çš„ä¿¡æ¯ä¸­ï¼Œæœ‰çš„å¯èƒ½è‡ªèº«å°±èƒ½å¤Ÿæˆä¸ºè§„åˆ™ï¼Œè€Œæœ‰çš„åˆ™éœ€è¦è¿›è¡Œç»„åˆï¼Œä¹Ÿè®¸å¤§å®¶èƒ½å¤Ÿæ‰¾åˆ°æ›´å¤šçš„ä¿¡æ¯ï¼Œä¹Ÿèƒ½åˆ¶å®šå¾ˆå¤šçš„è§„åˆ™ã€‚è€Œæˆ‘æƒ³åˆ°çš„è§„åˆ™ï¼Œä¹Ÿè®¸å­˜åœ¨ä¸å®Œå–„æˆ–è€…é”™è¯¯çš„çš„åœ°æ–¹ï¼Œä½†æˆ‘ä¹Ÿæƒ³åœ¨è¿™é‡Œè·Ÿå¤§å®¶åˆ†äº«ï¼Œå¸Œæœ›å¤§å®¶æŒ‡ç‚¹æŒ‡ç‚¹ã€‚ä¹‹å‰æˆ‘ä»¬å¯»æ‰¾ç¼ºå£åŸºæœ¬éƒ½æ˜¯æ•´å¹…å›¾åŽ»éåŽ†æ‰€æœ‰åƒç´ ç‚¹çš„ï¼Œè¿™æ ·å¾ˆå®¹æ˜“è¢«å…¶ä»–çš„å…ƒç´ æ‰€å¹²æ‰°ã€‚æ‰€ä»¥æˆ‘å°±æƒ³èƒ½ä¸èƒ½å…ˆç¡®å®šä¸€ä¸ªæ–¹å‘ä¸Šï¼ˆä¾‹å¦‚yè½´ï¼‰çš„èŒƒå›´ï¼Œç„¶åŽå°±åªéœ€è¦åœ¨ï¼ˆä¾‹å¦‚xè½´ä¸Šï¼‰æ‰¾åˆ°æ»¡è¶³çš„ç‚¹æˆ–çº¿ï¼Œè®°å½•èµ·æ¥æœ€åŽå†åšç­›é€‰ã€‚è¿™é‡Œæˆ‘é€‰å–äº†æ‹¼å—çš„å·¦ç™½è¾¹ä½œä¸ºå®šä½yè½´èŒƒå›´çš„ä¾æ®ï¼Œå› ä¸ºä»–å¼€å§‹äºŽxè½´ä¸Šçš„ç¬¬7ä¸ªåƒç´ ï¼ˆåŽŸå›¾ï¼‰ï¼Œè€Œxè½´ä¸Šçš„7ä¹‹å‰çš„åƒç´ åŸºæœ¬æ˜¯æ²¡æœ‰å…¶ä»–å…ƒç´ å¹²æ‰°çš„ï¼Œè¿™è®©å®šä½yè½´èŒƒå›´å˜å¾—æ¯”è¾ƒæ–¹ä¾¿å’Œå‡†ç¡®ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°xè½´ä¸Šç¬¬ä¸ƒä¸ªåƒç´ ï¼ˆç´¢å¼•ä¸º6ï¼‰åœ¨yè½´ä¸Šæ¯è¿žç»­42ä¸ªåƒç´ ï¼ˆæ‹¼å—é•¿å®½åº¦ï¼‰ä¸­å“ªä¸ªèŒƒå›´ç™½ç‚¹ï¼ˆæè¾¹ï¼‰æœ€å¤šï¼Œé‚£ä¹ˆè¿™ä¸ªèŒƒå›´å°±æ˜¯æ‹¼å—å’Œç¼ºå£å·¦æè¾¹çš„èŒƒå›´ã€‚å½“ç„¶ï¼Œäº‹å®žä¸Šè¿˜æœ‰ç‰¹æ®Šçš„æƒ…å†µï¼Œå…ˆä¸Šä¸ªä»£ç å†æ¥æ…¢æ…¢è§£é‡Šã€‚ def get_start_point(bin_img_path=''): img = image.open(bin_img_path) # æ»‘å—å·¦è¾¹ä½ç½®7px[6\13]å¤„ï¼ŒèŽ·å–æ»‘å—ä½ç½® _pixel = 42 _color_diff_list = {} initial_slider_left_x_index_range = range(6, 14) for initial_slider_left_x_index in initial_slider_left_x_index_range: back_color_n = 0 slider_left = {} for y_cur in range(118): color_n = 0 for add_to_next in range(_pixel): color_n += img.getpixel((initial_slider_left_x_index, y_cur + add_to_next)) slider_left[color_n] = y_cur w_color_n_max = max(slider_left) y_start_cur = slider_left[w_color_n_max] print(f'ç´¢å¼•{initial_slider_left_x_index}å·¦ç™½å€¼æ€»å’Œ:{w_color_n_max}') for add_to_next in range(_pixel): back_color_n += img.getpixel((initial_slider_left_x_index + 1, y_start_cur + add_to_next)) print(f'ç´¢å¼•{initial_slider_left_x_index}å³ç™½å€¼æ€»å’Œ:{back_color_n}') _color_diff_list[w_color_n_max - back_color_n] = initial_slider_left_x_index best_point = _color_diff_list[max(_color_diff_list)] print(f'æœ€ä½³èµ·ç‚¹:{best_point}') return best_point å¤§å®¶å¯ä»¥çœ‹åˆ°ä»£ç ä¸­çš„æ³¨é‡Šï¼š# æ»‘å—å·¦è¾¹ä½ç½®7px[6\13]å¤„ï¼ŒèŽ·å–æ»‘å—ä½ç½®ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯åˆšåˆšè¯´çš„ç¬¬ä¸ƒä¸ªåƒç´ ï¼Œè€Œæ˜¯ç¬¬ä¸ƒä¸ªåƒç´ åˆ°ç¬¬åå››ä¸ªåƒç´ è¿™æ ·ä¸€ä¸ªèŒƒå›´ï¼Ÿå› ä¸ºæ‹¼å—å®ƒæœ‰å‡¹å‡¸çš„éƒ¨åˆ†ï¼Œè€Œä¸”å‡¹å‡¸çš„ç¨‹åº¦è¿˜æœ‰ä¸åŒçš„æƒ…å†µï¼Œæˆ‘ç›¸ä¿¡è¿™ä¹Ÿæ˜¯æžéªŒå¢žåŠ æœºå™¨æ¨¡æ‹Ÿçš„éš¾åº¦çš„ä¸€ç§æ‰‹æ®µï¼Œè§„çŸ©çš„å›¾å½¢å¤ªå®¹æ˜“è¢«å®šä½äº†ã€‚æ‰€ä»¥è¿™é‡Œéœ€è¦å‡†ç¡®çš„æ‰¾åˆ°æ‹¼å—çš„å·¦æè¾¹çš„ä½ç½®ï¼Œè¿˜éœ€è¦ç»“åˆæè¾¹å³ä¾§çš„é»‘ç‚¹æ•°é‡è¿›è¡Œåˆ¤æ–­å®šä½ã€‚ æˆ‘ä»¬å¾—åˆ°äº†çœŸæ­£çš„æ‹¼å—å·¦è¾¹æxè½´ä½ç½®ï¼Œå…¶å®žä¹Ÿå·²ç»å¾—åˆ°äº†æ‹¼å—å’Œç¼ºå£å·¦è¾¹æyè½´çš„ä¸Šçš„èŒƒå›´ã€‚æŽ¥ä¸‹æ¥æˆ‘ä»¬åªè¦ä½¿ç”¨è¿™ä¸ªyè½´èŒƒå›´åœ¨xè½´ä¸Šå¯»æ‰¾è·Ÿæ‹¼å—å·¦æè¾¹ç™½ç‚¹æ•°åŸºæœ¬ç›¸ç­‰çš„xå€¼å°±èƒ½å¤Ÿå¾—å‡ºç¼ºå£èµ·å§‹ä½ç½®xå€¼ï¼Œå¯èƒ½ä¼šæœ‰ç¼ºå£ç»“æŸä½ç½®xå€¼ï¼Œä¹Ÿè®¸è¿˜æœ‰èƒŒæ™¯æè¾¹æ»¡è¶³è¯¥æ¡ä»¶çš„xå€¼ã€‚ def get_x_point_in_contour(bin_img_path=''): img = image.open(bin_img_path) # æ‹¼å—å¤–éƒ¨é˜´å½±èŒƒå›´ _shadow_width = 5 _pixel = 42 # æ»‘å—å·¦è¾¹ä½ç½®7px[6\13]å¤„ï¼ˆè€ƒè™‘å‡¸åœ¨å·¦çš„æƒ…å†µï¼‰ï¼ŒèŽ·å–æ»‘å—ä½ç½® slider_left_x_index = get_start_point(bin_img_path) slider_left = {} for y_cur in range(118): color_n = 0 for add_to_next in range(_pixel): color_n += img.getpixel((slider_left_x_index, y_cur + add_to_next)) slider_left[color_n] = y_cur y_max_col = max(slider_left) print(f'æ»‘å—å·¦è¾¹ç™½å€¼æ€»å’Œ:{y_max_col}') y_start_cur = slider_left[y_max_col] print(f'ç¼ºå£å›¾åƒyè½´åˆå§‹ä½ç½®:{y_start_cur}') # ç¼ºå£å‡ºçŽ°èŒƒå›´å¤§æ¦‚åœ¨xè½´[48-52+æ‹¼å—é˜´å½±]-220 gap_left = {} for x_cur in range(slider_left_x_index + _pixel + _shadow_width, 220): color_n = 0 for y_cur in range(y_start_cur, y_start_cur + _pixel): color_n += img.getpixel((x_cur, y_cur)) gap_left[x_cur] = color_n _maybe = [] for x_cur in gap_left: if gap_left[x_cur] in range(int(y_max_col * 0.85), int(y_max_col * 1.3)): _maybe.append(x_cur) print(f'æ‰¾åˆ°ç¼ºå£å¯èƒ½ä½ç½®{_maybe}') # æ²¡æ‰¾åˆ°æš‚æ—¶è¿”å›žæ»‘å—é•¿åº¦åŠ æ»‘å—èµ·å§‹ä½ç½® if len(_maybe) == 0: return 42 + slider_left_x_index, slider_left_x_index elif len(_maybe) == 1: return _maybe[0], slider_left_x_index # å¤šä¸ªç»“æžœï¼Œåˆ™æ‰¾ç›¸é‚»ï¼ˆç¼ºå£å†…ä¸ä¼šæœ‰å¤ªå¤šå¹²æ‰°å…ƒç´ ï¼‰ç»“æžœé—´å·®è·åœ¨38-43ä¹‹é—´çš„ç¬¬ä¸€ä¸ªæ•° _max_diff = {} for i in range(len(_maybe) - 1): if _maybe[i + 1] - _maybe[i] in range(38, 43): return _maybe[i], slider_left_x_index else: _max_diff[_maybe[i + 1] - _maybe[i]] = _maybe[i] return _max_diff[max(_max_diff)], slider_left_x_index è¿™éƒ¨åˆ†ä»£ç æœ‰ç‚¹é‡å¤ï¼Œæ‹¼å—å·¦æè¾¹ç™½ç‚¹æ•°ä»¥åŠyè½´èŒƒå›´å·²ç»åœ¨get_start_pointå‡½æ•°ä¸­æ±‚å¾—äº†ï¼Œç›´æŽ¥è¿”å›žä½¿ç”¨å³å¯ã€‚ç¼ºå£å¼€å§‹çš„ä½ç½®å¯èƒ½æ˜¯xè½´ç´¢å¼•48åˆ°52ï¼ˆæ ¹æ®æ‹¼å—çš„çœŸæ­£èµ·å§‹ç‚¹è€Œå®šï¼‰ï¼Œä¸€ç›´åˆ°259-42=217çš„èŒƒå›´å†…ï¼ˆä»£ç ä¸­æˆ‘ç›´æŽ¥å†™äº†220ï¼‰ï¼Œå› ä¸ºæ‹¼å—çš„å¤–éƒ¨é˜´å½±é€ æˆäº†å¤šé‡æè¾¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å‰”é™¤æŽ‰å³æè¾¹çš„é˜´å½±éƒ¨åˆ†ã€‚å¤§å®¶èƒ½çœ‹åˆ°æˆ‘å®šçš„è§„åˆ™æ˜¯ç™½ç‚¹æ•°æ»¡è¶³(0.85è‡³1.3)å€çš„æ‹¼å—å·¦æè¾¹ç™½ç‚¹æ•°ï¼Œå³è§†ä¸ºå¯èƒ½çš„ä½ç½®ã€‚å®žé™…ä¸Šå®ƒä»¬ç™½ç‚¹æ•°åº”è¯¥æ˜¯ç›¸å·®æžå°‘ï¼Œç”šè‡³å¯ä»¥è¯´æ˜¯ç›¸ç­‰çš„ï¼Œå¤§å®¶å¯ä»¥é€šè¿‡å®žéªŒåŽ»è°ƒä¼˜è¿™é‡Œçš„å€æ•°å‚æ•°ï¼Œä¹Ÿè®¸è¿˜èƒ½å‰”é™¤æŽ‰æ›´å¤šçš„å¹²æ‰°ã€‚æœ€åŽè€ƒè™‘åˆ°å¾—åˆ°çš„ç»“æžœæœ‰å¯èƒ½é™¤äº†çœŸæ­£çš„èµ·ç‚¹å’Œç»ˆç‚¹å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„ä¸€äº›å¹²æ‰°ï¼Œæ‰€ä»¥åšäº†ç®€å•çš„åˆ¤æ–­ï¼Œå®žé™…ä¸Šå°±å½“å‰æ‰€çŸ¥çš„èƒŒæ™¯å›¾æ¥çœ‹ï¼Œä¸ä¼šå‡ºçŽ°è¿™ç§æƒ…å†µã€‚åˆ°è¿™é‡Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº†è§£å†³é—®é¢˜çš„æ‰€æœ‰é’¥åŒ™äº†ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯ç”¨é’¥åŒ™æ‰“å¼€æ–°ä¸–ç•Œå¤§é—¨çš„æ—¶å€™äº†ã€‚ 3ã€å°†æ‹¼å›¾ç§»åŠ¨åˆ°ç¼ºå£å¤„ è¿™ä¸€èŠ‚ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œæ‹–åŠ¨æ“ä½œä½¿ç”¨seleniumçš„ActionChainsæ¥å®žçŽ°ï¼Œä¸Šé¢å¾—åˆ°çš„ç¼ºå£èµ·å§‹xå€¼å’Œæ‹¼å—çœŸå®žçš„èµ·ç‚¹å€¼ç›¸å‡ï¼Œå°±å¾—åˆ°äº†ç§»åŠ¨çš„å®žé™…è·ç¦»ï¼Œç„¶åŽç›´æŽ¥æ‹–åŠ¨è¿‡åŽ»å°±å¯ä»¥äº†ï¼Ÿç¡®å®žå¯ä»¥ï¼Œå¯ä»¥é‡å¤´æ¥è¿‡äº†ã€‚æžéªŒä¼šæ ¹æ®æ•´ä¸ªç§»åŠ¨è¿‡ç¨‹çš„é€Ÿåº¦åˆ¤æ–­ä½ æ˜¯æœºå™¨è¿˜æ˜¯äººï¼Œä¸æ˜¯è¯´å¿«æ…¢çš„é—®é¢˜ï¼Œè€Œæ˜¯æ­£å¸¸çš„äººç±»è¡Œä¸ºåœ¨ç§»åŠ¨ä¸­é€Ÿåº¦æ˜¯ä¼šå˜åŒ–çš„ï¼Œæœ€çœŸå®žçš„æƒ…å†µå°±æ˜¯ä½ åœ¨æŽ¥è¿‘ç¼ºå£çš„æ—¶å€™ä¼šå‡é€Ÿã€‚æ ¹æ®ç‰©ç†å­¦åŽŸç†ï¼ˆæ—©å°±å¿˜äº†ï¼‰ï¼Œæˆ‘å†™äº†ä¸€ä¸ªåŒ€åŠ é€Ÿè¿åŠ¨ï¼ˆå®žé™…ä¸Šå¹¶ä¸åŒ€ï¼‰æ¥æ¨¡æ‹Ÿäººç±»æ‹–åŠ¨ï¼Œå› ä¸ºmove_by_offsetä¼šè‡ªåŠ¨å°†åç§»é‡è½¬æˆæ•´å½¢ç±»åž‹ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯è‡ªå·±å…ˆè½¬å¥½äº†ã€‚ def btn_slide(browser, x_offset=0, _x_start=6): # å¼€å§‹ä½ç½®å³å6-13åƒç´  x_offset = abs(x_offset - _x_start + 1) slider = browser.find_element_by_class_name(&quot;geetest_slider_button&quot;) ActionChains(browser).click_and_hold(slider).perform() section = x_offset left_time = 1 x_move_list = get_x_move_speed(x_offset, left_time, section) print(f'é­”é¬¼çš„æ­¥ä¼ï¼š{x_move_list}') print(f'å®žé™…åº”è¯¥ç§»åŠ¨è·ç¦»:{sum(x_move_list)}') for x_move in x_move_list: ActionChains(browser).move_by_offset(x_move, yoffset=0).perform() ActionChains(browser).release().perform() time.sleep(2) browser.close() def get_x_move_speed(distance=0, left_time=0, section=10): origin_speed = distance * 2 acc_speed = origin_speed / left_time / left_time / section move_offset = [] new_speed = origin_speed for i in range(0, section): new_speed = new_speed - acc_speed move_offset.append(round(new_speed / section)) if sum(move_offset) &gt;= distance or (round(new_speed / section)) == 0: break if sum(move_offset) &lt; distance: move_offset.append(distance - sum(move_offset)) return move_offset æœ€åŽçš„å®žé™…æ•ˆæžœ Your user agent does not support the HTML5 Video element. å¥½äº†ï¼Œæˆ‘çš„æ•´ä¸ªå®žéªŒå°±åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œä¸‹é¢è¿˜æœ‰ä¸€äº›å…¶ä»–æ–¹é¢çš„æ€è€ƒã€‚å¦‚æžœæœ‰èƒ½çœ‹åˆ°è¿™é‡Œçš„ç«¥éž‹ï¼Œæ—¢ç„¶æ¥äº†ï¼Œä¸å¦‚åœ¨è¯„è®ºç•™ä¸‹ä¸€ä¸ªè„šå°ï¼Ÿ 4ã€åŽç»­ï¼šå…³äºŽå¹²æ‰°å—æŽ’é™¤çš„æƒ³æ³• ç›¸ä¿¡å¤§å®¶éƒ½èƒ½å‘çŽ°ï¼ŒèƒŒæ™¯å›¾é‡Œé¢ï¼Œå¾ˆå¤šæ—¶å€™ä¼šåœ¨éšæœºçš„ä½ç½®å‡ºçŽ°å¦å¤–ä¸€ä¸ªæˆ–å¤šä¸ª&quot;ç¼ºå£&quot;ï¼Œå®ƒä»¬çš„é¢œè‰²ç›¸å¯¹çœŸæ­£çš„ç¼ºå£æ¥è¯´æµ…ä¸€äº›ï¼Œä½†æ˜¯å¯¹äºŽä¸Šé¢æ–¹æ¡ˆäºŒçš„æè¾¹æ³•æ¥è¯´ï¼Œå®ƒä»¬ç¡®å®žä¹Ÿæ˜¯ä¼šè¢«æç»˜å‡ºæ¥ï¼Œè™½ç„¶æˆ‘ä»¬åˆ©ç”¨æ‹¼å—ç¡®å®šäº†yè½´çš„èŒƒå›´ï¼Œä½†æ˜¯å½“è¿™äº›å‡çš„&quot;ç¼ºå£&quot;ä¹Ÿåœ¨è¿™ä¸ªyè½´èŒƒå›´å†…çš„æ—¶å€™ï¼Œç‰¹åˆ«æ˜¯å‡¹å‡¸å’Œæ–¹å‘å®Œå…¨è·ŸçœŸå®žç¼ºå£ä¸€æ ·çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸Šé¢çš„ä»£ç å°±æ²¡åŠžæ³•åˆ†è¾¨åˆ°åº•å“ªä¸ªæ‰æ˜¯çœŸæ­£çš„ç¼ºå£äº†ã€‚ä½†æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠžæ³•ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘è¿™é‡Œæƒ³åˆ°çš„æ€è·¯æœ‰ä¸¤ç§ï¼š å¾—åˆ°çš„ä¸¤ä¸ªä½ç½®èŽ·å–å®ƒä»¬åŽŸå›¾é¢œè‰²ï¼Œç›¸å¯¹è¾ƒæ·±çš„ä¸ºçœŸ æ‰€æœ‰å¾—åˆ°çš„ç¼ºå£ä½ç½®éƒ½è®°å½•ä¸‹æ¥ï¼Œå…ˆç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªç¼ºå£ä½ç½®ï¼Œè‹¥æ˜¯ä¸æˆåŠŸï¼Œå†ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç¼ºå£ä½ç½® ä¸ç®¡æ€Žæ ·çš„å¹²æ‰°ï¼Œæ€»ä¸ä¼šå–§å®¾å¤ºä¸»ã€‚å› ä¸ºæ¯•ç«Ÿæ˜¯ç»™äººç±»è¾¨è®¤çš„ï¼Œè€Œæœºå™¨ï¼Œåªè¦ä½ åˆ¶å®šé€‚å½“çš„è§„åˆ™ï¼Œå®ƒä»¬çš„è¾¨è¯†èƒ½åŠ›èƒ½å¤Ÿè¾¾åˆ°è¿œè¶…äººç±»çš„æ°´å‡†ã€‚ 5ã€åŽç»­ï¼šå…³äºŽå¢žåŠ å®šä½æ¨¡æ‹Ÿéš¾åº¦çš„æƒ³æ³• ç›¸ä¿¡å¤§å®¶çœ‹å®Œäº†å®žéªŒçš„æ•´ä¸ªè¿‡ç¨‹ï¼Œåœ¨è¿™é‡Œä¸€å®šä¼šæœ‰å¾ˆå¤šå…³äºŽå¦‚ä½•è®¾è®¡æ›´åŠ å¤æ‚ã€æ›´æœ‰æ•ˆé˜²æ­¢æœºå™¨æ¨¡æ‹Ÿè¡Œä¸ºçš„éªŒè¯ç çš„æƒ³æ³•ï¼Œæˆ‘è¿™é‡Œä¹Ÿå°±è¿™æ¬¡å®žéªŒä¸­çš„æ»‘åŠ¨éªŒè¯ç å‘è¡¨ä¸€ä¸‹è‡ªå·±çš„çœ‹æ³•ã€‚ å¯ä»¥è¯´æ»‘åŠ¨éªŒè¯ç æ˜¯å›½å†…ä¸€ç§æ¯”è¾ƒæ–°é¢–çš„äººæœºæ ¡éªŒæ–¹å¼ï¼Œå› ä¸ºä»–çš„æ“ä½œç®€å•ç›´è§‚ï¼Œé€‚ç”¨äºŽä»»ä½•å¹´é¾„å±‚çš„äº’è”ç½‘ç”¨æˆ·ã€‚é‚£å®žé™…äººæœºæ ¡éªŒçš„æ•ˆæžœå¦‚ä½•å‘¢ï¼Ÿå¦‚æžœä»”ç»†è¯»å®Œä¸Šæ–‡æˆ–è€…å¯¹æ»‘åŠ¨éªŒè¯ç æœ‰ç ”ç©¶çš„ç«¥éž‹ï¼Œåº”è¯¥éƒ½çŸ¥é“ï¼Œå®ƒå®žé™…ä¸Šæ˜¯è¿›è¡Œäº†ä¸¤æ¬¡æ ¡éªŒï¼šè¯†åˆ«å’Œè¡Œä¸ºï¼Œæˆ‘ä¸ªäººè®¤ä¸ºå®ƒèƒ½å¤Ÿæ›´å¥½çš„ä¿æŠ¤æˆ‘ä»¬çš„åº”ç”¨ä»¥åŠç”¨æˆ·æ•°æ®ï¼Œæ‰€ä»¥çŽ°åœ¨åœ¨å›½å†…å®ƒçš„æ™®åŠåº¦ä¹Ÿæ˜¯ç›¸å½“é«˜ã€‚è€Œæˆ‘è¿™æ¬¡çš„å®žéªŒé’ˆå¯¹å½“å‰ç‰ˆæœ¬è¿›è¡Œåˆ¶å®šè§„åˆ™ä»¥å®žçŽ°äº†æœºå™¨æ¨¡æ‹Ÿçš„ç›®çš„ï¼Œä½†æˆ‘è®¤ä¸ºæ»‘åŠ¨éªŒè¯ç å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„è°ƒæ•´æ¥æ¯”è¾ƒæœ‰æ•ˆå¢žåŠ æ¨¡æ‹Ÿçš„éš¾åº¦ï¼š æ‹¼å—æ»‘åŠ¨ä¸é™äºŽxè½´ï¼Œå¯åœ¨å›¾å†…ä»»æ„ç§»åŠ¨ æ‹¼å—å’Œç¼ºå£çš„å½¢çŠ¶æ”¹ä¸ºéžå›ºå®šçš„å¤šè¾¹å½¢æˆ–ä¸è§„çŸ©å½¢çŠ¶ æœ€æœ€æœ€æœ€åŽï¼Œæˆ‘æƒ³è¯´çš„æ˜¯ï¼ŒéªŒè¯ç æŠ€æœ¯ç»è¿‡å¤šå¹´çš„å‘å±•çŽ°åœ¨å·²ç»ç›¸å½“æˆç†Ÿäº†ï¼Œé™¤äº†æ—¥å¸¸çš„æ•°å­—å­—æ¯éªŒè¯ç ï¼Œè¿™æ¬¡å®žéªŒçš„æ»‘åŠ¨éªŒè¯ç ï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿå¬è¯´è¿‡æ— æ¯”ç‰›bçš„12306éªŒè¯ç ï¼Œè¿˜æœ‰googleçš„recaptchaç­‰ç­‰ã€‚è™½ç„¶å½“ä»Šçš„éªŒè¯ç é¢†åŸŸå·²ç»æœ‰å¦‚æ­¤å¤šçš„ä¼˜ç§€æ–¹æ¡ˆï¼Œä½†æ˜¯æˆ‘ç›¸ä¿¡æ²¡æœ‰ä¸€ä¸ªæ–¹æ¡ˆèƒ½å¤Ÿç™¾åˆ†ç™¾çš„æŠµå¾¡æœºå™¨äººï¼Œä½ æœ‰ä¸–ç•Œä¸Šæœ€ä¼˜ç§€çš„å·¥ç¨‹å¸ˆã€ç§‘å­¦å®¶ï¼Œä»–æœ‰è¿™ä¸ªä¸–ç•Œä¸Šæœ€æœ‰é’±çš„è€æ¿å•Šï¼ŒæŠŠä½ çš„å·¥ç¨‹å¸ˆå’Œç§‘å­¦å®¶æ’¬è¿‡æ¥ç ´è§£è¿˜ä¸æ˜¯ä¸¤å¤©çš„äº‹ã€‚çŽ°ä»£äº’è”ç½‘æŠ€æœ¯å°±æ˜¯åœ¨è¿™æ ·çš„æ”»é˜²æ¸¸æˆä¸­é€æ¸çš„å‘å±•å£®å¤§çš„ï¼Œæ—¶ä»£çš„å·¨è½®æ»šæ»šå‘å‰ï¼Œè·Ÿä¸ä¸Šæ—¶ä»£æ­¥ä¼çš„æŠ€æœ¯åªä¼šè¢«ç¢¾åŽ‹å¾—ç²‰ç¢Žã€‚ å®Œã€‚]]></content>
      <categories>
        <category>æœ‰è¶£</category>
      </categories>
      <tags>
        <tag>other</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexoè¸©å‘è®°]]></title>
    <url>%2F2018%2F08%2F10%2Fhexo%E8%B8%A9%E5%9D%91%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[hexoçš„æ­å»ºå’Œä½¿ç”¨ååˆ†çš„æ–¹ä¾¿ï¼Œæ­é…github pageé£Ÿç”¨æ›´ä½³ã€‚githubä¸Šæœ‰å¾ˆå¤šç»šä¸½çš„hexoä¸»é¢˜ï¼Œå¤§å®¶å¯ä»¥æŒ‰éœ€æ­é…ã€‚è™½è¯´hexo+github pageæ­å»ºä¸ªäººåšå®¢å¾ˆæ–¹ä¾¿å¿«æ·ï¼Œä½†å¦‚æžœä½ éœ€è¦è¾ƒå¤šçš„ä¸ªæ€§åŒ–å®šåˆ¶ï¼Œå‘æ€»æ˜¯ä¼šè¸©çš„ã€‚æœ¬æ–‡ä¸»è¦é‡åˆ°çš„å„ç§å‘ä»¥åŠè®°å½•ç®€å•çš„æ“ä½œæ­¥éª¤ï¼Œå¦‚æžœéœ€è¦è¯¦ç»†çš„å®‰è£…éƒ¨ç½²æ•™ç¨‹è¯·ç‚¹å‡»ä¼ é€é—¨ç¦»å¼€ã€‚ å®‰è£…hexo å¦‚æžœä½ ä¸çŸ¥é“æˆ–è€…æœªå®‰è£… npm ï¼Œç‚¹å‡»æ­¤å¤„äº†è§£ä»¥åŠä¸‹è½½ã€‚ npm i -g hexo-cli è¯´åˆ°npmæˆ‘åœ¨åŽé¢æŒ–åˆ°äº†ä¸€ä¸ªå‘ï¼Œè¿™ä¸ªå‘ä»¥å‰å·²ç»æŒ–è¿‡ï¼Œè¿™é‡Œåˆé‡åˆ°äº†ï¼Œæœ‰å¿…è¦è®°ä¸‹æ¥ã€‚å¦‚æžœä½ è·Ÿæˆ‘ä¸€æ ·æ˜¯åœ¨ä½¿ç”¨Windows 10 + VirtualBox (VBox) + Vagrant + Laravel Homestead + å…±äº«ç›®å½•è¿™æ ·çš„çŽ¯å¢ƒåšå¼€å‘çš„ï¼Œéœ€è¦æ³¨æ„ã€‚ åœ¨ä¸Šè¿°çŽ¯å¢ƒä¸­ä½¿ç”¨npmä¼šæœ‰æ¯”è¾ƒå¤šæ„æ–™ä¹‹å¤–çš„çŠ¶å†µï¼Œå¤§éƒ¨åˆ†stackoverflowä¸Šéƒ½æœ‰è§£å†³æ–¹æ¡ˆï¼Œä½†è¿™æ¬¡é‡åˆ°çš„error â€œETXTBSY: text file is busyâ€ on npm installå¼„äº†ä¸€æ®µæ—¶é—´ä»ç„¶æ²¡è§£å†³ï¼ŒæŠŠnpmæžååŽè¿˜æ˜¯æ¢åˆ°windowsçŽ¯å¢ƒåŽ»äº†ã€‚ è™½ç„¶æ²¡è§£å†³ï¼Œä½†è¿˜æ˜¯æŽ¨èä¸€ä¸‹æ¯”è¾ƒé è°±çš„è§£å†³æ–¹æ¡ˆã€‚ å¿«é€Ÿæ­å»º hexo init [folder] //åˆå§‹åŒ–ï¼Œæ–°å»ºä¸€ä¸ªç½‘ç«™ã€‚å¦‚æžœæ²¡æœ‰è®¾ç½® folder ï¼ŒHexo é»˜è®¤åœ¨ç›®å‰çš„æ–‡ä»¶å¤¹å»ºç«‹ç½‘ç«™ cd folder //è¿›å…¥ç½‘ç«™æ ¹ç›®å½•ï¼Œå¦‚æžœæ²¡æœ‰è®¾ç½® folder ï¼Œåˆ™ä¸éœ€è¦è¯¥æ­¥éª¤ hexo g //generetorçš„ç¼©å†™ï¼Œç”Ÿæˆé™æ€æ–‡ä»¶ã€‚ hexo s //serverçš„ç¼©å†™ï¼Œå¯åŠ¨æœåŠ¡å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¿é—®ç½‘å€ä¸ºï¼š http://localhost:4000/ã€‚ ä¸»é¢˜ hexoæœ‰å¾ˆå¤šä¸»é¢˜å¯ä»¥æä¾›é€‰æ‹©ï¼Œè€Œæˆ‘è¿™é‡Œåˆ™ä½¿ç”¨äº†materialè¿™ä¸ªä¸»é¢˜ï¼Œæœ€å‘çš„æ˜¯ä»–çš„æ–‡æ¡£ç½‘ç«™sslè¯ä¹¦å±…ç„¶è¿‡æœŸäº†ï¼Œæƒ³çœ‹éƒ½çœ‹ä¸äº†=ã€‚=é‚£å°±æ²¡åŠžæ³•å•¦ï¼Œå’±ä¸€èµ·é€ä¸ªé…ç½®è¯•ä¸€ä¸‹ï¼Œå†é—®ä¸€é—®Googleï¼Œåº”è¯¥ä¹Ÿä¸ä¼šæœ‰å•¥å¤§é—®é¢˜ã€‚ é¦–å…ˆæˆ‘ä»¬æŠŠmaterialçš„é¡¹ç›®cloneä¸‹æ¥æ”¾åˆ°hexoç›®å½•ä¸‹çš„themesä¸­ï¼Œæ ¹æ®è¯´æ˜Žä¸ºäº†é¿å…é…ç½®æ–‡ä»¶è¢«è¦†ç›–ï¼Œæˆ‘ä»¬éœ€è¦å¤åˆ¶ä¸€ä»½_config.template.ymlå¹¶å‘½åä¸º_config.ymlã€‚æŽ¥ä¸‹æ¥æˆ‘ä»¬çš„å°±å¼€å§‹å®šåˆ¶æˆ‘ä»¬è‡ªå·±çš„ä¸»é¢˜é£Žæ ¼ã€‚_config.ymlä¸­å¤§å¤šæ•°çš„é…ç½®é¡¹éƒ½æœ‰ç®€å•çš„è¯´æ˜Žï¼Œé…ç½®å®Œå„ç§åŸºæœ¬ä¿¡æ¯åŽï¼Œæˆ‘ä»¬æƒ³è¦é…ç½®ä¸€äº›ä¸ªæ€§åŒ–çš„ä¸œè¥¿ï¼Œä¾‹å¦‚ä»£ç çš„é«˜äº®æ ·å¼ã€é€‰æ‹©è‡ªå·±å–œæ¬¢ç†Ÿæ‚‰çš„è¯„è®ºç³»ç»Ÿç­‰ç­‰ã€‚ é«˜äº® é¦–å…ˆè¯´è¯´é…ç½®ä»£ç é«˜äº®æ ·å¼ï¼Œåœ¨å¤‡æ³¨Code highlightä¸‹æœ‰ä¸¤ä¸ªé…ç½®é¡¹ # Code highlight # You can only enable one of them to avoid issues. # Also you need to disable highlight option in hexo's _config.yml. # # Prettify # theme: # Available value in /source/css/prettify/[theme].min.css prettify: enable: false theme: &quot;github-v2&quot; # Hanabi (https://github.com/egoist/hanabi) # line_number: [true/false] # Show line number for code block # includeDefaultColors: [true/false] # Use default hanabi colors # customColors: This value accept a string or am array to setting for hanabi colors. # - If `includeDefaultColors` is true, this will append colors to the color pool # - If `includeDefaultColors` is false, this will instead default color pool hanabi: enable: true line_number: true includeDefaultColors: true customColors: ä¸Šé¢æ˜¯å„ç§é«˜äº®çš„æ ·å¼é€‰æ‹©ï¼Œè€Œä¸‹é¢åˆ™æ˜¯hanabiï¼Œä¸€ä¸ªå¾ˆéªšçš„é«˜äº®é£Žæ ¼ï¼ˆæ²¡é”™å°±æ˜¯æˆ‘ç”¨ç€çš„è¿™ä¸ªï¼‰ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸¤ä¸ªé…ç½®é¡¹ä½ åªèƒ½è®¾ç½®å…¶ä¸­ä¸€ä¸ªenableä¸ºtrueï¼Œè€Œä¸”hexoçš„_config.ymlä¸­æœ‰ä¸€ä¸ªé…ç½®é¡¹è·Ÿå®ƒæ˜¯å†²çªçš„ # Writing new_post_name: :title.md # File name of new posts default_layout: post titlecase: false # Transform title into titlecase external_link: true # Open external links in new tab filename_case: 0 render_drafts: false post_asset_folder: false relative_link: false future: true highlight: enable: false line_number: false auto_detect: false tab_replace: è¿™é‡Œçš„highlightè®¾ç½®ä¸ºtrueä¼šè®©hanabiä¸èµ·ä½œç”¨ã€‚å¦‚æžœä½ é€‰ç”¨prettifyçš„è¯ï¼Œå¯ä»¥åœ¨è·¯å¾„material/source/css/prettify/[theme].min.cssæ‰¾å–œæ¬¢çš„é«˜äº®æ ·å¼ï¼Œå…¶ä¸­[theme]å°±æ˜¯prettify.themeä¸­å¡«å†™çš„æ ·å¼åç§°ã€‚ è¯„è®ºç³»ç»Ÿ å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œé›†æˆæœåŠ¡é‡Œé¢ï¼ŒåŒ…å«äº†è¯„è®ºç³»ç»Ÿçš„é…ç½®é¡¹ï¼Œå¦‚æ­¤æ–¹ä¾¿çš„é…ç½®å°±èƒ½å¤ŸåŠ å…¥ä¸€ä¸ªè¯„è®ºç³»ç»Ÿåˆ°åšå®¢é‡Œäº†ï¼Œä½•ä¹è€Œä¸ä¸ºå‘¢ï¼Ÿ # Comment Systems # Available value of &quot;use&quot;: # disqus | disqus_click | changyan | livere | gitment | gitalk | valine | wildfire # If you want to use gitment or gitalk,you should get the client_id and client_secret from https://github.com/settings/applications/new # If you want to use valine,you should get the app_id and app_key from https://leancloud.cn ,more setting please see https://valine.js.org comment: use: gitalk shortname: # duoshuo or disqus shortname changyan_appid: changyan_conf: changyan_thread_key_type: path livere_data_uid: gitment_repo: # git repo of the hexo gitment_owner: # git repo's owner gitment_client_id: # github app client id gitment_client_secret : # github app client secret valine_leancloud_appId: # leancloud application app id valine_leancloud_appKey: # leancloud application app key valine_notify: false # valine mail notify (true/false) https://github.com/xCss/Valine/wiki valine_verify: false # valine verify code (true/false) valine_pageSize: 10 # comment list page size valine_avatar: identicon # gravatar style https://valine.js.org/#/avatar valine_lang: zh-CN # i18n valine_placeholder: Just go go # valine comment input placeholder(like: Please leave your footprints ) valine_guest_info: nick,mail,link #valine comment header info gitalk_repo: gitTalk gitalk_owner: tomhaoye gitalk_client_id: ksjhdfkhfksdhfjsdhf gitalk_client_secret: jd12809j890sjhdosihdoaishd9o21d9081h2yd0 wildfire_database_provider: firebase # firebase or wilddog wildfire_wilddog_site_id: wildfire_firebase_api_key: wildfire_firebase_auth_domain: wildfire_firebase_database_url: wildfire_firebase_project_id: wildfire_firebase_storage_bucket: wildfire_firebase_messaging_sender_id: wildfire_theme: light # light or dark wildfire_locale: zh-CN # en or zh-CN å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œé›†æˆçš„è¯„è®ºç³»ç»Ÿæœ‰ï¼šdisqusï¼Œdisqus_clickï¼Œchangyanï¼Œlivereï¼Œgitmentï¼Œgitalkï¼Œvalineï¼Œwildfireï¼Œå¤§å®¶å–œæ¬¢å“ªä¸ªå°±å°±é…ç½®å¯¹åº”çš„é…ç½®é¡¹å°±å¯ä»¥äº†ã€‚ä¾‹å¦‚æˆ‘ä½¿ç”¨çš„gitalkï¼Œåªéœ€è¦åœ¨ä¸ªäººè®¾ç½®ä¸­é€‰æ‹©å¼€å‘è€…è®¾ç½®ï¼Œç„¶åŽé€‰æ‹©Oauth Appsï¼Œæ–°å»ºä¸€ä¸ªæŽˆæƒåº”ç”¨ï¼Œå°†å¾—åˆ°çš„Client IDå’ŒClient Secretå¡«åˆ°ä¸Šé¢çš„gitalk_å‰ç¼€é…ç½®é¡¹ä¸­ï¼Œgitalk_repoå¡«å†™ä½ çš„åº”ç”¨åç§°ï¼Œgitalk_ownerå¡«å†™ä½ çš„è´¦å·åå³å¯ã€‚ å½“ç„¶é…ç½®ä¸æ˜¯é‡ç‚¹ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•è¸©è¿‡çš„å‘ï¼Œæ²¡è¶´ä¸‹è¿‡çš„åœ°æ–¹æˆ‘ä¹Ÿä¸ä¼šç‰¹åˆ«æå‡ºæ¥ã€‚æˆ‘å®Œå®Œæ•´æ•´çš„é…ç½®å¥½äº†æˆ‘çš„çš„gitalkè¯„è®ºç³»ç»ŸåŽï¼Œå…ˆæ–°å»ºäº†ä¸€ç‰‡æ–‡ç« å¹¶æ‰“å¼€é“¾æŽ¥ï¼Œè¯„è®ºç³»ç»Ÿè‡ªåŠ¨è¯·æ±‚å¹¶åœ¨githubçš„ä»“åº“é‡Œé¢æ–°å¢žäº†ä¸€ä¸ªissueï¼Œæ®æˆ‘çŒœæµ‹è¿™ä¸ªissueå°±æ˜¯ç”¨æ¥è®°å½•å½“å‰æ–‡ç« çš„æ‰€æœ‰è¯„è®ºçš„ã€‚æžœä¸å…¶ç„¶ï¼Œæˆ‘åœ¨å‘è¡¨äº†ä¸€æ¡è¯„è®ºï¼Œissueé‡Œé¢ä¾¿æ–°å¢žäº†ç•™è¨€ä¸€æ®µè®°å½•ã€‚å—¯ï¼Œä¸€åˆ‡éƒ½ååˆ†çš„é¡ºåˆ©ï¼ŒäºŽæ˜¯æˆ‘åˆæ–°å»ºäº†ä¸€ç¯‡åå­—æ¯”è¾ƒé•¿çš„æ–‡ç« å¹¶æ‰“å¼€é“¾æŽ¥ï¼Œå’¦ï¼Ÿæ€Žä¹ˆè¯·æ±‚å‘ç”Ÿäº†é”™è¯¯ï¼ŸåŽæ¥åœ¨GoogleæŸ¥äº†åŠå¤©ï¼Œç»ˆäºŽå‘çŽ°gitalkçš„åˆå§‹åŒ–idå‚æ•°æœ€é•¿åªèƒ½ä¼ 50ä¸ªå­—ç¬¦ï¼Œè€Œå®ƒé»˜è®¤æ˜¯ç›´æŽ¥æ‹¿å½“å‰çš„urlä½œä¸ºå‚æ•°çš„ï¼Œæ‰€ä»¥è¯·æ±‚ä¼šè¿”å›žå®¢æˆ·ç«¯é”™è¯¯ã€‚çŸ¥é“äº†é—®é¢˜æ‰€åœ¨è§£å†³å°±æ¯”è¾ƒç®€å•äº†ï¼Œåªéœ€è¦åœ¨theme/material/layout/_widget/comment/gitalk/main.ejsä¸­åŠ å…¥ï¼š &lt;script&gt; var gitalk = new Gitalk({ clientID: '&lt;%= theme.comment.gitalk_client_id %&gt;', clientSecret: '&lt;%= theme.comment.gitalk_client_secret %&gt;', repo: '&lt;%= theme.comment.gitalk_repo %&gt;', owner: '&lt;%= theme.comment.gitalk_owner %&gt;', admin: ['&lt;%= theme.comment.gitalk_owner %&gt;'], id: document.title.substr(0,50), // facebook-like distraction free mode distractionFreeMode: false }) gitalk.render('gitalk-container') &lt;/script&gt; è¿™é‡Œæˆ‘æ˜¯å°†titleæˆªå–æœ€å¤š50ä¸ªå­—ç¬¦ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ç»“åˆè‡ªèº«æƒ…å†µä¼ å…¥è‡ªå·±éœ€è¦çš„å‚æ•°ã€‚ Emojiè¡¨æƒ…æ¸²æŸ“ Hexoé»˜è®¤çš„markdownæ¸²æŸ“å¼•æ“Žä¸æ”¯æŒemojiè¡¨æƒ…çš„æ¸²æŸ“ï¼Œä¸ºäº†ç¾ŽåŒ–åšå®¢ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ¢ä¸€ä¸ªæ”¯æŒemojiçš„æ¸²æŸ“å¼•æ“Žï¼Œå¹¶æ·»åŠ ä¸€ä¸ªemojiæ’ä»¶ã€‚æ–¹æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦é”®å…¥ä»¥ä¸‹ä¸‰è¡Œå‘½ä»¤ï¼š npm un hexo-renderer-marked --save npm i hexo-renderer-markdown-it --save npm install markdown-it-emoji --save å…¨éƒ¨å®‰è£…æˆåŠŸåŽåœ¨Hexoçš„_config.ymlé…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹çš„é…ç½®ï¼š ## markdown æ¸²æŸ“å¼•æ“Žé…ç½®ï¼Œé»˜è®¤æ˜¯hexo-renderer-markedï¼Œè¿™ä¸ªæ’ä»¶æ¸²æŸ“é€Ÿåº¦æ›´å¿«ï¼Œä¸”æœ‰æ–°ç‰¹æ€§ markdown: render: html: true xhtmlOut: false breaks: true linkify: true typographer: true quotes: 'â€œâ€â€˜â€™' plugins: - markdown-it-footnote - markdown-it-sup - markdown-it-sub - markdown-it-abbr - markdown-it-emoji anchors: level: 2 collisionSuffix: 'v' permalink: true permalinkClass: header-anchor permalinkSymbol: '' åœ¨emojy-cheet-sheetä¸­æ‰¾åˆ°ä½ æƒ³è¦çš„è¡¨æƒ…ç¼–ç ï¼Œä¾‹å¦‚ç¬‘è„¸å¯¹åº”çš„emojiç¼–ç æ˜¯:smile:ï¼Œæ¸…é™¤æ—§æ–‡ä»¶å¹¶é‡æ–°æž„å»ºåŽåœ¨ä½ çš„æ–‡ç« ä¸­å°±å¯ä»¥ä¼šå‡ºçŽ°ðŸ˜„äº†ã€‚ æ²¡æœ‰ç»“æŸ ç”±äºŽåšå®¢è¿˜åœ¨æ­å»ºç¾ŽåŒ–ä¸­ï¼Œè¯¥æ–‡ç« ä¼šæŒç»­æ›´æ–°ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>æŒ–å‘</category>
      </categories>
      <tags>
        <tag>other</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PHP Standard Recommendation]]></title>
    <url>%2F2018%2F06%2F16%2FPHP-Standard-Recommendation%2F</url>
    <content type="text"><![CDATA[éžå®˜æ–¹è§„èŒƒã€‚ PSR-0(AutoLoading Standard) (14å¹´10æœˆ21æ—¥èµ·æ ‡è®°ä¸ºdeprecatedï¼Œç”±PSR-4ä»£æ›¿) å®Œå…¨åˆæ ¼çš„å‘½åç©ºé—´å’Œç±»åå¿…é¡»æœ‰ä»¥ä¸‹ç»“æž„ &quot;\&lt;vendor name&gt;\(&lt;Namespace&gt;)*&lt;Class Name&gt;&quot; æ¯ä¸ªå‘½åç©ºé—´å¿…é¡»æœ‰é¡¶çº§å‘½åç©ºé—´ (&quot;Vendor Name&quot;) æ¯ä¸ªå‘½åç©ºé—´å¯ä»¥æœ‰ä»»æ„å¤šä¸ªå­å‘½åç©ºé—´ æ¯ä¸ªå‘½åç©ºé—´åœ¨è¢«ä»Žæ–‡ä»¶ç³»ç»ŸåŠ è½½æ—¶å¿…é¡»è¢«è½¬æ¢ä¸ºæ“ä½œç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦ æ¯ä¸ª&quot;_â€œå­—ç¬¦åœ¨ç±»åä¸­è¢«è½¬æ¢ä¸ºDIRECTORY_SEPARATORã€‚â€_&quot;åœ¨å‘½åç©ºé—´ä¸­æ²¡æœ‰æ˜Žç¡®å«ä¹‰ ç¬¦åˆå‘½åæ ‡å¿—çš„å‘½åç©ºé—´å’Œç±»åå¿…é¡»ä»¥&quot;.php&quot;ç»“å°¾æ¥åŠ è½½ VendorNameã€å‘½åç©ºé—´ã€ç±»åå¯ä»¥ç”±å¤§å°å†™å­—æ¯ç»„æˆï¼Œå…¶ä¸­å‘½åç©ºé—´å’Œç±»åæ˜¯å¤§å°å†™æ•æ„Ÿçš„ä»¥ä¿è¯å¤šç³»ç»Ÿå…¼å®¹ PSR-1(Basic Coding Standard) æºæ–‡ä»¶å¿…é¡»åªä½¿ç”¨ä»¥ä¸‹è¿™ä¸¤ç§æ ‡ç­¾ &lt;?php å’Œ &lt;?= æºæ–‡ä»¶ä¸­phpä»£ç çš„ç¼–ç æ ¼å¼å¿…é¡»åªé€‚ç”¨ä¸å¸¦BOMçš„UTFï¼8ï¼ˆBOMâ€”â€”å­—èŠ‚é¡ºåºæ ‡è®°ï¼‰ ä¸€ä¸ªæºæ–‡ä»¶å»ºè®®åªç”¨æ¥åšå£°æ˜Žï¼ˆç±»ã€å‡½æ•°ã€å¸¸é‡ç­‰ï¼‰æˆ–è€…åªç”¨æ¥åšä¸€äº›å¼•èµ·å‰¯ä½œç”¨çš„æ“ä½œï¼ˆå¦‚è¾“å‡ºä¿¡æ¯ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ç­‰ï¼‰ï¼Œä½†ä¸åº”è¯¥åŒæ—¶åšè¿™ä¸¤ä»¶äº‹ å‘½åç©ºé—´å’Œç±»å¿…é¡»éµå®ˆPSR-0 ç±»åå¿…é¡»ä½¿ç”¨StudlyCapså†™æ³• ç±»ä¸­çš„å¸¸é‡å¿…é¡»åªç”±å¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿ç»„æˆ æ–¹æ³•åå¿…é¡»ä½¿ç”¨camelCaseå†™æ³• PSR-2(Coding Style Guide) ä»£ç å¿…é¡»éµå¾ªPSR-1 ä»£ç å¿…é¡»ä½¿ç”¨4ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿›ï¼Œè€Œä¸æ˜¯åˆ¶è¡¨ç¬¦ ä¸€è¡Œä»£ç çš„é•¿åº¦ä¸åº”è¯¥æœ‰ç¡¬é™åˆ¶ï¼Œè½¯é™åˆ¶ä¸º120ä¸ªå­—ç¬¦ï¼Œå»ºè®®æ¯è¡Œå°äºŽ80 åœ¨å‘½åç©ºé—´å£°æ˜Žä¸‹å¿…é¡»ç©ºä¸€è¡Œï¼Œuseä¸‹åŒç† ç±»çš„å·¦ã€å³èŠ±æ‹¬å·å¿…é¡»å„è‡ªæˆä¸€è¡Œ æ–¹æ³•çš„å·¦å³èŠ±æ‹¬å·éƒ½å¿…é¡»å„è‡ªæˆä¸€è¡Œ æ‰€æœ‰å±žæ€§ã€æ–¹æ³•å¿…é¡»æœ‰å¯è§æ€§å£°æ˜Žï¼›abstractå’Œfinalå¿…é¡»åœ¨å¯è§æ€§å£°æ˜Žå‰ï¼Œstaticå¿…é¡»åœ¨å¯è§æ€§å£°æ˜ŽåŽ åœ¨ç»“æž„æŽ§åˆ¶çš„å…³é”®å­—åŽå¿…é¡»ç©ºä¸€æ ¼ï¼›å‡½æ•°è°ƒç”¨åŽé¢ä¸å¯æœ‰ç©ºæ ¼ ç»“æž„æŽ§åˆ¶å…³é”®å­—å·¦èŠ±æ‹¬å·å¿…é¡»åŒä¸€è¡Œï¼Œå³èŠ±æ‹¬å·å¿…é¡»æ”¾åœ¨ä»£ç ä¸»ä½“ä¸‹ä¸€è¡Œ æŽ§åˆ¶ç»“æž„çš„å·¦èŠ±æ‹¬å·ä¹‹åŽä¸å¯æœ‰ç©ºæ ¼ï¼Œå³èŠ±æ‹¬å·ä¹‹å‰ä¹Ÿä¸å¯æœ‰ç©ºæ ¼ PSR-3(Logger Interface) LoggerInterfaceæš´éœ²å…«ä¸ªæŽ¥å£ç”¨æ¥è®°å½•å…«ä¸ªç­‰çº§(debug,info,notice,warning,error,critical,alert,emergency)çš„æ—¥å¿— ç¬¬ä¹ä¸ªæ–¹æ³•æ˜¯logï¼ŒæŽ¥å—æ—¥å¿—ç­‰çº§æ“ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚ç”¨ä¸€ä¸ªæ—¥å¿—ç­‰çº§å¸¸é‡æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•å¿…é¡»å’Œç›´æŽ¥è°ƒç”¨æŒ‡å®šç­‰çº§æ–¹æ³•çš„ç»“æžœä¸€è‡´ã€‚ç”¨ä¸€æ ¼æœ¬è§„èŒƒä¸­æ¥å®šä¹‰ä¸”ä¸ä¸ºå…·ä½“å®žçŽ°æ‰€çŸ¥çš„æ—¥å¿—ç­‰çº§æ¥è°ƒç”¨è¯¥æ–¹æ³•å¿…é¡»è·‘å‡ºä¸€ä¸ª PSR\Log\InvalidArgumentException ä¸æŽ¨èä½¿ç”¨è‡ªå®šä¹‰çš„æ—¥å¿—ç­‰çº§ï¼Œé™¤éžä½ éžå¸¸ç¡®è®¤å½“å‰ç±»åº“å¯¹å…¶æ”¯æŒã€‚ PSR-4(Improved AutoLoading) (å…¼å®¹PSR-0) æœ¯è¯­ï¼»ç±»ï¼½æ˜¯ä¸€ä¸ªæ³›ç§°ï¼Œå®ƒåŒ…å«ç±»ã€æŽ¥å£ã€traitåŠå…¶ä»–ç±»ä¼¼ç»“æž„ å®Œå…¨é™å®šç±»ååº”è¯¥å¦‚ä¸‹èŒƒä¾‹ &lt;NamespaceName&gt;(&lt;SubNamespace&gt;)*&lt;ClassName&gt; å®Œå…¨åˆè§„ç±»åå¿…é¡»æœ‰ä¸€æ ¼é¡¶çº§å‘½åç©ºé—´ å®Œå…¨åˆè§„ç±»åå¯æœ‰å¤šä¸ªå­å‘½åç©ºé—´ å®Œå…¨åˆè§„ç±»ååº”è¯¥æœ‰ä¸€æ ¼ç»ˆæ­¢ç±»å ä¸‹åˆ’çº¿åœ¨å®Œå…¨åˆè§„ç±»åä¸­æ˜¯æ²¡æœ‰ç‰¹æ®Šå«ä¹‰çš„ å­—æ¯åœ¨å®Œå…¨åˆè§„ç±»åä¸­å¯ä»¥æ˜¯ä»»ä½•å¤§å°å†™ç»„åˆ æ‰€æœ‰ç±»åå¿…é¡»ä»¥å¤§å°å†™æ•æ„Ÿçš„æ–¹å¼å¼•ç”¨ å½“å®Œå…¨åˆè§„ç±»åè½½å…¥æ–‡ä»¶æ—¶ï¼š åœ¨å®Œå…¨åˆè§„ç±»åä¸­ï¼Œè¿žç»­çš„ä¸€ä¸ªæˆ–å‡ ä¸ªå­å‘½åç©ºé—´æž„æˆçš„å‘½åç©ºé—´å‰ç¼€ï¼ˆä¸åŒ…æ‹¬é¡¶çº§å‘½åç©ºé—´åˆ†éš”ç¬¦ï¼‰ï¼Œè‡³å°‘å¯¹åº”ä¸€æ ¼åŸºç¡€ç›®å½• åœ¨ï¼»å‘½åç©ºé—´å‰ç¼€ï¼½åŽçš„è¿žç»­å­å‘½åç©ºé—´åç§°å¯¹åº”ä¸€ä¸ªï¼»åŸºç¡€ç›®å½•ï¼½ä¸‹çš„å­ç›®å½•ï¼Œå…¶ä¸­çš„å‘½åç©ºé—´åˆ†éš”ç¬¦æ ‡ç¤ºç›®å½•åˆ†éš”ç¬¦ã€‚å­ç›®å½•åç§°å¿…é¡»å’Œå­å‘½åç©ºé—´åå¤§å°å†™åŒ¹é… ç»ˆæ­¢ç±»åå¯¹åº”ä¸€ä¸ªä»¥.phpç»“å°¾çš„æ–‡ä»¶ã€‚æ–‡ä»¶åå¿…é¡»å’Œç»ˆæ­¢ç±»åå¤§å°å†™åŒ¹é… è‡ªåŠ¨è½½å…¥å™¨çš„å®žçŽ°ä¸å¯ä»¥æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼Œä¸å¯ä»¥å¼•å‘ä»»ä½•ç­‰çº§çš„é”™è¯¯ï¼Œä¹Ÿä¸åº”è¯¥æœ‰è¿”å›žå€¼]]></content>
      <categories>
        <category>è§„èŒƒ</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IOæ¨¡åž‹ç¬”è®°]]></title>
    <url>%2F2018%2F05%2F20%2FIO%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[IO Model å¸¸è§IOæ¨¡åž‹ blocking IO nonblocking IO IO mutiplexing(select &amp; poll) signal driven IO asynchronous IO(the POSIX aio_functions) ä¸€ä¸ªåŸºæœ¬çš„IOï¼Œå®ƒä¼šæ¶‰åŠåˆ°ä¸¤ä¸ªç³»ç»Ÿå¯¹è±¡ï¼Œä¸€ä¸ªå°±æ˜¯ç³»ç»Ÿå†…æ ¸ï¼Œå¦ä¸€ä¸ªæ˜¯è°ƒç”¨è¿™ä¸ªIOçš„å¯¹è±¡ã€‚å½“ä¸€ä¸ªreadæ“ä½œå‘ç”Ÿæ—¶ï¼Œä¼šç»åŽ†ä»¥ä¸‹é˜¶æ®µï¼š é€šè¿‡readç³»ç»Ÿè°ƒç”¨å‘å†…æ ¸å‘èµ·è¯»è¯·æ±‚ å†…æ ¸å‘ç¡¬ä»¶å‘é€è¯»æŒ‡ä»¤ï¼Œå¹¶ç­‰å¾…è¯»å°±ç»ª å†…æ ¸æŠŠå°†è¦è¯»å–çš„æ•°æ®å¤åˆ¶åˆ°æè¿°ç¬¦æ‰€æŒ‡å‘çš„å†…æ ¸ç¼“å­˜åŒº å°†æ•°æ®ä»Žå†…æ ¸ç¼“å­˜åŒºæ‹·è´åˆ°ç”¨æˆ·è¿›ç¨‹ç©ºé—´ä¸­ åŒæ­¥ä¸Žå¼‚æ­¥ åŒæ­¥å’Œå¼‚æ­¥å…³æ³¨çš„æ˜¯æ¶ˆæ¯é€šä¿¡æœºåˆ¶ æ³¨ï¼šåŒæ­¥IOè¿‡ç¨‹ç”±è¿›ç¨‹å¤„ç†ï¼Œå¼‚æ­¥IOäº¤ç”±å†…æ ¸å¤„ç†IO é˜»å¡žä¸Žéžé˜»å¡ž é˜»å¡žå’Œéžé˜»å¡žå…³æ³¨çš„æ˜¯ç¨‹åºåœ¨ç­‰å¾…è°ƒç”¨ç»“æžœæ—¶çš„çŠ¶æ€ 1ï¼Œ2ï¼Œ3ï¼Œ4å±žäºŽåŒæ­¥IOï¼Œ5å±žäºŽå¼‚æ­¥IO AIOå¼‚æ­¥éžé˜»å¡žIOï¼Œé€‚ç”¨äºŽè¿žæŽ¥æ•°å¤šä¸”IOæ—¶é—´é•¿çš„æž¶æž„ï¼Œå¦‚ç›¸å†ŒæœåŠ¡å™¨ï¼ŒJDK7å¼€å§‹æ”¯æŒ NIOåŒæ­¥éžé˜»å¡žIOï¼Œé€‚ç”¨äºŽè¿žæŽ¥æ•°å¤šä¸”è½»æ“ä½œï¼ˆIO?ï¼‰çš„æž¶æž„ BIOåŒæ­¥åˆ™è‰²IOï¼Œé€‚ç”¨äºŽè¿žæŽ¥æ•°å°‘ä¸”å›ºå®šçš„æž¶æž„ ä¸€èˆ¬æ¥è¯´ï¼ŒIOä¸»è¦æœ‰ä¸¤ç§æƒ…å†µï¼ˆæœåŠ¡å™¨ï¼‰ï¼šä¸€æ˜¯æ¥è‡ªç½‘ç»œçš„IOï¼ŒäºŒæ˜¯æ–‡ä»¶çš„IOã€‚windowsæä¾›å¼‚æ­¥IOï¼ŒLinuxæä¾›epollæ¨¡åž‹ç»™ç½‘ç»œIOï¼Œæ–‡ä»¶IOåˆ™æä¾›AIO epoll,select/poll æœ¬è´¨ä¸Šéƒ½æ˜¯åŒæ­¥IOï¼Œè‡ªå·±å¤„ç†IOè¿‡ç¨‹ï¼Œä½†æ˜¯epollä¼˜åŒ–äº†è½®è¯¢æ“ä½œï¼Œä½¿ç”¨callbackæœºåˆ¶å“åº”ã€‚ é¢å¤–æä¾›Edge Triggeredï¼Œç”¨æˆ·ç©ºé—´å¯èƒ½ç¼“å­˜IOçŠ¶æ€ï¼Œå‡å°‘epoll-waitï¼epoll-pwaitè°ƒç”¨ level triggered &amp; edge triggered LTäº‹ä»¶ä¸ä¼šä¸¢å¼ƒï¼Œåªè¦è¯»bufferé‡Œé¢æœ‰æ•°æ®å¯ä»¥è®©ç”¨æˆ·è¯»ï¼Œå°±ä¼šä¸åœçš„é€šçŸ¥ã€‚è€ŒETåˆ™åªå‘åœ¨äº‹ä»¶å‘ç”Ÿä¹‹æ—¶é€šçŸ¥ã€‚ selectç¼ºç‚¹ï¼š æ¯æ¬¡è°ƒç”¨ï¼Œéƒ½éœ€è¦æŠŠfdé›†åˆä»Žç”¨æˆ·æ€æ‹·è´åˆ°å†…æ ¸æ€ï¼Œfdå¤šäº‹ä»¶å¼€é”€å¤§ æ¯æ¬¡éƒ½è¦éåŽ†è¿›å…¥å†…æ ¸çš„fdï¼Œå¼€é”€ä¹Ÿå¾ˆå¤§ selectæ”¯æŒfdæ•°é‡å¤ªå°ï¼Œé»˜è®¤1024 pollä¸Žselectåªåœ¨fdé›†åˆçš„ç»“æž„ä¸Šé¢æœ‰åŒºåˆ« epollå¯¹selectç¼ºç‚¹çš„æ”¹è¿› æ–°äº‹ä»¶æ³¨å†Œåˆ°epollå¥æŸ„ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰çš„fdæ‹·è´è¿›å†…æ ¸ï¼Œè€Œä¸æ˜¯åœ¨epoll_waitæ—¶é‡å¤æ‹·è´ ä¸ºfdæŒ‡å®šå›žè°ƒå‡½æ•°ï¼Œè®¾å¤‡å°±ç»ªï¼Œè°ƒç”¨å›žè°ƒå‡½æ•°å”¤é†’ç­‰å¾…è€…ï¼Œå¹¶å°†fdåŠ å…¥å°±ç»ªé“¾è¡¨ æœ€å¤§çš„é™åˆ¶å¾ˆå¤§ç¨‹åº¦ä¸Šè·Ÿç³»ç»Ÿå†…å­˜å¤§å°æœ‰å…³ æ¶ˆæ¯ä¼ é€’ï¼šmmapåŠ é€Ÿ æ€»ç»“ selectã€polléƒ½éœ€è¦è½®è¯¢éåŽ†æ‰€æœ‰fdï¼Œè€Œepollåªéœ€è¦è¯»å–å°±ç»ªé“¾è¡¨ selectã€pollæ¯æ¬¡è°ƒç”¨éƒ½copyä¸€æ¬¡fdï¼Œå¹¶å¾€è®¾å¤‡é˜Ÿåˆ—ä¸ŠæŒ‚ã€‚è€Œepollåªè¦copyä¸€æ¬¡fdï¼Œå¹¶åªå¾€è‡ªå·±çš„ç­‰å¾…é˜Ÿåˆ—ä¸ŠæŒ‚ä¸€æ¬¡å³å¯]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>OS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxæ·»åŠ æœåŠ¡åˆ°å¼€æœºè‡ªåŠ¨å¯åŠ¨]]></title>
    <url>%2F2018%2F04%2F22%2FLinux%E6%B7%BB%E5%8A%A0%E6%9C%8D%E5%8A%A1%E5%88%B0%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8%2F</url>
    <content type="text"><![CDATA[Systemd æ˜¯ Linux ç³»ç»Ÿä¸­æœ€æ–°çš„åˆå§‹åŒ–ç³»ç»Ÿï¼ŒSystemd æœåŠ¡æ–‡ä»¶ä»¥ .service ç»“å°¾ã€‚ä¸€äº›ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·å®‰è£…çš„è½¯ä»¶ä¼šè‡ªåŠ¨å»ºç«‹ .service æœåŠ¡æ–‡ä»¶ï¼Œè·¯å¾„åœ¨ /lib/systemd/system/ ä¸‹ï¼Œä½†è‡ªè¡Œå»ºç«‹åŠç®¡ç†çš„æ–‡ä»¶å»ºè®®æ”¾åœ¨ /etc/systemd/system/ ç›®å½•ä¸‹ã€‚å†…å®¹ä»¥ supervisor ä¸ºä¾‹ï¼š [Unit] Description=Supervisor process control system for UNIX Documentation=http://supervisord.org After=network.target [Service] ExecStart=/usr/bin/supervisord -n -c /etc/supervisor/supervisord.conf ExecStop=/usr/bin/supervisorctl $OPTIONS shutdown ExecReload=/usr/bin/supervisorctl -c /etc/supervisor/supervisord.conf $OPTIONS reload KillMode=process Restart=on-failure RestartSec=50s [Install] WantedBy=multi-user.target å‚æ•°è¯´æ˜Žï¼š [Unit] Descriptionï¼šæè¿°æœåŠ¡ Documentationï¼šå‚è€ƒèµ„æ–™ Afterï¼šæè¿°æœåŠ¡ç±»åˆ« [Service] Typeï¼šæ˜¯åŽå°è¿è¡Œçš„å½¢å¼ ExecStartï¼šæœåŠ¡çš„å…·ä½“è¿è¡Œå‘½ä»¤ ExecReloadï¼šé‡å¯å‘½ä»¤ ExecStopï¼šåœæ­¢å‘½ä»¤ KillModeï¼šdaemonç»ˆæ­¢æ—¶æ‰€å…³é—­çš„ç¨‹åº Restartï¼šè§¦å‘é‡å¯ RestartSecï¼šé‡å¯ç­‰å¾…æ—¶é—´ TimeoutSecï¼šæ— æ³•é¡ºåˆ©å¯åŠ¨å¼ºåˆ¶å…³é—­æ—¶é—´ æ³¨æ„ï¼š[Service]çš„å¯åŠ¨ã€é‡å¯ã€åœæ­¢å‘½ä»¤å…¨éƒ¨è¦æ±‚ä½¿ç”¨ç»å¯¹è·¯å¾„ [Install] è¿è¡Œçº§åˆ«ä¸‹æœåŠ¡å®‰è£…çš„ç›¸å…³è®¾ç½®ï¼Œå¯è®¾ç½®ä¸ºå¤šç”¨æˆ·ï¼Œå³ç³»ç»Ÿè¿è¡Œçº§åˆ«ä¸º3 å¦‚è¿‡æƒ³è¦æŸäº›æœåŠ¡å¼€æœºå¯åŠ¨ï¼Œä¾‹å¦‚ä»¥ php-fpm ä¸ºä¾‹ï¼Œç¼–å†™serviceï¼š sudo vi /etc/systemd/system/php7.1-fpm.service [Unit] Description=The PHP 7.1 FastCGI Process Manager Documentation=man:php-fpm7.1(8) After=network.target [Service] Type=notify PIDFile=/run/php/php7.1-fpm.pid ExecStart=/usr/sbin/php-fpm7.1 -R --nodaemonize --fpm-config /etc/php/7.1/fpm/php-fpm.conf ExecReload=/bin/kill -USR2 $MAINPID [Install] WantedBy=multi-user.target éšåŽå¦‚æžœ php-fpm åœ¨è¿è¡Œåˆ™å…ˆå°†å…¶å…³é—­ï¼Œè¿è¡Œï¼š systemctl daemon-reload systemctl start php7.1-fpm.service æµ‹è¯•èƒ½å¤ŸæˆåŠŸå¼€å¯æœåŠ¡äº†ï¼Œå°±å¯ä»¥å°†æœåŠ¡è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š systemctl enable php7.1-fpm.service å¸¸ç”¨å‘½ä»¤ systemctl daemon-reload systemctl list-units --type=service systemctl list-unit-files --type=service systemctl start unit.service systemctl stop unit.service systemctl restart unit.service systemctl enable unit.service systemctl disable unit.service systemctl is-enable unit.service systemctl is-active unit.service systemctl status unit.service]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F03%2F18%2Fhello-world%2F</url>
    <content type="text"><![CDATA[æ¬¢è¿Žæ¥åˆ°æˆ‘çš„åšå®¢ public class HelloWorld { public static void main(String[] args) { System.out.println(&quot;Hello,World!&quot;); } } #include &lt;stdio.h&gt; int main() { printf(&quot;Hello,World!&quot;); return 1; } var sys = require(&quot;sys&quot;); sys.puts(&quot;Hello,World!&quot;); &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;body&gt; &lt;h1&gt;This is the first program!&lt;/h1&gt; &lt;p&gt;Hello,World!&lt;/p&gt; &lt;/body&gt; &lt;/html&gt;]]></content>
      <categories>
        <category>é—²èŠ</category>
      </categories>
      <tags>
        <tag>other</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2017å¹´9-11æœˆæ¸¸è®°â€”â€”è´µå·ž]]></title>
    <url>%2F2017%2F09%2F15%2F2017%E5%B9%B49-11%E6%9C%88%E6%B8%B8%E8%AE%B0%E2%80%94%E2%80%94%E8%B4%B5%E5%B7%9E%2F</url>
    <content type="text"><![CDATA[è¯»ä¸‡å·ä¹¦ï¼Œèµ°ä¸‡é‡Œè·¯ å‰è¨€ å¤§å­¦æ—¶æœŸä¸€å¼€å§‹è¿‡å¾—æœ‰ç‚¹è¿·èŒ«ï¼Œä¸Šä¸Šè¯¾ã€åŽ»åŽ»ç¤¾å›¢ï¼Œç­‰åˆ°èƒ½ç ä¸¤è¡Œä»£ç çš„æ—¶å€™ï¼Œå°±å¼€å§‹è·Ÿè€å¸ˆåŒå­¦æžæžå°é¡¹ç›®ï¼Œçœ¨çœ¼é—´ä¸¤å¹´è¿‡åŽ»äº†ï¼Œæ„Ÿè§‰ç”Ÿæ´»æœ‰ç‚¹å¹³æ·¡ã€‚èŒç”Ÿäº†æƒ³å‡ºåŽ»èµ°èµ°çš„æƒ³æ³•ï¼Œç„¶è€Œå½“è®¡åˆ’åˆ°ä¸€åŠçš„æ—¶å€™ï¼Œæœºç¼˜å·§åˆæŽ¥è§¦åˆ°äº†ä¸€ä¸ªæ„Ÿå…´è¶£çš„åˆ›ä¸šé¡¹ç›®ï¼ŒäºŽæ˜¯è·Ÿéšç€ä¸€ä½å¸ˆå…„åˆ›ä¸šåŽ»äº†ï¼Œä¸€ç›´åˆ°æ¯•ä¸šä¸€å¹´åŽæ‰æƒ³èµ·å½“åˆå¯¹æ—…è¡Œçš„æ†§æ†¬ï¼ŒäºŽæ˜¯å†³å®šé‡æ–°è®¡åˆ’ä¸€ä¸‹è·¯çº¿å’Œè¡Œç¨‹ã€‚ å‰å‰åŽåŽä¸€å…±èŠ±äº†ä¸€ä¸ªå¤šä¸ªæœˆçš„é—²ä½™æ—¶é—´åŽ»å‡†å¤‡ï¼Œç¡®å®šäº†è‡ªå·±çš„å¤§æ¦‚è·¯çº¿ï¼Œç„¶åŽæŸ¥æ‰¾æ¯ä¸ªåœ°æ–¹çš„æ”»ç•¥ï¼ŒæŽ¥ç€æŸ¥åœ°å›¾ã€äº¤é€šç­‰ç­‰ã€‚ç»ˆäºŽåœ¨åœ¨ä¹æœˆä¸­æ—¬ï¼Œæˆ‘ä¸€å¤§æ—©åˆ°è¾¾äº†å¹¿å·žå—ç«™ï¼Œæ­ä¸Šäº†å¼€å¾€è´µé˜³çš„åˆ—è½¦ã€‚ ç¬¬ä¸€ç«™ï¼Œè´µé˜³ æˆ‘è¿™æ¬¡çš„è·¯çº¿è§„åˆ’å†³å®šä»¥ä¸­å›½è¥¿åŒ—éƒ¨çœå¸‚ä¸ºä¸»ï¼ŒåŠ ä»¥æ‹·é—®äº†è‡ªå·±çš„å†…å¿ƒï¼Œå¾—å‡ºäº†å‡ ä¸ªæœ€æƒ³åŽ»çš„åœ°æ–¹ï¼Œè€Œè´µé˜³æ˜¯ç¦»æˆ‘æœ€è¿‘çš„ä¸€ä¸ªã€‚åœ¨è½¦ä¸Šçœ‹çœ‹é£Žæ™¯å¬å¬æ­Œç¡ç¡è§‰ï¼Œ4ä¸ªå°æ—¶çš„æ—¶é—´å¾ˆå¿«å°±è¿‡åŽ»äº†ï¼Œè€Œæˆ‘ä¹Ÿé¡ºåˆ©åˆ°è¾¾äº†è´µé˜³é«˜é“ç«™ã€‚ä¹‹å‰é¢„å®šçš„é’æ—…ç¦»é«˜é“ç«™å¾ˆè¿‘ï¼Œèµ°äº†å¤§æ¦‚15åˆ†é’Ÿå°±åˆ°äº†ã€‚ æå‰æ‰“ç”µè¯ç»™äº†é’æ—…è€æ¿ï¼Œå¾ˆå¿«åœ¨å°åŒºé‡Œé¢å°±ç¢°é¢äº†ã€‚è€æ¿é¢†ç€æˆ‘åŽ»ç™»è®°äº†ä¿¡æ¯åŽå°±å¸¦æˆ‘åˆ°æˆ‘çš„æˆ¿é—´åŽ»äº†ï¼ŒèŠç€èŠç€æ‰å‘çŽ°è¿™ä¸ªåœ°æ–¹å±žäºŽéƒŠå¤–ï¼Œè¿™æ•´ä¸ªå°åŒºåŸºæœ¬éƒ½æ˜¯è¢«å„ç§è€æ¿ä¹°ä¸‹æ¥åšçŸ­ç§Ÿæ—…é¦†ä¹‹ç±»çš„ï¼Œæ—ºå­£çš„æ—¶å€™åŸºæœ¬æ¯ä¸ªæˆ¿é—´éƒ½å¡žæ»¡äººï¼Œä½†çŽ°åœ¨å±žäºŽæ·¡å­£ï¼Œæ‰€ä»¥æ™šä¸Šé™„è¿‘å¾ˆå°‘äººï¼Œå°½é‡å°‘åœ¨æ™šä¸Šå¤–å‡ºï¼Œå¹³æ—¶å¤–å‡ºä¹Ÿå°½é‡åœ¨å¤©é»‘å‰å›žæ¥ã€‚å› ä¸ºåˆ°è¾¾çš„æ—¶é—´æ˜¯ä¸­åˆï¼Œæˆ‘æœ¬æ¥æ˜¯æ‰“ç®—å…ˆåœ¨ä¸‹é¢çš„é¤é¦†åƒä¸€é¡¿å°±å›žé’æ—…ç¡ä¸€è§‰ï¼Œæ™šä¸Šå†å‡ºåŽ»èµ°èµ°çš„ï¼Œä¸è¿‡æ—¢ç„¶è€æ¿è¿™æ ·è¯´äº†ï¼Œé‚£æˆ‘å°±å†³å®šåƒå®ŒåŽå°±å¾€åŸŽé‡Œå‡ºå‘å§ã€‚ è™½ç„¶æ˜¯éƒŠåŒºï¼Œä½†æ˜¯äº¤é€šè¿˜æ˜¯å¾ˆä¾¿æ·ï¼Œå‡ ä¹Žæ‰€æœ‰å…¬äº¤è½¦éƒ½å¯ä»¥åˆ°è¾¾å¸‚ä¸­å¿ƒï¼Œè½¦ç¥¨ä¹Ÿæ¯”è¾ƒä¾¿å®œï¼Œ1å—é’±å°±è¡Œäº†ã€‚ä¹‹å‰å¤§æ¦‚çœ‹äº†åˆ°è¾¾å¸‚ä¸­å¿ƒçš„è·¯ç¨‹ï¼Œå¤§æ¦‚éœ€è¦ä¸€ä¸ªå°æ—¶ï¼Œè™½ç„¶è·¯ç¨‹æ˜¯æ¯”è¾ƒè¿œï¼Œä½†æ˜¯å› ä¸ºå†…å¿ƒå……æ»¡äº†å¥½å¥‡ï¼Œæ‰€ä»¥ä¸€è·¯ä¸Šéƒ½è§‰å¾—å¾ˆç²¾ç¥žã€‚è´µé˜³å¾ˆå¤šå°å±±ï¼Œæ‰€ä»¥åœ°åŠ¿èµ·èµ·ä¼ä¼ï¼Œå¾ˆå¤šæ—¶å€™å»ºç­‘éƒ½æ˜¯ä¾å±±è€Œå»ºçš„ã€‚ä¸è¿‡è¿™é‡Œå¤§å¤šæ•°å±±éƒ½å¾ˆçŸ®ï¼Œä¸åƒé‡åº†é‚£æ ·ï¼ŒåŠ¨ä¸åŠ¨å‡ åå±‚é«˜ã€‚å·®ä¸å¤šå››ç‚¹é’Ÿçš„æ—¶å€™åˆ°äº†å¸‚ä¸­å¿ƒçš„å•†ä¸šåŒºï¼Œå°½ç®¡çŽ°åœ¨æ˜¯æ·¡å­£ï¼Œä½†æ˜¯å•†ä¸šåŒºå¾ˆç¹åŽï¼Œåœ¨é™„ä»¶å•†åœºé€›äº†ä¸€ä¸‹ï¼Œä¸€è·¯ä¸Šä¹°ç‚¹å°åƒåƒï¼Œä¸è¿‡æˆ‘åœ¨è´µé˜³å¯¹åƒçš„è®°å¿†å¹¶æ²¡å¤šå°‘ï¼Œå¯èƒ½è¿™é‡Œçš„é£Žå‘³éƒ½è¾ƒä¸ºæ™®é€šï¼Œä¹Ÿå¯èƒ½æ˜¯æˆ‘æ²¡æœ‰åƒåˆ°çœŸæ­£çš„ç‰¹è‰²èœå§ã€‚ é€›ç€åƒç€å¾ˆå¿«å°±åˆ°äº†æ™šä¸Šäº†ï¼Œèµ°åˆ°å¤–é¢è¡—ä¸Šï¼Œå‘¨å›´çš„ç¯å…‰è‰²å½©æ–‘æ–“ã€‚å’¦ï¼Œå¥½åƒå¿˜äº†ç‚¹ä»€ä¹ˆï¼Ÿå™¢ï¼Œå¯¹äº†ï¼è¦æ—©ç‚¹å›žåŽ»ï¼ä¸è¿‡æ—¢ç„¶éƒ½å¤œæ™šäº†ï¼Œè€Œä¸”å¤œæ™¯è¿™ä¹ˆå¥½çœ‹ï¼Œå†çœ‹ä¸€é˜µå­å§ã€‚ðŸ˜‚ å¤œæ™¯è™½å¥½ï¼Œä½†ä¸èƒ½è´ªæ¯ã€‚å¦åˆ™ï¼Œå›žè¿‡ç¥žæ¥ï¼Œå°±ä¼šå‘çŽ°å·²ç»ä¹ç‚¹å¤šäº†ã€‚èµ¶ç´§èµ¶ä¸Šè½¦å›žç¨‹ï¼Œå¿«åä¸€ç‚¹æ‰ç»ˆäºŽå›žåˆ°äº†é’æ—…ã€‚ä¹‹å‰è€æ¿è·Ÿæˆ‘è¯´ä»Šå¤©è¿™é‡Œåªæœ‰ä½ å’Œå¦å¤–ä¸€ä¸ªäººï¼ˆé•¿ä½ï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬æ˜¯ä¸¤ä¸ªæˆ¿é—´çš„ï¼Œæˆ‘çœ‹æ—¶é—´ä¹Ÿæ¯”è¾ƒæ™šäº†ï¼Œæ‰€ä»¥ä¹Ÿæ²¡åŽ»æ‰“æ‰°ä»–ï¼Œæ´—æ¼±å®Œä¹‹åŽéèººä¸ŠåºŠç¡è§‰äº†ã€‚ ç¬¬äºŒç«™ï¼Œå‡¯é‡Œ ðŸ˜„æ–°çš„ä¸€å¤©æ–°çš„å¼€å§‹ï¼Œç¬¬äºŒå¤©çš„è¡Œç¨‹æ˜¯åŽ»è¥¿æ±Ÿåƒæˆ·è‹—å¯¨ï¼Œé«˜é“ç¥¨ä¹Ÿæ˜¯ä¹‹å‰å°±è®¢å¥½äº†ï¼ŒåŒæ ·æ˜¯ä¸€å¤§æ—©åˆ°äº†é«˜é“ç«™ï¼ˆå…¶å®žä¸€ç‚¹éƒ½ä¸æ—©ðŸ˜‚ï¼‰ã€‚ è½¦è·‘å¾—å¾ˆæ…¢ï¼Œæ…¢å¾—ä¸åƒé«˜é“ï¼Œä½†æ˜¯è·¯ç¨‹å¾ˆçŸ­ï¼ŒåŠå°æ—¶çš„æ—¶é—´å°±åˆ°äº†ã€‚ ä¸€å‡ºé«˜é“ç«™ï¼Œè¿Žé¢è€Œæ¥çš„æ˜¯å„ç§æ‹‰å®¢æ‹¼è½¦çš„å¸ˆå‚…ï¼Œæˆ‘ä¹‹å‰çœ‹è¿‡æ”»ç•¥è¯´è¿‡è¿™ç§åº”è¯¥éƒ½æ˜¯éžæ³•è¥è¿çš„ï¼Œå…¶å®žé™„è¿‘å°±æœ‰æ­£è§„çš„æ—…æ¸¸ä¸“çº¿ï¼ŒäºŽæ˜¯æˆ‘è·Ÿéšå¤§å¤šæ•°æ—…å®¢çš„æ­¥ä¼ï¼ŒåŽ»é™„è¿‘çš„æœåŠ¡ç«™æŠ¥äº†ä¸ªåï¼Œç­‰å¾…åäººæˆå›¢åŽä¾¿å‘è½¦äº†ã€‚ å¤§æ¦‚ä¸€ä¸ªå¤šå°æ—¶çš„è½¦ç¨‹ï¼Œæˆ‘ä»¬å¤§æ¦‚åœ¨åäºŒç‚¹çš„æ—¶å€™åˆ°è¾¾äº†ç›®çš„åœ°ã€‚è™½ç„¶ä¸æ˜¯å¾ˆé¥¿ï¼Œä½†æ˜¯æ™¯åŒºå¤§é—¨æœ‰å¾ˆå¤šçš„å°é£Ÿæ‘Šï¼ŒäºŽæ˜¯æˆ‘å†³å®šå…ˆåƒä¸ºæ•¬ã€‚ åƒé¥±å–è¶³åŽï¼Œå‡†å¤‡è¿›å¯¨å­é‡ŒåŽ»äº†ã€‚æƒ³è¿›å¯¨ï¼Œå…ˆä¹°ç¥¨ï¼Œä¹°ç¥¨çš„æ–¹å¼å¾ˆå¤šç§ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºŽå¾®ä¿¡ã€æ”¯ä»˜å®ã€ç¾Žå›¢ã€‚ç¥¨çš„ç§ç±»ä¹Ÿå¾ˆå¤šï¼ŒåŒ…æ‹¬ä½†ä¸é™äºŽå•äººé—¨ç¥¨ã€å›¢ä½“é—¨ç¥¨ã€å•äººå¥—ç¥¨ã€å›¢ä½“å¥—ç¥¨ã€‚ä»¤æˆ‘æ„Ÿåˆ°æ„å¤–çš„ä¸€ç‚¹æ˜¯ï¼Œå¹¿ä¸œçš„èº«ä»½è¯è¿˜èƒ½äº«å—ä¼˜æƒ ï¼ ä¹°å®Œç¥¨æŽ’ä¸ªé˜Ÿå¾ˆå¿«å°±è¿›äº†å¯¨å­å…¥å£ï¼Œç„¶åŽä¼šæœ‰ä¸ªå·´å£«ä¼šç»Ÿä¸€è½½åˆ°å¯¨å­é‡Œé¢åŽ»ã€‚ åˆ°è¾¾å¯¨å­åŽå°±å¤§å®¶å°±è§£æ•£äº†ï¼Œè€Œæˆ‘å°±å…ˆå‰å¾€é¢„å®šå¥½çš„é’æ—…é‡Œé¢å…ˆåšå¥½ç™»è®°ã€‚ è™½ç„¶çœ‹ä¸ŠåŽ»æ™¯ç‚¹äººè¶…çº§å¤šï¼Œä½†æ˜¯é€‰æ‹©é’æ—…çš„æ¸¸å®¢è²Œä¼¼å¾ˆå°‘ï¼Œå‰å°å¸…å“¥å‘Šè¯‰æˆ‘ä»Šå¤©åªæœ‰ä¸‰ä¸ªäººå…¥ä½ï¼Œè€Œæˆ‘çš„æˆ¿é—´é‡Œé¢åªæœ‰ä»–å’Œæˆ‘ã€‚ðŸ˜‚é’æ—…é‡Œé¢æœ‰å‡ åªçŒ«ï¼Œä½†æ˜¯å¯èƒ½å¹³æ—¶è¢«æ’¸çƒ¦äº†ï¼Œæ‘¸ä¸€ä¸‹å°±è·‘æŽ‰äº†ï¼Œå¾ˆé«˜å†·ã€‚ çŒ«å¥½åƒæ˜¯æ’¸ä¸äº†äº†ï¼Œé‚£å°±å‡ºåŽ»é€›é€›å§ã€‚æŠŠè´µé‡çš„ç‰©å“å’Œæ—¥å¸¸ç”¨å“æ”¾è¿›å°ä¹¦åŒ…åŽï¼Œå°±å¾€å¤–èµ°äº†ï¼Œå‰å°å¸…å“¥å¾ˆè´´å¿ƒçš„è·Ÿæˆ‘è¯´å¦‚æžœæ™šä¸Šæ‰¾ä¸åˆ°è·¯å›žæ¥çš„è¯ï¼Œå°±å¾®ä¿¡ä¸€ä¸‹ä»–ï¼Œä»–ä¼šå‘ä¸ªå®šä½è¿‡æ¥ã€‚æˆ‘è®©ä»–ä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºæˆ‘æœ¬æ¥å°±æ˜¯åœ°å›¾å®šä½è¿‡æ¥çš„å“ˆå“ˆï¼Œå¯’æš„å®Œæˆ‘å°±å¤§åˆ€é˜”æ–§å¾€å¤–èµ°äº†ã€‚ è·Ÿå¤§å¤šæ•°å¤åŸŽä¸€æ ·ï¼Œå•†ä¸šåŒ–çš„æ°”æ¯å…¶å®žè¿˜æ˜¯æ»¡è¶³çš„ï¼Œä¸è¿‡è¿™æ ·æˆ‘è§‰å¾—æŒºå¥½ï¼Œè‡³å°‘å¯¨å­é‡Œé¢å°±èƒ½å¤Ÿæ»¡è¶³æ¸¸å®¢å’Œå±…æ°‘çš„æ—¥å¸¸éœ€æ±‚ï¼Œä¸ä¼šè¦ä»€ä¹ˆæ²¡ä»€ä¹ˆã€‚å¯¨å­å…¶å®žæŒºå¤§ï¼Œå†åŠ ä¸Šæ·¡å­£çš„åŽŸå› ï¼Œæ‰€ä»¥åœ¨è¡—ä¸Šçœ‹åˆ°çš„äººæµå¯†åº¦æ¯”è¾ƒä½Žã€‚ä¸è¿‡åœ¨çƒ­é—¨çš„è§‚èµç‚¹ï¼Œè¿˜æ˜¯æŒ¤æ»¡äº†ç”·å¥³è€å°‘ã€‚ ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªæ¯”è¾ƒçƒ­é—¨çš„è§‚èµç‚¹ï¼Œä»Žå¯¨å­é‡Œé¢èµ°ä¸ŠåŽ»å¤§æ¦‚è¦äºŒåæ¥åˆ†é’Ÿï¼Œå¯¨å­ä¹Ÿæä¾›è§‚èµè½¦æœåŠ¡ï¼Œå‰ä¸¤æ¬¡ï¼ˆæ¥å›žï¼‰å…è´¹ï¼ˆåŒ…å«åœ¨ç¥¨ä»·é‡Œï¼‰ï¼ŒåŽé¢å¥½åƒæ˜¯æ¯æ¬¡15å—é’±ã€‚é€›ç€é€›ç€å¾ˆå¿«å°±å·²ç»åˆ°æ™šä¸Šäº†ï¼Œé—¨ç¥¨è¿˜åŒ…å«äº†ä»Šæ™šçš„æ™šé¥­å“ˆå“ˆï¼Œæ™šé¥­åƒäº†ä»€ä¹ˆæˆ‘æ˜¯ä¸è®°å¾—äº†ï¼Œä¸è¿‡æˆå€’æ˜¯æŒºè¶³çš„ï¼Œé‡è¦çš„æ˜¯æˆ‘ä»¬ä¹Ÿèƒ½å‚ä¸Žå…¶ä¸­ã€‚ åƒé¥±çœ‹è¶³åŽæˆ‘å˜å†æ¬¡ä¹˜è½¦å‰å¾€å…¨æ™¯è§‚èµç‚¹äº†ï¼Œå› ä¸ºæ™šä¸Šçš„ç¯é¥°ä¼šæ¯”è¾ƒå¥½çœ‹ï¼Œæ‰€ä»¥æŽ’é˜Ÿçš„äººæ•°ä¹Ÿå¾ˆå¤šï¼ŒäºŽæ˜¯æˆ‘å†³å®šè·Ÿç€å¤§å¤šæ•°äººçš„æ­¥ä¼ä¸€èµ·èµ°ä¸ŠåŽ»ã€‚åˆ°äº†è§‚èµç‚¹åŽå‘çŽ°äººä¸æ˜¯ä¸€èˆ¬çš„å¤šï¼Œååˆ†è‰°éš¾çš„æŒ¤åˆ°äº†å›´æ è¾¹ï¼Œéšæ‰‹æ‹äº†ä¸€å¼ ï¼š ðŸ˜‚å…¶å®žæ˜¯åŠ äº†æ»¤é•œï¼Œä¸è¿‡è§‚èµç‚¹äººå¤ªå¤šæŒ¤æ¥æŒ¤åŽ»çš„æ‹ç…§æ˜¯çœŸä¸å®¹æ˜“ã€‚ä¸‹é¢ç»™å¤§å®¶çœ‹ä¸€ä¸‹åŽŸæ»‹åŽŸå‘³çš„å§ï¼š å–‚é¥±äº†æ‰‹æœºå°±å›žé’æ—…äº†ï¼Œå½’ç¨‹æŽ’é˜Ÿç­‰è½¦çš„äººä¾ç„¶å¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯èµ°å›žåŽ»äº†ï¼Œä¹Ÿå¥½æ…¢æ…¢çš„æ¬£èµä¸€ä¸‹å„ä¸ªè§’åº¦çš„è‹—å¯¨ã€‚æ™šä¸ŠåäºŒç‚¹å¤šå¤–é¢ä¾ç„¶å¾ˆçƒ­é—¹ï¼Œç¯ç«ä¹Ÿè¿˜å¾ˆæ—ºï¼Œä¸€ç›´åˆ°äº†ä¸€ç‚¹å¤šçš„æ—¶å€™æ‰å®‰é™ä¸‹æ¥ã€‚ ç¬¬äºŒå¤©èµ·åºŠï¼Œæ‰“åŒ…äº†è¿˜æ²¡å¹²é€çš„è¡£æœï¼Œæ”¶æ‹¾å¥½æ‰€æœ‰çš„è¡ŒæŽï¼Œå‡†å¤‡å›žè´µé˜³ç„¶åŽè½¬ä¹˜åŽ»é‡åº†çš„ç«è½¦ã€‚ä»Šå¤©é˜³å…‰æ­£å¥½ï¼Œä¸€æ‰«æ˜¨å¤©çš„é˜´éœ¾ï¼Œå‡ºé—¨çš„æ—¶å€™å¤§æ©˜å’Œå°é»‘æ­£åœ¨æ…µæ‡’çš„æ™’å¤ªé˜³ã€‚ æˆ‘é€‰æ‹©äº†æ‹¼è½¦åŽ»ç«è½¦ç«™ï¼Œè½¦ä¸Šåˆšå¥½æœ‰ä¸€å¯¹ä¸­å¹´å¤«å¦»ä¹Ÿæ˜¯åŽ»è´µé˜³çš„ï¼ŒäºŽæ˜¯è·¯ä¸Šæˆ‘ä»¬å°±èŠäº†èµ·æ¥ã€‚å¤§å“¥å¤§å§æ˜¯åŒ—æ–¹äººï¼Œåœ¨äº†å¹¿ä¸œå¼€äº†å·¥åŽ‚ï¼Œæœ€è¿‘ç”±äºŽä¸€äº›åŽŸå› å·¥åŽ‚è¦é—­åŽ‚ä¸€æ®µæ—¶é—´ï¼ŒäºŽæ˜¯å°±å‡ºæ¥çŽ©äº†ã€‚ä»–ä»¬é—®åŠæˆ‘ä¸ºä½•è´µå·žå°±èµ°è¿™ä¹ˆç‚¹åœ°æ–¹ï¼Œæˆ‘æ˜¯è·Ÿä»–ä»¬è¯´ï¼šæˆ‘æƒ³åŽ»çš„å°±å¿…é¡»åŽ»ï¼Œæ²¡è§„åˆ’åˆ°çš„ï¼Œå°±çœ‹å¿ƒæƒ…å§å“ˆå“ˆã€‚ç„¶åŽæˆ‘å†é—®ä»–ä»¬åŽé¢å‡†å¤‡åŽ»å“ªï¼Œä»–ä»¬å°±å›žç­”æˆ‘è¯´ï¼šä¸»è¦çœ‹å¿ƒæƒ…å§ï¼Œæ²¡æœ‰å¿…é¡»åŽ»çš„åœ°æ–¹ï¼Œåªè¦ä¸¤ä¸ªäººåœ¨ä¸€èµ·å°±å¥½äº†ã€‚è¿™ä¸æ˜¯æ‘†æ˜Žè™æˆ‘å—ðŸ˜‚]]></content>
      <categories>
        <category>é—²èŠ</category>
      </categories>
      <tags>
        <tag>other</tag>
      </tags>
  </entry>
</search>
